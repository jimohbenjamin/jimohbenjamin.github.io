(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"032c":function(t,e,a){},"0374":function(t,e,a){"use strict";a("4e03")},"0528":function(t,e,a){"use strict";a("5910")},"0545":function(t,e,a){},"06af":function(t,e,a){"use strict";a("529b")},"0973":function(t,e,a){"use strict";a("4f4b")},"0a1d":function(t,e,a){},"0ca2":function(t,e,a){},"0cbf":function(t,e,a){"use strict";a("b206")},"0cc7":function(t,e,a){},"0d67":function(t,e,a){"use strict";a("af49")},1:function(t,e){},10:function(t,e){},1095:function(t,e,a){"use strict";a("ebea")},11:function(t,e){},"11b5":function(t,e,a){"use strict";a("b7d5")},12:function(t,e){},"121b":function(t,e,a){},13:function(t,e){},"13bb":function(t,e,a){},14:function(t,e){},"164d":function(t,e,a){"use strict";a("0a1d")},1936:function(t,e,a){},"1b04":function(t,e,a){"use strict";a("f7f4")},"1b58":function(t,e,a){"use strict";a("9cef")},2:function(t,e){},2208:function(t,e,a){"use strict";a("9580")},"244d":function(t,e,a){},"24ae":function(t,e,a){},"25d2":function(t,e,a){"use strict";a("b57d")},2912:function(t,e,a){"use strict";a("13bb")},2946:function(t,e,a){"use strict";a("88e4")},"2ac6":function(t,e,a){"use strict";a("8ed7")},"2b61":function(t,e,a){"use strict";a("695b")},"2eac":function(t,e,a){"use strict";a("333c")},"2f8c":function(t,e,a){},"2fe5":function(t,e,a){},3:function(t,e){},"30f3":function(t,e,a){},3172:function(t,e,a){"use strict";a("46b8")},"333c":function(t,e,a){},3785:function(t,e,a){},"38ac":function(t,e,a){"use strict";a("655e")},"3b2f":function(t,e,a){"use strict";a("0545")},"3d06":function(t,e,a){},"3df2":function(t,e,a){},"3f8a":function(t,e,a){},"3fb2":function(t,e,a){"use strict";a("0cc7")},4:function(t,e){},4090:function(t,e,a){},"417e":function(t,e,a){"use strict";a("6dea")},"41ee":function(t,e,a){},4289:function(t,e,a){"use strict";a("91f4")},"435a":function(t,e,a){"use strict";a("2f8c")},"46b8":function(t,e,a){},4924:function(t,e,a){},"498e":function(t,e,a){"use strict";a("f5f6")},"4b58":function(t,e,a){"use strict";a("fb92")},"4e03":function(t,e,a){},"4f4b":function(t,e,a){},5:function(t,e){},"524c":function(t,e,a){"use strict";a("41ee")},"529b":function(t,e,a){},"52a8":function(t,e,a){},"53e6":function(t,e,a){},"541b":function(t,e,a){"use strict";a("8576")},"54e8":function(t,e,a){"use strict";a("8312")},"56d7":function(t,e,a){"use strict";a.r(e);a("45fc"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),s=a("14b7");function i(t,e,a,s,i,r){var o=Object(n["x"])("router-view");return Object(n["q"])(),Object(n["d"])(o)}var r={name:"App"};r.render=i;var o=r,c=a("5502"),l={appName:"Online Base Examination Application",loggedUser:localStorage.getItem("LOGGED_USER")||null,generalChatChannels:localStorage.getItem("GENERAL_CHAT_CHANNELS")||null,privateChatChannels:localStorage.getItem("PRIVATE_CHAT_CHANNELS")||null,prospectChatChannels:localStorage.getItem("PROSPECT_CHAT_CHANNELS")||null,examinationState:localStorage.getItem("EXAMINATION_STATE")||null},u=(a("d81d"),a("ac1f"),a("1276"),function(t){var e="",a=t.split(" ");return a.map((function(t){e+=t[0]})),e.toUpperCase()}),d={appName:function(){return l.appName},appNameAbbr:function(){return u(l.appName)},copyRightText:function(){var t=new Date;return 2020===t.getFullYear()?t.getFullYear():"2020-"+t.getFullYear()},loggedUser:function(){try{return JSON.parse(l.loggedUser)}catch(t){return{}}},generalChatChannels:function(){try{return JSON.parse(l.generalChatChannels)}catch(t){return[]}},privateChatChannels:function(){try{return JSON.parse(l.privateChatChannels)}catch(t){return[]}},prospectChatChannels:function(){try{return JSON.parse(l.prospectChatChannels)}catch(t){return[]}},examinationState:function(){try{return JSON.parse(l.examinationState)}catch(t){return{}}},notifications:function(){return[{userInfo:{profileImage:"assets/img/user.jpg",fullname:"Akugbe Ode"},action:"wrote promotion examination",subject:"Senior Doctor Promotion",timeDiff:"4 min ago",status:"unread"},{userInfo:{profileImage:"assets/img/user.jpg",fullname:"John Mikel Obi"},action:"cancelled his trip to",subject:"Abu Dhabi",timeDiff:"23 min ago",status:"read"},{userInfo:{profileImage:"assets/img/user.jpg",fullname:"John Mikel Obi"},action:"cancelled his trip to",subject:"Abu Dhabi",timeDiff:"23 min ago",status:"unread"},{userInfo:{profileImage:"assets/img/user.jpg",fullname:"John Mikel Obi"},action:"cancelled his trip to",subject:"Abu Dhabi",timeDiff:"23 min ago",status:"unread"}]},messages:function(){return[{author:{userID:1,fullname:"Kelly Igunbor"},time:"10:30 AM",content:"Hey dear",status:"unread"},{author:{userID:2,fullname:"Ode Jnr."},time:"5:30 PM",content:"Had Lunch yet??",status:"read"},{author:{userID:3,fullname:"Jimoh Benjamin"},time:"12:30 AM",content:"We are making progress...",status:"unread"},{author:{userID:4,fullname:"Dr. Dre"},time:"2:30 AM",content:"Ok.",status:"read"},{author:{userID:5,fullname:"Jimoh Benjamin"},time:"12:30 AM",content:"We are making progress...",status:"unread"},{author:{userID:6,fullname:"Dr. Dre"},time:"2:30 AM",content:"Ok.",status:"unread"}]}},m=(a("d3b7"),function(t,e){var a=t.commit;return new Promise((function(t,n){a("UPDATE_LOGIN",e);var s=!0;s?t(s):n(s)}))}),b=m,h=function(t){var e=t.commit;return new Promise((function(t,a){e("ATTEMPT_LOGOUT");var n=!0;n?t(n):a(n)}))},p=h,O=function(t,e){var a=t.commit;return new Promise((function(t,n){a("UPDATE_CHAT_CHANNELS",e);var s=!0;s?t(s):n(s)}))},f=O,g=function(t,e){var a=t.commit;return new Promise((function(t,n){a("UPDATE_EXAMINATION_STATE",e);var s=!0;s?t(s):n(s)}))},j=g,v=function(t,e){var a=t.commit;return new Promise((function(t,n){a("STOP_EXAMINATION",e);var s=!0;s?t(s):n(s)}))},I=v,D={UPDATE_LOGIN:b,ATTEMPT_LOGOUT:p,UPDATE_CHAT_CHANNELS:f,UPDATE_EXAMINATION_STATE:j,STOP_EXAMINATION:I},y=function(t,e){var a=JSON.stringify(e.loggedUser);localStorage.setItem("LOGGED_USER",a),localStorage.setItem("GENERAL_CHAT_CHANNELS",JSON.stringify([])),localStorage.setItem("PRIVATE_CHAT_CHANNELS",JSON.stringify([])),localStorage.setItem("PROSPECT_CHAT_CHANNELS",JSON.stringify([])),t.loggedUser=a},x=y,w=function(t){localStorage.removeItem("LOGGED_USER"),t.loggedUser=null},S=w,C=function(t,e){var a=JSON.stringify(e.data);"general"===e.accountType&&(localStorage.setItem("GENERAL_CHAT_CHANNELS",a),t.generalChatChannels=e.data),"prospect"===e.accountType&&(localStorage.setItem("PROSPECT_CHAT_CHANNELS",a),t.prospectChatChannels=e.data),"private"===e.accountType&&(localStorage.setItem("PRIVATE_CHAT_CHANNELS",a),t.privateChatChannels=e.data)},q=C,E=function(t,e){var a=JSON.stringify(e);localStorage.setItem("EXAMINATION_STATE",a),t.examinationState=a},k=E,U=function(t,e){console.log(t,e)},A=U,L={UPDATE_LOGIN:x,ATTEMPT_LOGOUT:S,UPDATE_CHAT_CHANNELS:q,UPDATE_EXAMINATION_STATE:k,STOP_EXAMINATION:A},T=Object(c["a"])({state:l,actions:D,mutations:L,getters:d}),M=T,R=a("6c02"),N=a("fcb6"),B=a.n(N),z=Object(n["I"])("data-v-78711074");Object(n["t"])("data-v-78711074");var P={class:"navbar navbar-dark bg-dark mb-5"},_={class:"container"},F=Object(n["h"])("img",{src:B.a,width:"50",height:"35",class:"mr-2 ml-2"},null,-1),$=Object(n["g"])(),G={class:"container"},V={class:"jumbotron"},H={class:"h4 d-flex justify-content-center"},Q=Object(n["g"])(" Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum aperiam magnam vitae. Ex distinctio sunt consequatur nihil. Voluptatum nulla unde numquam totam. Velit autem ducimus magni reiciendis et placeat voluptates. "),W={class:"row"},J={class:"col-md-12 mb-5 mt-5"},Y={class:"row"},X={class:"col-md-6 offset-md-3"},K={class:"card"},Z={class:"card-body"},tt=Object(n["h"])("h5",{class:"card-title d-flex justify-content-center"},"Administrator Access",-1),et={class:"card-text pt-3 pb-3 d-flex justify-content-center"},at=Object(n["g"])(" Administrator Login "),nt={class:"col-md-6 mt-5 mb-5"},st={class:"row"},it={class:"col-md-10 offset-md-1"},rt={class:"card"},ot={class:"card-body"},ct=Object(n["h"])("h5",{class:"card-title d-flex justify-content-center"},"Institutional Access",-1),lt={class:"card-text pt-3 pb-3 d-flex justify-content-center"},ut=Object(n["g"])(" Institution Login "),dt={class:"col-md-6 mt-5 mb-5"},mt={class:"row"},bt={class:"col-md-10 offset-md-1"},ht={class:"card"},pt={class:"card-body"},Ot=Object(n["h"])("h5",{class:"card-title d-flex justify-content-center"},"Student Access",-1),ft={class:"card-text pt-3 pb-3 d-flex justify-content-center"},gt=Object(n["g"])(" Student Login "),jt={class:"mt-5 mb-3 text-muted d-flex justify-content-center"};Object(n["r"])();var vt=z((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["h"])("nav",P,[Object(n["h"])("div",_,[Object(n["h"])(o,{to:"/",class:"navbar-brand mb-0 h3 text-light"},{default:z((function(){return[F,$,Object(n["h"])("strong",null,Object(n["z"])(r.appName),1)]})),_:1})])]),Object(n["h"])("div",G,[Object(n["h"])("div",V,[Object(n["h"])("h3",H,"Welcome to "+Object(n["z"])(r.appName)+" ("+Object(n["z"])(r.appNameAbbr)+")",1),Q]),Object(n["h"])("div",W,[Object(n["h"])("div",J,[Object(n["h"])("div",Y,[Object(n["h"])("div",X,[Object(n["h"])("div",K,[Object(n["h"])("div",Z,[tt,Object(n["h"])("p",et,[Object(n["h"])(o,{class:"btn btn-success",to:{name:"AdministratorLogin"}},{default:z((function(){return[at]})),_:1})])])])])])]),Object(n["h"])("div",nt,[Object(n["h"])("div",st,[Object(n["h"])("div",it,[Object(n["h"])("div",rt,[Object(n["h"])("div",ot,[ct,Object(n["h"])("p",lt,[Object(n["h"])(o,{class:"btn btn-success",to:{name:"InstitutionalLogin"}},{default:z((function(){return[ut]})),_:1})])])])])])]),Object(n["h"])("div",dt,[Object(n["h"])("div",mt,[Object(n["h"])("div",bt,[Object(n["h"])("div",ht,[Object(n["h"])("div",pt,[Ot,Object(n["h"])("p",ft,[Object(n["h"])(o,{class:"btn btn-success",to:{name:"StudentsLogin"}},{default:z((function(){return[gt]})),_:1})])])])])])])]),Object(n["h"])("p",jt,[Object(n["h"])(o,{to:"/"},{default:z((function(){return[Object(n["g"])(Object(n["z"])(r.appName),1)]})),_:1}),Object(n["g"])(", © "+Object(n["z"])(r.copyRightText)+".",1)])])])})),It={name:"Home",computed:{appName:function(){return this.$store.getters.appName},appNameAbbr:function(){return this.$store.getters.appNameAbbr},copyRightText:function(){return this.$store.getters.copyRightText}}};a("1b04");It.render=vt,It.__scopeId="data-v-78711074";var Dt=It,yt=Object(n["I"])("data-v-1c86f386");Object(n["t"])("data-v-1c86f386");var xt={class:"main-wrapper account-wrapper"},wt={class:"account-page"},St={class:"account-center"},Ct={class:"account-box"},qt={class:"form-signin"},Et={class:"account-logo"},kt=Object(n["h"])("div",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-user-cog fa-5x"})],-1),Ut=Object(n["h"])("div",{class:"h4"},"Root Administrator Account",-1),At={class:"form-group"},Lt=Object(n["h"])("label",null,"Fullname",-1),Tt={class:"form-group"},Mt=Object(n["h"])("label",null,"Email Address",-1),Rt={class:"form-group"},Nt=Object(n["h"])("label",null,"Password",-1),Bt={class:"form-group"},zt=Object(n["h"])("label",null,"Role",-1),Pt={class:"form-group"},_t=Object(n["h"])("label",null,"Account Type",-1),Ft={class:"form-group text-center"},$t=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Gt=Object(n["g"])(" Loading... "),Vt={class:"text-center login-link"},Ht=Object(n["g"])(" Account already exist? "),Qt=Object(n["g"])("Login");Object(n["r"])();var Wt=yt((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",xt,[Object(n["h"])("div",wt,[Object(n["h"])("div",St,[Object(n["h"])("div",Ct,[Object(n["h"])("form",qt,[Object(n["h"])("div",Et,[Object(n["h"])(o,{to:{name:"RegisterRootAdministratorAccount"}},{default:yt((function(){return[kt,Ut]})),_:1})]),Object(n["h"])("div",At,[Lt,Object(n["G"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.fullname=t}),readonly:""},null,512),[[n["D"],i.fullname]])]),Object(n["h"])("div",Tt,[Mt,Object(n["G"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.email=t}),readonly:""},null,512),[[n["D"],i.email]])]),Object(n["h"])("div",Rt,[Nt,Object(n["G"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return i.password=t}),readonly:""},null,512),[[n["D"],i.password]])]),Object(n["h"])("div",Bt,[zt,Object(n["G"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.userRole=t}),readonly:""},null,512),[[n["D"],i.userRole]])]),Object(n["h"])("div",Pt,[_t,Object(n["G"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=function(t){return i.accountType=t}),readonly:""},null,512),[[n["D"],i.accountType]])]),Object(n["h"])("div",Ft,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[$t,Gt],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[6]||(e[6]=Object(n["H"])((function(){return r.attemptRegisteration&&r.attemptRegisteration.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Register"))]),Object(n["h"])("div",Vt,[Ht,Object(n["h"])(o,{to:{name:"AdministratorLogin"}},{default:yt((function(){return[Qt]})),_:1})])])])])])])})),Jt=(a("4160"),a("159b"),a("2591")),Yt=(a("e71f"),{apiKey:"AIzaSyCqAKuIy5yjBuaZFwyTSLKl7wi6_zZLEq8",authDomain:"obea-8d649.firebaseapp.com",projectId:"obea-8d649",storageBucket:"obea-8d649.appspot.com",messagingSenderId:"878062662562",appId:"1:878062662562:web:cf980f52a641c46cd7b8fb",measurementId:"G-9JQ06FFQV6"}),Xt=Yt;Jt["a"].initializeApp(Xt);var Kt=Jt["a"].firestore(),Zt=Jt["a"].auth(),te=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},ee=a("9612"),ae={name:"RegisterRootAdministratorAccount",data:function(){return{isLoading:!1,fullname:"System Administrator",email:"root@obeausers.com",password:"P@$$w0rd",userRole:"super user",accountType:"system administrator",root:{}}},methods:{attemptRegisteration:function(){var t=this;this.isLoading=!0,te(this.root)?Zt.createUserWithEmailAndPassword(this.email,this.password).then((function(){var e=ee["a"].v1();Kt.collection("system_administrators").add({userID:e,fullname:t.fullname,email:t.email,userRole:t.userRole,accountType:t.accountType,phone:"---",createdOn:(new Date).getTime()}).then((function(a){console.log(a);var n=ee["a"].v4();Kt.collection("chat_accounts").add({accountID:n,userID:e,accountType:"private",userType:t.userRole,referenced_db:"system_administrators",referenceName:""}).then((function(t){console.log(t)})).catch((function(e){t.isLoading=!1,alert(e.message)}));var s=ee["a"].v1();Kt.collection("system_administrators").add({userID:s,fullname:"OBEA General",email:"general@obeausers.com",userRole:"obea chat channel",accountType:t.accountType,phone:"---",createdOn:(new Date).getTime()}).then((function(t){console.log(t)})).catch((function(e){t.isLoading=!1,alert(e.message)}));var i=ee["a"].v4();Kt.collection("chat_accounts").add({accountID:i,userID:s,accountType:"general",userType:"obea chat channel",referenced_db:"system_administrators",referenceName:"OBEA#General"}).then((function(e){console.log(e),t.isLoading=!1,t.$router.push({name:"AdministratorLogin"})})).catch((function(e){t.isLoading=!1,alert(e.message)}))})).catch((function(e){t.isLoading=!1,alert(e.message)}))}),(function(e){t.isLoading=!1,alert(e.message)})):alert("Welcome ".concat(this.root.fullname,", please login with the email and password showing on the form."))}},created:function(){var t=this;Kt.collection("system_administrators").where("email","==",this.email).get().then((function(e){e.forEach((function(e){t.root.userID=e.data().userID,t.root.fullname=e.data().fullname,t.root.email=e.data().email,t.root.userRole=e.data().userRole,t.root.accountType=e.data().accountType}))})).catch()}};a("f282");ae.render=Wt,ae.__scopeId="data-v-1c86f386";var ne=ae;function se(t,e,a,s,i,r){var o=Object(n["x"])("router-view");return Object(n["q"])(),Object(n["d"])(o)}var ie={name:"Administrator"};ie.render=se;var re=ie,oe=Object(n["I"])("data-v-32e807f6");Object(n["t"])("data-v-32e807f6");var ce={class:"main-wrapper account-wrapper"},le={class:"account-page"},ue={class:"account-center"},de={class:"account-box"},me={class:"form-signin"},be={class:"account-logo"},he=Object(n["h"])("div",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-user-cog fa-5x"})],-1),pe=Object(n["h"])("div",{class:"h4"},"Administrator Login",-1),Oe={class:"form-group"},fe=Object(n["h"])("label",null,"Email",-1),ge={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},je={class:"form-group"},ve=Object(n["h"])("label",null,"Password",-1),Ie={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},De=Object(n["h"])("div",{class:"form-group text-right"},null,-1),ye={class:"form-group text-center"},xe=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),we=Object(n["g"])(" Loading... "),Se={class:"form-group text-center"},Ce=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),qe=Object(n["g"])("Back");Object(n["r"])();var Ee=oe((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",ce,[Object(n["h"])("div",le,[Object(n["h"])("div",ue,[Object(n["h"])("div",de,[Object(n["h"])("form",me,[Object(n["h"])("div",be,[Object(n["h"])(o,{to:{name:"AdministratorLogin"}},{default:oe((function(){return[he,pe]})),_:1})]),Object(n["h"])("div",Oe,[fe,Object(n["G"])(Object(n["h"])("input",{type:"email",onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("email")}),autofocus:"",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",ge,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)]),Object(n["h"])("div",je,[ve,Object(n["G"])(Object(n["h"])("input",{type:"password",onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("password")}),class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.password=t})},null,544),[[n["D"],i.form.password]]),i.errors.password?(Object(n["q"])(),Object(n["d"])("small",Ie,Object(n["z"])(i.errors.password),1)):Object(n["e"])("",!0)]),De,Object(n["h"])("div",ye,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[xe,we],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[5]||(e[5]=Object(n["H"])((function(){return r.attemptLogin&&r.attemptLogin.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Login"))]),Object(n["h"])("div",Se,[Object(n["h"])(o,{to:"/",class:"btn btn-outline-secondary"},{default:oe((function(){return[Ce,qe]})),_:1})])])])])])])})),ke=(a("25f0"),{name:"Login",data:function(){return{isLoading:!1,form:{email:"",password:""},errors:{email:"",password:"",message:""},loggedUserDetails:{},expectedAccountType:"system administrator"}},methods:{attemptLogin:function(){var t=this;this.isLoading=!0,this.validateForm()?Zt.signInWithEmailAndPassword(this.form.email,this.form.password).then((function(e){console.log("Login Response: ".concat(e)),Kt.collection("system_administrators").where("email","==",t.form.email).get().then((function(e){e.forEach((function(e){t.loggedUserDetails.userID=e.data().userID,t.loggedUserDetails.fullname=e.data().fullname,t.loggedUserDetails.email=e.data().email,t.loggedUserDetails.userRole=e.data().userRole,t.loggedUserDetails.accountType=e.data().accountType})),t.$store.dispatch("UPDATE_LOGIN",{loggedUser:t.loggedUserDetails}).then((function(){t.loggedUserDetails.accountType===t.expectedAccountType?t.$router.push({name:"AdministratorDashboard",params:{administratorID:t.loggedUserDetails.userID}}):(t.form.email="",t.form.password="",alert("You are NOT an administrator. Please login using the appropriate channel!!!"),t.attemptLogout()),t.isLoading=!1})).catch((function(e){console.log("ADMINISTRATOR LOGIN STORE ERROR:",e),t.isLoading=!1}))})),t.isLoading=!1}),(function(e){t.isLoading=!1,alert(e.message)})):this.isLoading=!1},attemptLogout:function(){var t=this;Zt.signOut().then((function(){t.$store.dispatch("ATTEMPT_LOGOUT").then((function(){t.$router.push({name:"AdministratorLogin"})})).catch((function(t){console.log(t)}))}))},validateForm:function(){return this.form.email||(this.errors.email="Email is required!"),this.form.password||(this.errors.password="Password is required!"),!(!this.form.email||!this.form.password)},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}}});a("c03f");ke.render=Ee,ke.__scopeId="data-v-32e807f6";var Ue=ke,Ae=Object(n["I"])("data-v-0d2c7c40");Object(n["t"])("data-v-0d2c7c40");var Le={class:"main-viewer"},Te={class:"main-wrapper"},Me={class:"page-wrapper"},Re={class:"content"},Ne={class:"row"},Be={class:"col-md-4 col-sm-4 col-lg-4 offset-md-1 offset-sm-1 offset-lg-1 mt-5 mb-5"},ze={class:"dash-widget"},Pe=Object(n["h"])("h3",{class:"mb-3"},"Registered Institution Logs",-1),_e=Object(n["h"])("span",{class:"dash-widget-bg1"},[Object(n["h"])("i",{class:"fas fa-university"})],-1),Fe={class:"dash-widget-info text-right"},$e=Object(n["h"])("span",{class:"widget-title1"},[Object(n["g"])("Registered Institutions "),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),Ge={class:"col-md-4 col-sm-4 col-lg-4 offset-md-2 offset-sm-2 offset-lg-2 mt-5 mb-5"},Ve={class:"dash-widget"},He=Object(n["h"])("h3",{class:"mb-3"},"Active Institution Logs",-1),Qe=Object(n["h"])("span",{class:"dash-widget-bg2"},[Object(n["h"])("i",{class:"fas fa-university"})],-1),We={class:"dash-widget-info text-right"},Je=Object(n["h"])("span",{class:"widget-title2"},[Object(n["g"])("Active Institutions"),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),Ye={class:"col-md-4 col-sm-4 col-lg-4 offset-md-1 offset-sm-1 offset-lg-1 mt-5 mb-5"},Xe={class:"dash-widget"},Ke=Object(n["h"])("h3",{class:"mb-3"},"Suspended Institution Logs",-1),Ze=Object(n["h"])("span",{class:"dash-widget-bg4"},[Object(n["h"])("i",{class:"fas fa-university"})],-1),ta={class:"dash-widget-info text-right"},ea=Object(n["h"])("span",{class:"widget-title4"},[Object(n["g"])("Suspend Institutions"),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),aa={class:"col-md-4 col-sm-4 col-lg-4 offset-md-2 offset-sm-2 offset-lg-2 mt-5 mb-5"},na={class:"dash-widget"},sa=Object(n["h"])("h3",{class:"mb-3"},"Registered Administrator Accounts",-1),ia=Object(n["h"])("span",{class:"dash-widget-bg1"},[Object(n["h"])("i",{class:"fas fa-user-cog"})],-1),ra={class:"dash-widget-info text-right"},oa=Object(n["h"])("span",{class:"widget-title1"},[Object(n["g"])("Administrative Users"),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),ca=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var la=Ae((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Le,[Object(n["h"])("div",Te,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Me,[Object(n["h"])("div",Re,[Object(n["h"])("div",Ne,[Object(n["h"])("div",Be,[Object(n["h"])("div",ze,[Pe,_e,Object(n["h"])("div",Fe,[Object(n["h"])("h3",null,Object(n["z"])(i.institutions.length),1),$e])])]),Object(n["h"])("div",Ge,[Object(n["h"])("div",Ve,[He,Qe,Object(n["h"])("div",We,[Object(n["h"])("h3",null,Object(n["z"])(r.getActiveAccountCount()),1),Je])])]),Object(n["h"])("div",Ye,[Object(n["h"])("div",Xe,[Ke,Ze,Object(n["h"])("div",ta,[Object(n["h"])("h3",null,Object(n["z"])(r.getSuspendedAccountCount()),1),ea])])]),Object(n["h"])("div",aa,[Object(n["h"])("div",na,[sa,ia,Object(n["h"])("div",ra,[Object(n["h"])("h3",null,Object(n["z"])(i.users.length),1),oa])])])])]),Object(n["h"])(l)])]),ca])})),ua=(a("b0c0"),a("c121")),da=a.n(ua),ma=Object(n["I"])("data-v-2f17da13");Object(n["t"])("data-v-2f17da13");var ba={class:"header"},ha={class:"header-left"},pa=Object(n["h"])("i",{class:"fas fa-user-cog fa-2x"},null,-1),Oa=Object(n["g"])(),fa={class:"h6 pt-2"},ga=Object(n["h"])("i",{class:"fa fa-bars"},null,-1),ja={class:"nav user-menu float-right"},va={class:"nav-item dropdown d-none d-sm-block"},Ia=Object(n["h"])("i",{class:"fa fa-bell"},null,-1),Da=Object(n["g"])(),ya={key:0,class:"badge badge-pill bg-danger float-right"},xa={class:"nav-item dropdown d-none d-sm-block"},wa=Object(n["h"])("i",{class:"fa fa-comment"},null,-1),Sa=Object(n["g"])(),Ca={key:0,class:"badge badge-pill bg-danger float-right"},qa={class:"nav-item dropdown has-arrow"},Ea={class:"user-img"},ka=Object(n["h"])("span",{class:"status online"},null,-1),Ua={class:"dropdown-menu"},Aa=Object(n["g"])("My Profile"),La=Object(n["g"])("Edit Profile"),Ta={class:"dropdown mobile-user-menu float-right"},Ma=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),Ra={class:"dropdown-menu dropdown-menu-right"},Na=Object(n["g"])("My Profile"),Ba=Object(n["g"])("Edit Profile");Object(n["r"])();var za=ma((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link"),c=Object(n["x"])("page-notifications");return Object(n["q"])(),Object(n["d"])("div",ba,[Object(n["h"])("div",ha,[Object(n["h"])(o,{to:{name:"AdministratorDashboard",params:{administratorID:i.administratorID}},class:"logo"},{default:ma((function(){return[pa,Oa,Object(n["h"])("span",fa,Object(n["z"])(r.appNameAbbr)+" System Admin.",1)]})),_:1},8,["to"])]),Object(n["h"])("a",{id:"mobile_btn",onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.toggleMobileMenuOption&&r.toggleMobileMenuOption.apply(r,arguments)}),["prevent"])),class:"mobile_btn float-left",href:"#sidebar"},[ga]),Object(n["h"])("ul",ja,[Object(n["h"])("li",va,[Object(n["h"])("a",{onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.toggleUserOptionMenu&&r.toggleUserOptionMenu.apply(r,arguments)}),["prevent"])),class:"dropdown-toggle nav-link","data-toggle":"dropdown"},[Ia,Da,r.unreadNotificationsCount>0?(Object(n["q"])(),Object(n["d"])("span",ya,Object(n["z"])(r.unreadNotificationsCount),1)):Object(n["e"])("",!0)]),Object(n["h"])(c,{class:"dropdown-menu notifications","x-placement":"top-start",style:{position:"absolute","will-change":"transform",top:"50px",left:"0px",transform:"translate3d(-171px, 5px, 0px)"}})]),Object(n["h"])("li",xa,[Object(n["h"])("a",{onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.toggleShowMessageBox&&r.toggleShowMessageBox.apply(r,arguments)}),["prevent"])),id:"open_msg_box",class:"hasnotifications nav-link"},[wa,Sa,r.unreadMessagesCount>0?(Object(n["q"])(),Object(n["d"])("span",Ca,Object(n["z"])(r.unreadMessagesCount),1)):Object(n["e"])("",!0)])]),Object(n["h"])("li",qa,[Object(n["h"])("a",{onClick:e[4]||(e[4]=Object(n["H"])((function(){return r.toggleUserOptionMenu&&r.toggleUserOptionMenu.apply(r,arguments)}),["prevent"])),class:"dropdown-toggle nav-link user-link","data-toggle":"dropdown"},[Object(n["h"])("span",Ea,[Object(n["h"])("img",{class:"rounded-circle",title:r.loggedUserFullname,src:da.a,width:"24",alt:""},null,8,["title"]),ka]),Object(n["h"])("span",{class:"pr-2 pl-2",title:r.loggedUserFullname},[Object(n["h"])("strong",null,Object(n["z"])(r.loggedUserInitials),1)],8,["title"])]),Object(n["h"])("div",Ua,[Object(n["h"])(o,{class:"dropdown-item",to:{name:"AdministratorProfile",params:{administratorID:i.administratorID}}},{default:ma((function(){return[Aa]})),_:1},8,["to"]),Object(n["h"])(o,{class:"dropdown-item",to:{name:"AdministratorProfileEditor",params:{administratorID:i.administratorID}}},{default:ma((function(){return[La]})),_:1},8,["to"]),Object(n["h"])("a",{class:"dropdown-item",onClick:e[5]||(e[5]=Object(n["H"])((function(){return r.attemptLogout&&r.attemptLogout.apply(r,arguments)}),["prevent"]))},"Logout")])])]),Object(n["h"])("div",Ta,[Object(n["h"])("a",{onClick:e[6]||(e[6]=Object(n["H"])((function(){return r.toggleUserOptionMenu&&r.toggleUserOptionMenu.apply(r,arguments)}),["prevent"])),class:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false"},[Ma]),Object(n["h"])("div",Ra,[Object(n["h"])(o,{class:"dropdown-item",to:{name:"AdministratorProfile",params:{administratorID:i.administratorID}}},{default:ma((function(){return[Na]})),_:1},8,["to"]),Object(n["h"])(o,{class:"dropdown-item",to:{name:"AdministratorProfileEditor",params:{administratorID:i.administratorID}}},{default:ma((function(){return[Ba]})),_:1},8,["to"]),Object(n["h"])("a",{class:"dropdown-item",onClick:e[7]||(e[7]=Object(n["H"])((function(){return r.attemptLogout&&r.attemptLogout.apply(r,arguments)}),["prevent"]))},"Logout")])])])})),Pa=(a("99af"),function(t){var e=t.split(" ");return e.length>1?"".concat(e[0][0].toUpperCase()).concat(e[1][0].toUpperCase()):"".concat(e[0][0].toUpperCase()).concat(e[0][1].toUpperCase())}),_a=Object(n["I"])("data-v-d012d758");Object(n["t"])("data-v-d012d758");var Fa={class:"dropdown-menu notifications"},$a=Object(n["h"])("div",{class:"topnav-dropdown-header"},[Object(n["h"])("span",null,"Notifications")],-1),Ga={class:"drop-scroll"},Va={class:"notification-list"},Ha={href:"activities.html"},Qa={class:"media"},Wa={class:"avatar"},Ja={class:"media-body"},Ya={class:"noti-details"},Xa={class:"noti-title"},Ka={class:"noti-title"},Za={class:"noti-time"},tn={class:"notification-time"},en=Object(n["h"])("div",{class:"topnav-dropdown-footer"},[Object(n["h"])("a",{href:"activities.html"},"View all Notifications")],-1);Object(n["r"])();var an=_a((function(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",Fa,[$a,Object(n["h"])("div",Ga,[Object(n["h"])("ul",Va,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.notifications,(function(t,e){return Object(n["q"])(),Object(n["d"])("li",{class:"notification-message",key:e},[Object(n["h"])("a",Ha,[Object(n["h"])("div",Qa,[Object(n["h"])("span",Wa,[Object(n["h"])("img",{alt:t.userInfo.fullname,src:t.userInfo.profileImage,class:"img-fluid"},null,8,["alt","src"])]),Object(n["h"])("div",Ja,[Object(n["h"])("p",Ya,[Object(n["h"])("span",Xa,Object(n["z"])(t.userInfo.fullname),1),Object(n["g"])(" "+Object(n["z"])(t.action)+" ",1),Object(n["h"])("span",Ka,Object(n["z"])(t.subject),1)]),Object(n["h"])("p",Za,[Object(n["h"])("span",tn,Object(n["z"])(t.timeDiff),1)])])])])])})),128))])]),en])})),nn={name:"HeaderNotification",computed:{notifications:function(){return this.$store.getters.notifications}}};a("8730");nn.render=an,nn.__scopeId="data-v-d012d758";var sn=nn,rn={name:"PageHeader",components:{"page-notifications":sn},data:function(){return{administratorID:null,expectedAccountType:"system administrator"}},computed:{appNameAbbr:function(){return this.$store.getters.appNameAbbr},loggedUserDetails:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUserDetails.fullname},loggedUserInitials:function(){return Pa(this.loggedUserFullname)},notifications:function(){return this.$store.getters.notifications},unreadNotificationsCount:function(){var t=0;return this.notifications.map((function(e){"unread"===e.status&&(t+=1)})),t},messages:function(){return this.$store.getters.messages},unreadMessagesCount:function(){var t=0;return this.messages.map((function(e){"unread"===e.status&&(t+=1)})),t}},methods:{attemptLogout:function(){var t=this;Zt.signOut().then((function(){t.$store.dispatch("ATTEMPT_LOGOUT").then((function(){t.$router.push({name:"Home"})})).catch((function(t){console.log(t)}))}))},toggleMobileMenuOption:function(){window.EventBus.emit("page-header-mobile-menu")},toggleUserOptionMenu:function(t){var e=this.getTargetElement(t);e&&e.classList.contains("dropdown-toggle")&&(e.nextElementSibling.classList.contains("show")?e.nextElementSibling.classList.remove("show"):e.nextElementSibling.classList.add("show"))},toggleShowMessageBox:function(){window.EventBus.emit("page-header-message-box")},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null}},created:function(){this.administratorID=this.$route.params.administratorID},mounted:function(){this.loggedUserDetails.accountType!==this.expectedAccountType&&(alert("You are NOT allowed to view this page!!!"),this.attemptLogout())}};a("d12d");rn.render=za,rn.__scopeId="data-v-2f17da13";var on=rn,cn=Object(n["I"])("data-v-0b2ab274");Object(n["t"])("data-v-0b2ab274");var ln={class:"sidebar",id:"sidebar"},un={class:"sidebar-inner slimscroll"},dn={id:"sidebar-menu",class:"sidebar-menu"},mn=Object(n["h"])("li",{class:"menu-title"},"Main",-1),bn=Object(n["h"])("i",{class:"fas fa-tachometer-alt"},null,-1),hn=Object(n["g"])(),pn=Object(n["h"])("span",null,"Dashboard",-1),On=Object(n["h"])("i",{class:"fa fa-bell"},null,-1),fn=Object(n["g"])(),gn=Object(n["h"])("span",null,"Activities",-1),jn=Object(n["h"])("i",{class:"fa fa-comment"},null,-1),vn=Object(n["g"])(),In=Object(n["h"])("span",null,"Chats",-1),Dn={class:"submenu"},yn=Object(n["h"])("i",{class:"fas fa-university"},null,-1),xn=Object(n["g"])(),wn=Object(n["h"])("span",null,"Institutions",-1),Sn=Object(n["g"])(),Cn=Object(n["h"])("span",{class:"menu-arrow"},null,-1),qn={style:{display:"none"}},En=Object(n["g"])(" Registered Institutions "),kn=Object(n["g"])(" Register Institution "),Un={key:1,class:"submenu"},An=Object(n["h"])("i",{class:"fas fa-users"},null,-1),Ln=Object(n["g"])(),Tn=Object(n["h"])("span",null,"Accounts",-1),Mn=Object(n["g"])(),Rn=Object(n["h"])("span",{class:"menu-arrow"},null,-1),Nn={style:{display:"none"}},Bn=Object(n["g"])(" Administrative Users "),zn=Object(n["g"])(" Create Account ");Object(n["r"])();var Pn=cn((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",ln,[Object(n["h"])("div",un,[Object(n["h"])("div",dn,[Object(n["h"])("ul",null,[mn,Object(n["h"])("li",{class:{active:"dashboard"===a.active}},[Object(n["h"])(o,{to:{name:"AdministratorDashboard",params:{administratorID:i.administratorID}}},{default:cn((function(){return[bn,hn,pn]})),_:1},8,["to"])],2),r.isSuperUser?(Object(n["q"])(),Object(n["d"])("li",{key:0,class:{active:"activities"===a.active}},[Object(n["h"])(o,{to:{name:"AdministratorActivities",params:{administratorID:i.administratorID}}},{default:cn((function(){return[On,fn,gn]})),_:1},8,["to"])],2)):Object(n["e"])("",!0),Object(n["h"])("li",{class:{active:"chats"===a.active}},[Object(n["h"])(o,{to:{name:"AdministratorChats",params:{administratorID:i.administratorID,chatMateID:i.applicationGeneralChatChannel.accountID}}},{default:cn((function(){return[jn,vn,In]})),_:1},8,["to"])],2),Object(n["h"])("li",Dn,[Object(n["h"])("a",{onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.toggleSubmenu&&r.toggleSubmenu.apply(r,arguments)}),["prevent"]))},[yn,xn,wn,Sn,Cn]),Object(n["h"])("ul",qn,[Object(n["h"])("li",{class:{active:"registered institutions"===a.active}},[Object(n["h"])(o,{to:{name:"RegisteredInstitutions",params:{administratorID:i.administratorID}}},{default:cn((function(){return[En]})),_:1},8,["to"])],2),Object(n["h"])("li",{class:{active:"register institution"===a.active}},[Object(n["h"])(o,{to:{name:"RegisterInstitution",params:{administratorID:i.administratorID}}},{default:cn((function(){return[kn]})),_:1},8,["to"])],2)])]),r.isSuperUser?(Object(n["q"])(),Object(n["d"])("li",Un,[Object(n["h"])("a",{onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.toggleSubmenu&&r.toggleSubmenu.apply(r,arguments)}),["prevent"]))},[An,Ln,Tn,Mn,Rn]),Object(n["h"])("ul",Nn,[Object(n["h"])("li",{class:{active:"administrative users"===a.active}},[Object(n["h"])(o,{to:{name:"AdministrativeUsers",params:{administratorID:i.administratorID}}},{default:cn((function(){return[Bn]})),_:1},8,["to"])],2),Object(n["h"])("li",{class:{active:"create user"===a.active}},[Object(n["h"])(o,{to:{name:"CreateAdministrator",params:{administratorID:i.administratorID}}},{default:cn((function(){return[zn]})),_:1},8,["to"])],2)])])):Object(n["e"])("",!0)])])])])})),_n=(a("96cf"),a("1da1")),Fn={name:"PageMenu",props:{active:{type:String,required:!0}},data:function(){return{administratorID:null,applicationGeneralChatChannel:{}}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},isSuperUser:function(){return"super user"===this.loggedUserDetails.userRole}},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.administratorID=t.$route.params.administratorID,e.next=3,Kt.collection("chat_accounts").get().then(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.forEach((function(e){"obea chat channel"===e.data().userType&&(t.applicationGeneralChatChannel.accountID=e.data().accountID,t.applicationGeneralChatChannel.userID=e.data().userID,t.applicationGeneralChatChannel.accountType=e.data().accountType,t.applicationGeneralChatChannel.userType=e.data().userType,t.applicationGeneralChatChannel.referenced_db=e.data().referenced_db,t.applicationGeneralChatChannel.referenceName=e.data().referenceName)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})))()},methods:{toggleSubmenu:function(t){var e=this.getTargetElement(t);e.parentNode.classList.contains("submenu")&&(e.classList.contains("subdrop")?(e.classList.remove("subdrop"),e.nextElementSibling.style.display="none"):(e.classList.add("subdrop"),e.nextElementSibling.style.display="block"))},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null}}};a("a5d4");Fn.render=Pn,Fn.__scopeId="data-v-0b2ab274";var $n=Fn,Gn=Object(n["I"])("data-v-dbdf1604");Object(n["t"])("data-v-dbdf1604");var Vn={class:"notification-box"},Hn={class:"msg-sidebar notifications msg-noti"},Qn=Object(n["h"])("div",{class:"topnav-dropdown-header"},[Object(n["h"])("span",null,"Messages")],-1),Wn={class:"drop-scroll msg-list-scroll",id:"msg_list"},Jn={class:"list-box"},Yn={class:"list-item"},Xn={class:"list-left"},Kn={class:"avatar"},Zn={class:"list-body"},ts={class:"message-author"},es={class:"message-time"},as=Object(n["h"])("div",{class:"clearfix"},null,-1),ns={class:"message-content"},ss=Object(n["h"])("div",{class:"topnav-dropdown-footer"},[Object(n["h"])("a",{href:"chat.html"},"See all messages")],-1);Object(n["r"])();var is=Gn((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",Vn,[Object(n["h"])("div",Hn,[Qn,Object(n["h"])("div",Wn,[Object(n["h"])("ul",Jn,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.messages,(function(t,e){return Object(n["q"])(),Object(n["d"])("li",{key:e},[Object(n["h"])(o,{to:{name:"AdministratorChats",params:{administratorID:i.administratorID,chatMateID:t.author.userID}}},{default:Gn((function(){return[Object(n["h"])("div",Yn,[Object(n["h"])("div",Xn,[Object(n["h"])("span",Kn,Object(n["z"])(r.getAvatar(t.author.fullname)),1)]),Object(n["h"])("div",Zn,[Object(n["h"])("span",ts,Object(n["z"])(t.author.fullname),1),Object(n["h"])("span",es,Object(n["z"])(t.time),1),as,Object(n["h"])("span",ns,Object(n["z"])(t.content),1)])])]})),_:2},1032,["to"])])})),128))])]),ss])])})),rs={name:"PageMessages",data:function(){return{administratorID:null}},computed:{messages:function(){return this.$store.getters.messages}},methods:{getAvatar:function(t){return u(t)}},created:function(){this.administratorID=this.$route.params.administratorID}};a("a32d");rs.render=is,rs.__scopeId="data-v-dbdf1604";var os=rs,cs={name:"Dashboard",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{active:"dashboard",institutions:[],users:[]}},computed:{appName:function(){return this.$store.getters.appName},appNameAbbr:function(){return this.$store.getters.appNameAbbr}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},getActiveAccountCount:function(){var t=0;return this.institutions.map((function(e){1===e.status&&(t+=1)})),t},getSuspendedAccountCount:function(){var t=0;return this.institutions.map((function(e){0===e.status&&(t+=1)})),t}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;Kt.collection("system_administrators").orderBy("fullname").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType};t.users.push(a)}))})),Kt.collection("institutions").orderBy("name").get().then((function(e){e.forEach((function(e){var a={id:e.id,institutionID:e.data().institutionID,name:e.data().name,avatar:e.data().avatar,email:e.data().email,phone:e.data().phone,registrationNumber:e.data().registrationNumber,address:e.data().address,country:e.data().country,stateProvince:e.data().stateProvince,city:e.data().city,accountType:e.data().accountType,status:e.data().status,createdOn:e.data().createdOn};t.institutions.push(a)}))}))}};a("6b43");cs.render=la,cs.__scopeId="data-v-0d2c7c40";var ls=cs,us=Object(n["I"])("data-v-3d0388aa");Object(n["t"])("data-v-3d0388aa");var ds={class:"main-viewer"},ms={class:"main-wrapper"},bs={class:"page-wrapper"},hs={class:"content"},ps=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Register New Institution")]),Object(n["h"])("div",{class:"col-sm-8 col-9 text-right m-b-20"})],-1),Os={class:"row"},fs={class:"col-lg-8 offset-lg-2"},gs={class:"row"},js={class:"col-sm-12"},vs={class:"form-group"},Is=Object(n["h"])("label",null,"Institution ID",-1),Ds={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ys={class:"row"},xs={class:"col-sm-6"},ws={class:"form-group"},Ss=Object(n["h"])("label",null,[Object(n["g"])("Name "),Object(n["h"])("span",{class:"text-danger"})],-1),Cs={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},qs={class:"col-sm-6"},Es={class:"form-group"},ks=Object(n["h"])("label",null,[Object(n["g"])("Email "),Object(n["h"])("span",{class:"text-danger"})],-1),Us={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},As={class:"col-sm-6"},Ls={class:"form-group"},Ts=Object(n["h"])("label",null,"Phone",-1),Ms={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Rs={class:"col-sm-6"},Ns={class:"form-group"},Bs=Object(n["h"])("label",null,[Object(n["g"])("Reg. Number "),Object(n["h"])("span",{class:"text-danger"})],-1),zs={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Ps={class:"row"},_s={class:"col-sm-12"},Fs={class:"form-group"},$s=Object(n["h"])("label",null,"Address",-1),Gs={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Vs={class:"row"},Hs={class:"col-sm-4 col-md-4 col-lg-4"},Qs={class:"form-group"},Ws=Object(n["h"])("label",null,"Country",-1),Js=Object(n["h"])("option",{value:""},"Select Country",-1),Ys=Object(n["h"])("option",{value:"Ireland"},"Ireland",-1),Xs={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Ks={class:"col-sm-4 col-md-4 col-lg-4"},Zs={class:"form-group"},ti=Object(n["h"])("label",null,"City",-1),ei={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ai={class:"col-sm-4 col-md-4 col-lg-4"},ni={class:"form-group"},si=Object(n["h"])("label",null,"State/Province",-1),ii=Object(n["h"])("option",{value:""},"Select State/Province",-1),ri=Object(n["h"])("option",{value:"Dublin"},"Dublin",-1),oi=Object(n["h"])("option",{value:"Corks"},"Cork",-1),ci=Object(n["h"])("option",{value:"Corks"},"Limerick",-1),li={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ui={class:"row"},di={class:"col-sm-6"},mi={class:"form-group"},bi=Object(n["h"])("label",null,"Account Type",-1),hi={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},pi={class:"col-sm-6"},Oi={class:"form-group"},fi=Object(n["h"])("label",null,"Avatar",-1),gi={class:"profile-upload"},ji={class:"upload-img"},vi={class:"upload-input"},Ii={class:"col-sm-6"},Di={class:"form-group"},yi=Object(n["h"])("label",{class:"display-block"},"Status",-1),xi={class:"form-check form-check-inline"},wi=Object(n["h"])("label",{class:"form-check-label"}," Active ",-1),Si={class:"form-check form-check-inline"},Ci=Object(n["h"])("label",{class:"form-check-label"}," Inactive ",-1),qi={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Ei=Object(n["h"])("hr",{class:"mb-3"},null,-1),ki=Object(n["h"])("h3",{class:"h3"},"Institution Administrator Account",-1),Ui={class:"row"},Ai={class:"col-sm-12"},Li={class:"form-group"},Ti=Object(n["h"])("label",null,"Administrator ID",-1),Mi={class:"col-sm-6"},Ri={class:"form-group"},Ni=Object(n["h"])("label",null,"Password",-1),Bi={class:"col-sm-6"},zi={class:"form-group"},Pi=Object(n["h"])("label",null,[Object(n["g"])("Account Type"),Object(n["h"])("span",{class:"text-danger"})],-1),_i={class:"col-sm-6"},Fi={class:"form-group"},$i=Object(n["h"])("label",null,[Object(n["g"])("User Role "),Object(n["h"])("span",{class:"text-danger"})],-1),Gi=Object(n["h"])("hr",{class:"mb-3"},null,-1),Vi={class:"form-group text-center"},Hi=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Qi=Object(n["g"])(" Loading... "),Wi=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Ji=us((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",ds,[Object(n["h"])("div",ms,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",bs,[Object(n["h"])("div",hs,[ps,Object(n["h"])("div",Os,[Object(n["h"])("div",fs,[Object(n["h"])("form",null,[Object(n["h"])("div",gs,[Object(n["h"])("div",js,[Object(n["h"])("div",vs,[Is,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("institutionID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.institutionID=t})},null,544),[[n["D"],i.form.institutionID]]),i.errors.institutionID?(Object(n["q"])(),Object(n["d"])("small",Ds,Object(n["z"])(i.errors.institutionID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",ys,[Object(n["h"])("div",xs,[Object(n["h"])("div",ws,[Ss,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("name")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.name=t})},null,544),[[n["D"],i.form.name]]),i.errors.name?(Object(n["q"])(),Object(n["d"])("small",Cs,Object(n["z"])(i.errors.name),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",qs,[Object(n["h"])("div",Es,[ks,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("email")}),class:"form-control",type:"email","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",Us,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",As,[Object(n["h"])("div",Ls,[Ts,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("phone")}),class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.phone=t})},null,544),[[n["D"],i.form.phone]]),i.errors.phone?(Object(n["q"])(),Object(n["d"])("small",Ms,Object(n["z"])(i.errors.phone),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Rs,[Object(n["h"])("div",Ns,[Bs,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("registrationNumber")}),class:"form-control",type:"text","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.registrationNumber=t})},null,544),[[n["D"],i.form.registrationNumber]]),i.errors.registrationNumber?(Object(n["q"])(),Object(n["d"])("small",zs,Object(n["z"])(i.errors.registrationNumber),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",Ps,[Object(n["h"])("div",_s,[Object(n["h"])("div",Fs,[$s,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("address")}),class:"form-control","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.address=t})},null,544),[[n["D"],i.form.address]]),i.errors.address?(Object(n["q"])(),Object(n["d"])("small",Gs,Object(n["z"])(i.errors.address),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",Vs,[Object(n["h"])("div",Hs,[Object(n["h"])("div",Qs,[Ws,Object(n["G"])(Object(n["h"])("select",{onChange:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("country")}),class:"form-control select","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.country=t})},[Js,Ys],544),[[n["C"],i.form.country]]),i.errors.country?(Object(n["q"])(),Object(n["d"])("small",Xs,Object(n["z"])(i.errors.country),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Ks,[Object(n["h"])("div",Zs,[ti,Object(n["G"])(Object(n["h"])("input",{onInput:e[15]||(e[15]=function(t){return r.updateErrorStatusOnInput("city")}),type:"text",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=function(t){return i.form.city=t})},null,544),[[n["D"],i.form.city]]),i.errors.city?(Object(n["q"])(),Object(n["d"])("small",ei,Object(n["z"])(i.errors.city),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",ai,[Object(n["h"])("div",ni,[si,Object(n["G"])(Object(n["h"])("select",{onChange:e[17]||(e[17]=function(t){return r.updateErrorStatusOnInput("stateProvince")}),class:"form-control select","onUpdate:modelValue":e[18]||(e[18]=function(t){return i.form.stateProvince=t})},[ii,ri,oi,ci],544),[[n["C"],i.form.stateProvince]]),i.errors.stateProvince?(Object(n["q"])(),Object(n["d"])("small",li,Object(n["z"])(i.errors.stateProvince),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",ui,[Object(n["h"])("div",di,[Object(n["h"])("div",mi,[bi,Object(n["G"])(Object(n["h"])("input",{onInput:e[19]||(e[19]=function(t){return r.updateErrorStatusOnInput("accountType")}),class:"form-control",type:"text","onUpdate:modelValue":e[20]||(e[20]=function(t){return i.form.accountType=t})},null,544),[[n["D"],i.form.accountType]]),i.errors.accountType?(Object(n["q"])(),Object(n["d"])("small",hi,Object(n["z"])(i.errors.accountType),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",pi,[Object(n["h"])("div",Oi,[fi,Object(n["h"])("div",gi,[Object(n["h"])("div",ji,[Object(n["h"])("img",{alt:"",src:i.form.avatar},null,8,["src"])]),Object(n["h"])("div",vi,[Object(n["h"])("input",{type:"file",class:"form-control",onChange:e[21]||(e[21]=function(t){return r.onFileSelected(t)}),accept:"image/*",required:""},null,32)])])])]),Object(n["h"])("div",Ii,[Object(n["h"])("div",Di,[yi,Object(n["h"])("div",xi,[Object(n["G"])(Object(n["h"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":e[22]||(e[22]=function(t){return i.form.status=t}),value:"1",checked:""},null,512),[[n["B"],i.form.status]]),wi]),Object(n["h"])("div",Si,[Object(n["G"])(Object(n["h"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":e[23]||(e[23]=function(t){return i.form.status=t}),value:"0"},null,512),[[n["B"],i.form.status]]),Ci]),i.errors.status?(Object(n["q"])(),Object(n["d"])("small",qi,Object(n["z"])(i.errors.status),1)):Object(n["e"])("",!0)])])]),Ei,ki,Object(n["h"])("div",Ui,[Object(n["h"])("div",Ai,[Object(n["h"])("div",Li,[Ti,Object(n["G"])(Object(n["h"])("input",{type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[24]||(e[24]=function(t){return i.form.institutionAdministrator.userID=t})},null,512),[[n["D"],i.form.institutionAdministrator.userID]])])]),Object(n["h"])("div",Mi,[Object(n["h"])("div",Ri,[Ni,Object(n["G"])(Object(n["h"])("input",{class:"form-control",type:"text",readonly:"","onUpdate:modelValue":e[25]||(e[25]=function(t){return i.form.institutionAdministrator.password=t})},null,512),[[n["D"],i.form.institutionAdministrator.password]])])]),Object(n["h"])("div",Bi,[Object(n["h"])("div",zi,[Pi,Object(n["G"])(Object(n["h"])("input",{class:"form-control",type:"text",readonly:"","onUpdate:modelValue":e[26]||(e[26]=function(t){return i.form.institutionAdministrator.accountType=t})},null,512),[[n["D"],i.form.institutionAdministrator.accountType]])])]),Object(n["h"])("div",_i,[Object(n["h"])("div",Fi,[$i,Object(n["G"])(Object(n["h"])("input",{class:"form-control",type:"text",readonly:"","onUpdate:modelValue":e[27]||(e[27]=function(t){return i.form.institutionAdministrator.userRole=t})},null,512),[[n["D"],i.form.institutionAdministrator.userRole]])])])]),Gi,Object(n["h"])("div",Vi,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[Hi,Qi],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[28]||(e[28]=Object(n["H"])((function(){return r.attemptRegisteringInstitution&&r.attemptRegisteringInstitution.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Create Institution Account"))])])])])]),Object(n["h"])(l)])]),Wi])})),Yi=(a("baa5"),a("fb6a"),{name:"RegisterInstitution",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{active:"register institution",isLoading:!1,selectedFile:null,form:{institutionID:"",name:"",email:"",phone:"",registrationNumber:"",address:"",country:"",stateProvince:"",city:"",accountType:"institution account",avatar:"",status:1,institutionAdministrator:{userID:"",fullname:"Institution Administrator",password:"P@$$w0rd",userRole:"institution administrator",accountType:"institution staff",gender:"others",dob:(new Date).getTime()}},errors:{institutionID:"",name:"",email:"",phone:"",registrationNumber:"",address:"",country:"",stateProvince:"",city:"",accountType:"",avatar:"",status:""}}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},onFileSelected:function(t){var e=this,a=t.target.files,n=a[0].name;if(n.lastIndexOf(".")<=0)return alert("Please upload a valid file!");var s=new FileReader;s.addEventListener("load",(function(){e.form.avatar=s.result})),s.readAsDataURL(a[0]),this.selectedFile=a[0]},validateForm:function(){return this.form.institutionID||(this.errors.institutionID="Institution ID is required!"),this.form.name||(this.errors.name="Name is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.phone||(this.errors.phone="Phone number is required!"),this.form.registrationNumber||(this.errors.registrationNumber="Institution Registration Number is required!"),this.form.address||(this.errors.address="Address is required!"),this.form.country||(this.errors.country="Country is required!"),this.form.stateProvince||(this.errors.stateProvince="State/Province is required!"),this.form.city||(this.errors.city="City is required!"),this.form.accountType||(this.errors.accountType="Account type is required!"),parseInt(this.form.status)<0&&parseInt(this.form.status)>1&&(this.errors.status="Status is required!"),!!(this.form.institutionID&&this.form.name&&this.form.email&&this.form.phone&&this.form.registrationNumber&&this.form.address&&this.form.country&&this.form.stateProvince&&this.form.city&&this.form.accountType&&this.form.avatar&&this.form.status)},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},attemptRegisteringInstitution:function(){var t=this;this.isLoading=!0,this.validateForm()?Zt.createUserWithEmailAndPassword(this.form.email,this.form.institutionAdministrator.password).then((function(e){console.log(e),Kt.collection("institution_staffs").add({userID:t.form.institutionAdministrator.userID,institutionID:t.form.institutionID,fullname:t.form.institutionAdministrator.fullname,email:t.form.email,userRole:t.form.institutionAdministrator.userRole,accountType:t.form.institutionAdministrator.accountType,address:t.form.address,phone:t.form.phone,gender:t.form.institutionAdministrator.gender,dob:t.form.institutionAdministrator.dob,avatar:""}).then((function(){Kt.collection("institutions").add({institutionID:t.form.institutionID,name:t.form.name,email:t.form.email,phone:t.form.phone,registrationNumber:t.form.registrationNumber,address:t.form.address,country:t.form.country,stateProvince:t.form.stateProvince,city:t.form.city,accountType:t.form.accountType,status:parseInt(t.form.status),createdOn:(new Date).getTime()}).then((function(){var e=t.selectedFile.name,a=e.slice(e.lastIndexOf("."));Jt["a"].storage().ref("institutions/"+t.form.institutionID+a).put(t.selectedFile).then((function(e){e.ref.getDownloadURL().then((function(e){Kt.collection("institutions").where("institutionID","==",t.form.institutionID).get().then((function(a){a.forEach((function(t){t.ref.update({avatar:e})}));var n=ee["a"].v4();Kt.collection("chat_accounts").add({accountID:n,userID:t.form.institutionID,accountType:"general",userType:"institution",referenced_db:"institutions",referenceName:"".concat(t.form.name.split(" ")[0].toUpperCase(),"#General")}).then((function(t){console.log(t)})).catch((function(e){t.isLoading=!1,alert(e.message)}));var s=ee["a"].v1();Kt.collection("chat_accounts").add({accountID:s,userID:t.form.institutionAdministrator.userID,accountType:"private",userType:t.form.institutionAdministrator.userRole,referenced_db:"institution_staffs",referenceName:""}).then((function(t){console.log(t)})).catch((function(e){t.isLoading=!1,alert(e.message)})),Kt.collection("administrator_activities").add({userID:t.loggedUserDetails.userID,connectorPhrase:"registered new institution",subject:t.form.name,action:"create institution",createdAt:(new Date).getTime()}).then((function(e){console.log(e),t.isLoading=!1,t.$router.push({name:"RegisteredInstitutions",params:{administratorID:t.$route.params.administratorID}})}))}))}))}))})).catch((function(e){t.isLoading=!1,alert(e.message)}))})).catch((function(e){t.isLoading=!1,alert(e.message)}))}),(function(e){t.isLoading=!1,alert(e.message)})):this.isLoading=!1}},created:function(){this.form.institutionID=ee["a"].v1(),this.form.institutionAdministrator.userID=ee["a"].v4()},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)}});a("0973");Yi.render=Ji,Yi.__scopeId="data-v-3d0388aa";var Xi=Yi,Ki=(a("841c"),Object(n["I"])("data-v-4bcd5f64"));Object(n["t"])("data-v-4bcd5f64");var Zi={class:"main-viewer"},tr={class:"main-wrapper"},er={class:"page-wrapper"},ar={class:"content"},nr={class:"row"},sr=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Registered Institutions")],-1),ir={class:"col-sm-8 col-9 text-right m-b-20"},rr=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),or=Object(n["g"])("Clear Search"),cr=Object(n["h"])("i",{class:"fa fa-plus mr-2"},null,-1),lr=Object(n["g"])(" Register Institution"),ur={key:0,class:"row"},dr={class:"col-sm-8 offset-sm-2 mt-5"},mr={class:"jumbotron text-center"},br={class:"h3"},hr=Object(n["g"])(),pr=Object(n["h"])("br",null,null,-1),Or=Object(n["g"])(),fr=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),gr=Object(n["g"])("Back"),jr={key:1,class:"container-fluid"},vr={class:"row filter-row"},Ir={class:"col-sm-6 col-md-3"},Dr={class:"form-group form-focus"},yr=Object(n["h"])("label",{class:"focus-label"},"Institution ID",-1),xr={class:"col-sm-6 col-md-3"},wr={class:"form-group form-focus"},Sr=Object(n["h"])("label",{class:"focus-label"},"Institution Name",-1),Cr={class:"col-sm-6 col-md-3"},qr={class:"form-group form-focus"},Er=Object(n["h"])("label",{class:"focus-label"},"Institution Email",-1),kr={class:"col-sm-6 col-md-3"},Ur={class:"row"},Ar={class:"col-md-12"},Lr={class:"table-responsive"},Tr={class:"table table-striped custom-table"},Mr=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Name"),Object(n["h"])("th",null,"Institution ID"),Object(n["h"])("th",null,"Email"),Object(n["h"])("th",null,"Mobile"),Object(n["h"])("th",{style:{"min-width":"110px"}},"Reg. Number"),Object(n["h"])("th",null,"Registered On"),Object(n["h"])("th",{class:"text-right"},"Action")])],-1),Rr=Object(n["g"])(),Nr={class:"text-right"},Br={class:"dropdown dropdown-action"},zr=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),Pr={key:0,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-50px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},_r=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),Fr=Object(n["g"])(" Manage"),$r=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),Gr=Object(n["g"])(" Delete"),Vr={key:1,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},Hr=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),Qr=Object(n["g"])(" Manage"),Wr=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),Jr=Object(n["g"])(" Delete"),Yr=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Xr=Ki((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Zi,[Object(n["h"])("div",tr,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",er,[Object(n["h"])("div",ar,[Object(n["h"])("div",nr,[sr,Object(n["h"])("div",ir,[i.searchResultUpdate&&i.institutions.length>0?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-danger text-danger mr-3"},[rr,or])):Object(n["e"])("",!0),Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"RegisterInstitution",params:{administratorID:i.administratorID}}},{default:Ki((function(){return[cr,lr]})),_:1},8,["to"])])]),i.institutions.length<=0?(Object(n["q"])(),Object(n["d"])("div",ur,[Object(n["h"])("div",dr,[Object(n["h"])("div",mr,[Object(n["h"])("h3",br,Object(n["z"])(i.emptyMessage),1),hr,pr,Or,i.searchResultUpdate?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-success text-white"},[fr,gr])):Object(n["e"])("",!0)])])])):(Object(n["q"])(),Object(n["d"])("div",jr,[Object(n["h"])("div",vr,[Object(n["h"])("div",Ir,[Object(n["h"])("div",Dr,[yr,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.institutionID=t})},null,544),[[n["D"],i.search.institutionID]])])]),Object(n["h"])("div",xr,[Object(n["h"])("div",wr,[Sr,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.name=t})},null,544),[[n["D"],i.search.name]])])]),Object(n["h"])("div",Cr,[Object(n["h"])("div",qr,[Er,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.search.email=t})},null,544),[[n["D"],i.search.email]])])]),Object(n["h"])("div",kr,[Object(n["h"])("a",{onClick:e[9]||(e[9]=Object(n["H"])((function(){return r.searchRegisteredInstitution&&r.searchRegisteredInstitution.apply(r,arguments)}),["prevent"])),class:"btn btn-success btn-block text-white"}," Search ")])]),Object(n["h"])("div",Ur,[Object(n["h"])("div",Ar,[Object(n["h"])("div",Lr,[Object(n["h"])("table",Tr,[Mr,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.institutions,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.institutionID},[Object(n["h"])("td",null,[Object(n["h"])("img",{width:"28",height:"28",src:t.avatar,class:"rounded-circle",alt:""},null,8,["src"]),Rr,Object(n["h"])("h2",null,Object(n["z"])(t.name),1)]),Object(n["h"])("td",null,Object(n["z"])(t.institutionID),1),Object(n["h"])("td",null,Object(n["z"])(t.email),1),Object(n["h"])("td",null,Object(n["z"])(t.phone),1),Object(n["h"])("td",null,Object(n["z"])(t.registrationNumber),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(t.createdOn))),1),Object(n["h"])("td",Nr,[Object(n["h"])("div",Br,[Object(n["h"])("a",{onClick:e[10]||(e[10]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[zr]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("div",Pr,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedInstitutionPage(t.institutionID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[_r,Fr],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteInstitutionOperation(t.institutionID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[$r,Gr],8,["onClick"])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),r.canViewOption?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",Vr,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedInstitutionPage(t.institutionID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[Hr,Qr],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteInstitutionOperation(t.institutionID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[Wr,Jr],8,["onClick"])):Object(n["e"])("",!0)]))])])])})),128))])])])])])]))]),Object(n["h"])(u)])]),Yr])})),Kr=(a("c975"),a("a434"),function(t){return new Date(parseInt(t)).toLocaleString("en",{day:"numeric",month:"short",year:"numeric"})}),Zr=function(t){return new Date(parseInt(t)).toLocaleTimeString("en",{hour:"numeric",minute:"numeric",timeZoneName:"short",timeZone:"Europe/Dublin",hour12:!1})},to=function(t,e,a,n,s,i,r){var o=[];return t.map((function(t){t[e].toLowerCase().search(a.toLowerCase())>=0&&t[n].toLowerCase().search(s.toLowerCase())>=0&&t[i].toLowerCase().search(r.toLowerCase())>=0&&o.push(t)})),o},eo=function(t,e,a,n,s){var i=[];return t.map((function(t){t[e].toLowerCase().search(a.toLowerCase())>=0&&t[n].toLowerCase().search(s.toLowerCase())>=0&&i.push(t)})),i},ao=function(t,e,a){var n=[];return t.map((function(t){t[e].toLowerCase().search(a.toLowerCase())>=0&&n.push(t)})),n},no={name:"RegisteredInstitutions",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{active:"registered institutions",administratorID:null,emptyMessage:"Institution list is empty.",searchResultUpdate:!1,search:{institutionID:"",name:"",email:""},institutions:[]}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},canViewOption:function(){return"super user"===this.loggedUserDetails.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},customizeDate:function(t){return Kr(t)},loadSelectedInstitutionPage:function(t){this.$router.push({name:"RegisteredInstitutionDetails",params:{administratorID:this.administratorID,institutionID:t}})},requestDeleteInstitutionOperation:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Do you want to Delete ".concat(e.getInstitutionNameByID(t)," institution records?"))){a.next=4;break}return a.next=3,e.closeAllOpenedActionMenuOptions();case 3:Kt.collection("institutions").where("institutionID","==",t).get().then((function(a){a.forEach((function(a){a.ref.delete(),Kt.collection("administrator_activities").add({userID:e.loggedUserDetails.userID,connectorPhrase:"deleted institution record",subject:e.getInstitutionNameByID(t),action:"delete institution",createdAt:(new Date).getTime()}).then((function(t){console.log(t)})),e.institutions.map((function(a){a.institutionID===t&&e.institutions.splice(e.institutions.indexOf(a),1)}))}))}));case 4:case"end":return a.stop()}}),a)})))()},getInstitutionNameByID:function(t){var e="Unknown";return this.institutions.map((function(a){a.institutionID===t&&(e=a.name)})),e},getInstitutionsFromFirebase:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,Kt.collection("institutions").orderBy("name").get().then((function(t){t.forEach((function(t){var a={id:t.id,institutionID:t.data().institutionID,name:t.data().name,avatar:t.data().avatar,email:t.data().email,phone:t.data().phone,registrationNumber:t.data().registrationNumber,address:t.data().address,country:t.data().country,stateProvince:t.data().stateProvince,city:t.data().city,accountType:t.data().accountType,status:t.data().status,createdOn:t.data().createdOn};e.push(a)}))}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()},searchRegisteredInstitutionWithThreeParameters:function(t,e,a,n,s,i){var r=this;return Object(_n["a"])(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,r.getInstitutionsFromFirebase();case 2:c=o.sent,l=to(c,t,e,a,n,s,i),r.institutions=l,r.institutions.length>=0&&(r.emptyMessage="Search result is empty.",r.searchResultUpdate=!0);case 6:case"end":return o.stop()}}),o)})))()},reloadDataRecords:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getInstitutionsFromFirebase();case 2:t.institutions=e.sent,t.emptyMessage="Institution list is empty.",t.searchResultUpdate=!1,t.search.institutionID="",t.search.name="",t.search.email="";case 8:case"end":return e.stop()}}),e)})))()},searchRegisteredInstitutionWithTwoParameters:function(t,e,a,n){var s=this;return Object(_n["a"])(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.getInstitutionsFromFirebase();case 2:r=i.sent,o=eo(r,t,e,a,n),s.institutions=o,s.institutions.length>=0&&(s.emptyMessage="Search result is empty.",s.searchResultUpdate=!0);case 6:case"end":return i.stop()}}),i)})))()},searchRegisteredInstitutionWithOneParameters:function(t,e){var a=this;return Object(_n["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getInstitutionsFromFirebase();case 2:s=n.sent,i=ao(s,t,e),a.institutions=i,a.institutions.length>=0&&(a.emptyMessage="Search result is empty.",a.searchResultUpdate=!0);case 6:case"end":return n.stop()}}),n)})))()},searchRegisteredInstitution:function(){this.search.institutionID&&this.search.name&&this.search.email?this.searchRegisteredInstitutionWithThreeParameters("institutionID",this.search.institutionID,"name",this.search.name,"email",this.search.email):this.search.institutionID&&this.search.name||this.search.institutionID&&this.search.email||this.search.email&&this.search.name?this.search.institutionID&&this.search.name?this.searchRegisteredInstitutionWithTwoParameters("institutionID",this.search.institutionID,"name",this.search.name):this.search.institutionID&&this.search.email?this.searchRegisteredInstitutionWithTwoParameters("institutionID",this.search.institutionID,"email",this.search.email):this.search.email&&this.search.name&&this.searchRegisteredInstitutionWithTwoParameters("email",this.search.email,"name",this.search.name):(this.search.institutionID||this.search.name||this.search.email)&&(this.search.institutionID?this.searchRegisteredInstitutionWithOneParameters("institutionID",this.search.institutionID):this.search.name?this.searchRegisteredInstitutionWithOneParameters("name",this.search.name):this.search.email&&this.searchRegisteredInstitutionWithOneParameters("email",this.search.email))},updateSearchOperation:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.search.institutionID||t.search.name||t.search.email){e.next=5;break}return e.next=3,t.getInstitutionsFromFirebase();case 3:t.institutions=e.sent,t.emptyMessage="Institution list is empty.";case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.administratorID=t.$route.params.administratorID,e.next=3,t.getInstitutionsFromFirebase();case 3:t.institutions=e.sent;case 4:case"end":return e.stop()}}),e)})))()}};a("6aeb");no.render=Xr,no.__scopeId="data-v-4bcd5f64";var so=no,io=Object(n["I"])("data-v-2dade83e");Object(n["t"])("data-v-2dade83e");var ro={class:"main-viewer"},oo={class:"main-wrapper"},co={class:"page-wrapper"},lo={class:"content",style:{position:"relative"}},uo={class:"water-mark",style:{position:"absolute","font-family":"sans-serif"}},mo={class:"row"},bo={class:"col-sm-4 col-3"},ho={class:"page-title"},po={class:"col-sm-8 col-9 text-right m-b-20"},Oo=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-edit mr-2"})],-1),fo=Object(n["g"])("Edit "),go=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),jo=Object(n["g"])("Back "),vo={class:"row"},Io={class:"col-md-6 offset-md-3"},Do={class:"list-group list-group-flush"},yo={class:"list-group-item transparent-bg"},xo={class:"row"},wo=Object(n["h"])("div",{class:"col-3"},"Institution ID",-1),So=Object(n["h"])("div",{class:"col-1"},":",-1),Co=Object(n["g"])(),qo={class:"col-8"},Eo={class:"text-dark"},ko={class:"list-group-item transparent-bg"},Uo={class:"row"},Ao=Object(n["h"])("div",{class:"col-3"},"Name",-1),Lo=Object(n["h"])("div",{class:"col-1"},":",-1),To=Object(n["g"])(),Mo={class:"col-8"},Ro={class:"text-dark"},No={class:"list-group-item transparent-bg"},Bo={class:"row"},zo=Object(n["h"])("div",{class:"col-3"},"Email",-1),Po=Object(n["h"])("div",{class:"col-1"},":",-1),_o=Object(n["g"])(),Fo={class:"col-8"},$o={class:"text-dark"},Go={class:"list-group-item transparent-bg"},Vo={class:"row"},Ho=Object(n["h"])("div",{class:"col-3"},"Phone",-1),Qo=Object(n["h"])("div",{class:"col-1"},":",-1),Wo=Object(n["g"])(),Jo={class:"col-8"},Yo={class:"text-dark"},Xo={class:"list-group-item transparent-bg"},Ko={class:"row"},Zo=Object(n["h"])("div",{class:"col-3"},"Registration Number",-1),tc=Object(n["h"])("div",{class:"col-1"},":",-1),ec=Object(n["g"])(),ac={class:"col-8"},nc={class:"text-dark"},sc={class:"list-group-item transparent-bg"},ic={class:"row"},rc=Object(n["h"])("div",{class:"col-3"},"Address",-1),oc=Object(n["h"])("div",{class:"col-1"},":",-1),cc=Object(n["g"])(),lc={class:"col-8"},uc={class:"text-dark"},dc={class:"list-group-item transparent-bg"},mc={class:"row"},bc=Object(n["h"])("div",{class:"col-3"},"City/County",-1),hc=Object(n["h"])("div",{class:"col-1"},":",-1),pc=Object(n["g"])(),Oc={class:"col-8"},fc={class:"text-dark"},gc={class:"list-group-item transparent-bg"},jc={class:"row"},vc=Object(n["h"])("div",{class:"col-3"},"State/Province",-1),Ic=Object(n["h"])("div",{class:"col-1"},":",-1),Dc=Object(n["g"])(),yc={class:"col-8"},xc={class:"text-dark"},wc={class:"list-group-item transparent-bg"},Sc={class:"row"},Cc=Object(n["h"])("div",{class:"col-3"},"Country",-1),qc=Object(n["h"])("div",{class:"col-1"},":",-1),Ec=Object(n["g"])(),kc={class:"col-8"},Uc={class:"text-dark"},Ac={class:"list-group-item transparent-bg"},Lc={class:"row"},Tc=Object(n["h"])("div",{class:"col-3"},"Account Type",-1),Mc=Object(n["h"])("div",{class:"col-1"},":",-1),Rc=Object(n["g"])(),Nc={class:"col-8"},Bc={class:"text-dark"},zc={class:"list-group-item transparent-bg"},Pc={class:"row"},_c=Object(n["h"])("div",{class:"col-3"},"Registered On",-1),Fc=Object(n["h"])("div",{class:"col-1"},":",-1),$c=Object(n["g"])(),Gc={class:"col-8"},Vc={class:"text-dark"},Hc={class:"list-group-item transparent-bg"},Qc={class:"row"},Wc={key:0,class:"col-3"},Jc={key:1,class:"col-1"},Yc=Object(n["g"])(),Xc={key:2,class:"col-8"},Kc={class:"badge badge-lg badge-success text-capitalize"},Zc={key:3,class:"col-3"},tl={key:4,class:"col-1"},el=Object(n["g"])(),al={key:5,class:"col-8"},nl={class:"badge badge-lg badge-secondary text-capitalize"},sl={key:0,class:"row"},il=Object(n["f"])('<h3 class="col-12 h3 mt-5 d-flex justify-content-center text-dark" data-v-2dade83e>No Action Required</h3><div class="list-group col-10 offset-1" data-v-2dade83e><span class="list-group-item list-group-item-action  transparent-bg d-flex justify-content-center" style="display:flex;align-items:center;justify-content:center;" data-v-2dade83e><h3 class="h4" data-v-2dade83e><a href="#" class="badge badge-success" data-v-2dade83e><i class="fas fa-check-circle fa-3x" data-v-2dade83e></i></a></h3></span><span class="text-light list-group-item list-group-item-action transparent-bg" style="display:flex;align-items:center;justify-content:center;" data-v-2dade83e></span></div>',2),rl={key:0,class:"col-12 h3 mt-5 d-flex justify-content-center text-dark"},ol={key:1,class:"col-12 mt-3",style:{"text-align":"center"}},cl={key:2,class:"col-12 mt-3",style:{"text-align":"center"}},ll={class:"form-group col-10 offset-1"},ul=Object(n["h"])("label",null,"Reason for Suspension",-1),dl={class:"col-12 mt-3",style:{"text-align":"center"}},ml={key:1,class:"btn btn-lg btn-danger",type:"button",disabled:""},bl=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),hl=Object(n["g"])(" Loading... "),pl={key:1,class:"row"},Ol={class:"jumbotron col-md-6 offset-md-3",style:{background:"transparent"}},fl=Object(n["h"])("h3",{class:"text-center text-dark"},"Account has been Suspended",-1),gl=Object(n["h"])("h4",null,"Reason",-1),jl=Object(n["h"])("p",null," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ab doloremque repudiandae illo dolores hic consequatur harum aut saepe quibusdam obcaecati! Quam corrupti enim doloribus saepe dolor ipsum, commodi quia soluta! ",-1),vl={key:0,class:"col-12 h3 mt-5 d-flex justify-content-center text-dark"},Il={key:1,class:"col-12 mt-3",style:{"text-align":"center"}},Dl={key:2,class:"col-12 mt-3",style:{"text-align":"center"}},yl={key:1,class:"btn btn-lg btn-success",type:"button",disabled:""},xl=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),wl=Object(n["g"])(" Loading... "),Sl=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Cl=io((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",ro,[Object(n["h"])("div",oo,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",co,[Object(n["h"])("div",lo,[Object(n["h"])("div",uo,Object(n["z"])(r.getStatusName),1),Object(n["h"])("div",mo,[Object(n["h"])("div",bo,[Object(n["h"])("h4",ho,Object(n["z"])(i.selectedInstitution.name)+" Details Page",1)]),Object(n["h"])("div",po,[Object(n["h"])(l,{to:{name:"EditRegisteredInstitutionDetails",params:{administratorID:i.administratorID,institutionID:i.institutionID}},class:"btn btn-success mr-3"},{default:io((function(){return[Oo,fo]})),_:1},8,["to"]),Object(n["h"])(l,{to:{name:"RegisteredInstitutions",params:{administratorID:i.administratorID}},class:"btn btn-outline-secondary"},{default:io((function(){return[go,jo]})),_:1},8,["to"])])]),Object(n["h"])("div",vo,[Object(n["h"])("div",Io,[Object(n["h"])("ul",Do,[Object(n["h"])("li",yo,[Object(n["h"])("div",xo,[wo,So,Co,Object(n["h"])("div",qo,[Object(n["h"])("strong",Eo,Object(n["z"])(i.selectedInstitution.institutionID),1)])])]),Object(n["h"])("li",ko,[Object(n["h"])("div",Uo,[Ao,Lo,To,Object(n["h"])("div",Mo,[Object(n["h"])("strong",Ro,Object(n["z"])(i.selectedInstitution.name),1)])])]),Object(n["h"])("li",No,[Object(n["h"])("div",Bo,[zo,Po,_o,Object(n["h"])("div",Fo,[Object(n["h"])("strong",$o,Object(n["z"])(i.selectedInstitution.email),1)])])]),Object(n["h"])("li",Go,[Object(n["h"])("div",Vo,[Ho,Qo,Wo,Object(n["h"])("div",Jo,[Object(n["h"])("strong",Yo,Object(n["z"])(i.selectedInstitution.phone),1)])])]),Object(n["h"])("li",Xo,[Object(n["h"])("div",Ko,[Zo,tc,ec,Object(n["h"])("div",ac,[Object(n["h"])("strong",nc,Object(n["z"])(i.selectedInstitution.registrationNumber),1)])])]),Object(n["h"])("li",sc,[Object(n["h"])("div",ic,[rc,oc,cc,Object(n["h"])("div",lc,[Object(n["h"])("strong",uc,Object(n["z"])(i.selectedInstitution.address),1)])])]),Object(n["h"])("li",dc,[Object(n["h"])("div",mc,[bc,hc,pc,Object(n["h"])("div",Oc,[Object(n["h"])("strong",fc,Object(n["z"])(i.selectedInstitution.city),1)])])]),Object(n["h"])("li",gc,[Object(n["h"])("div",jc,[vc,Ic,Dc,Object(n["h"])("div",yc,[Object(n["h"])("strong",xc,Object(n["z"])(i.selectedInstitution.stateProvince),1)])])]),Object(n["h"])("li",wc,[Object(n["h"])("div",Sc,[Cc,qc,Ec,Object(n["h"])("div",kc,[Object(n["h"])("strong",Uc,Object(n["z"])(i.selectedInstitution.country),1)])])]),Object(n["h"])("li",Ac,[Object(n["h"])("div",Lc,[Tc,Mc,Rc,Object(n["h"])("div",Nc,[Object(n["h"])("strong",Bc,Object(n["z"])(i.selectedInstitution.accountType),1)])])]),Object(n["h"])("li",zc,[Object(n["h"])("div",Pc,[_c,Fc,$c,Object(n["h"])("div",Gc,[Object(n["h"])("strong",Vc,Object(n["z"])(r.customizeDate(i.selectedInstitution.createdOn)),1)])])]),Object(n["h"])("li",Hc,[Object(n["h"])("div",Qc,[r.isAccountActive?(Object(n["q"])(),Object(n["d"])("div",Wc,"Account Status")):Object(n["e"])("",!0),r.isAccountActive?(Object(n["q"])(),Object(n["d"])("div",Jc,":")):Object(n["e"])("",!0),Yc,r.isAccountActive?(Object(n["q"])(),Object(n["d"])("h3",Xc,[Object(n["h"])("strong",Kc,Object(n["z"])(r.getStatusName),1)])):Object(n["e"])("",!0),r.isAccountActive?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",Zc,"Account Status")),r.isAccountActive?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",tl,":")),el,r.isAccountActive?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("h3",al,[Object(n["h"])("strong",nl,Object(n["z"])(r.getStatusName),1)]))])])])])]),r.isAccountActive?(Object(n["q"])(),Object(n["d"])("div",sl,[il,r.isAccountActive?(Object(n["q"])(),Object(n["d"])("h3",rl,"Review Account Status")):Object(n["e"])("",!0),i.showSuspendAccount?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",ol,[Object(n["h"])("button",{onClick:e[1]||(e[1]=function(){return r.initiateSuspend&&r.initiateSuspend.apply(r,arguments)}),disabled:i.isLoading,class:"btn btn-lg btn-warning"},"Review Options",8,["disabled"])])),i.showSuspendAccount?(Object(n["q"])(),Object(n["d"])("div",cl,[Object(n["h"])("form",null,[Object(n["h"])("div",ll,[ul,Object(n["G"])(Object(n["h"])("textarea",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.reasonForSuspension=t}),class:"form-control",rows:"3"},null,512),[[n["D"],i.form.reasonForSuspension]])]),Object(n["h"])("div",dl,[Object(n["h"])("button",{onClick:e[3]||(e[3]=function(){return r.cancelSuspend&&r.cancelSuspend.apply(r,arguments)}),class:"btn btn-lg btn-secondary mr-5"},"Cancel"),i.isLoading?(Object(n["q"])(),Object(n["d"])("button",ml,[bl,hl])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[4]||(e[4]=Object(n["H"])((function(){return r.suspendInstitutionAccount&&r.suspendInstitutionAccount.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-danger"},"Suspend Institution Account"))])])])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),r.isAccountActive?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",pl,[Object(n["h"])("div",Ol,[fl,gl,jl,r.isAccountActive?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("h3",vl,"Review Account Status")),r.isAccountActive||i.showReviewSuspendAccount?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",Il,[Object(n["h"])("button",{onClick:e[5]||(e[5]=function(){return r.initiateRevokeSuspension&&r.initiateRevokeSuspension.apply(r,arguments)}),disabled:i.isLoading,class:"btn btn-lg btn-warning"},"Review Options",8,["disabled"])])),i.showReviewSuspendAccount?(Object(n["q"])(),Object(n["d"])("div",Dl,[Object(n["h"])("button",{onClick:e[6]||(e[6]=function(){return r.cancelSuspend&&r.cancelSuspend.apply(r,arguments)}),class:"btn btn-lg btn-secondary mr-5"},"Cancel"),i.isLoading?(Object(n["q"])(),Object(n["d"])("button",yl,[xl,wl])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[7]||(e[7]=Object(n["H"])((function(){return r.revokeAccountSuspension&&r.revokeAccountSuspension.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success"},"Revoke Account Suspension"))])):Object(n["e"])("",!0)])]))]),Object(n["h"])(u)])]),Sl])})),ql=a("53ca"),El={name:"Dashboard",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{isLoading:!1,active:"dashboard",administratorID:"",institutionID:"",selectedInstitution:{},showSuspendAccount:!1,showReviewSuspendAccount:!1,form:{reasonForSuspension:""}}},computed:{appName:function(){return this.$store.getters.appName},appNameAbbr:function(){return this.$store.getters.appNameAbbr},getStatusName:function(){return 1===this.selectedInstitution.status?"Active":"Suspended"},isAccountActive:function(){return 1===this.selectedInstitution.status},loggedUserDetails:function(){return this.$store.getters.loggedUser}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},customizeDate:function(t){return Object(ql["a"])(t)},initiateSuspend:function(){this.showSuspendAccount=!0},cancelSuspend:function(){this.showSuspendAccount=!1,this.showReviewSuspendAccount=!1},initiateRevokeSuspension:function(){this.showReviewSuspendAccount=!0},suspendInstitutionAccount:function(){var t=this;this.isLoading=!0,this.form.reasonForSuspension?confirm("Do you want to suspend ".concat(this.selectedInstitution.name," Account?"))&&Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){e.ref.update({status:0}).then((function(){Kt.collection("administrator_activities").add({userID:t.loggedUserDetails.userID,connectorPhrase:"suspended institution account",subject:t.selectedInstitution.name,action:"suspend institution",createdAt:(new Date).getTime()}).then((function(e){console.log(e),location.reload(),t.isLoading=!1}))}))}))})):(alert("Please add Suspension Message!!!"),this.isLoading=!1)},revokeAccountSuspension:function(){var t=this;this.isLoading=!0,confirm("Do you want to revoke ".concat(this.selectedInstitution.name," account suspension?"))&&(Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){e.ref.update({status:1}).then((function(){Kt.collection("administrator_activities").add({userID:t.loggedUserDetails.userID,connectorPhrase:"revoked institution account suspension for",subject:t.selectedInstitution.name,action:"revoke institution suspension",createdAt:(new Date).getTime()}).then((function(e){console.log(e),location.reload(),t.isLoading=!1}))}))}))})),this.isLoading=!1)}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu),console.log("selected institution ===>>>> ",this.selectedInstitution)},created:function(){var t=this;this.administratorID=this.$route.params.administratorID,this.institutionID=this.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.selectedInstitution.id=e.id,t.selectedInstitution.institutionID=e.data().institutionID,t.selectedInstitution.name=e.data().name,t.selectedInstitution.avatar=e.data().avatar,t.selectedInstitution.email=e.data().email,t.selectedInstitution.phone=e.data().phone,t.selectedInstitution.registrationNumber=e.data().registrationNumber,t.selectedInstitution.address=e.data().address,t.selectedInstitution.country=e.data().country,t.selectedInstitution.stateProvince=e.data().stateProvince,t.selectedInstitution.city=e.data().city,t.selectedInstitution.accountType=e.data().accountType,t.selectedInstitution.status=e.data().status,t.selectedInstitution.createdOn=e.data().createdOn}))}))}};a("541b");El.render=Cl,El.__scopeId="data-v-2dade83e";var kl=El,Ul=Object(n["I"])("data-v-c94cb918");Object(n["t"])("data-v-c94cb918");var Al={class:"main-viewer"},Ll={class:"main-wrapper"},Tl={class:"page-wrapper"},Ml={class:"content"},Rl={class:"row"},Nl={class:"col-sm-4 col-3"},Bl={class:"page-title"},zl={class:"col-sm-8 col-9 text-right m-b-20"},Pl=Object(n["h"])("i",{class:"fas fa-user-edit mr-2"},null,-1),_l=Object(n["g"])("Edit Profile"),Fl=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("p",{class:"mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non eleifend nisi, et hendrerit erat. Nullam vitae ullamcorper eros, ac venenatis urna. Donec tempor ut ex ut efficitur. Maecenas a urna diam. Curabitur eleifend dolor orci, eget mollis leo volutpat id. Integer sit amet egestas eros. Suspendisse at ullamcorper urna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.In dictum ante tristique nisi tristique, id convallis nulla tempus. Ut sit amet massa venenatis, efficitur purus in, varius massa. Pellentesque eget lectus sed eros porta maximus. Phasellus hendrerit justo erat, eget finibus eros malesuada ac. Phasellus sodales turpis lobortis, aliquam urna eu, dapibus tellus. Sed consequat tincidunt tellus, quis pulvinar leo porttitor ac. Suspendisse sagittis eget est in egestas. Vestibulum at au Aenean porttitor molestie rhoncus. Suspendisse dictum vel est lacinia tristique. Donec lacinia at nunc at bibendum. Fusce vel orci diam. Fusce id venenatis sapien, et imperdiet metus. ")])],-1),$l=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Gl=Ul((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Al,[Object(n["h"])("div",Ll,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Tl,[Object(n["h"])("div",Ml,[Object(n["h"])("div",Rl,[Object(n["h"])("div",Nl,[Object(n["h"])("h4",Bl,Object(n["z"])(r.loggedUserFullname)+"'s Profile",1)]),Object(n["h"])("div",zl,[Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"AdministratorProfileEditor",params:{administratorID:i.administratorID}}},{default:Ul((function(){return[Pl,_l]})),_:1},8,["to"])])]),Fl]),Object(n["h"])(u)])]),$l])})),Vl={name:"AdministratorProfile",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{active:"registered institutions",administratorID:null}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){this.administratorID=this.$route.params.administratorID}};a("cbe8");Vl.render=Gl,Vl.__scopeId="data-v-c94cb918";var Hl=Vl,Ql=Object(n["I"])("data-v-64050910");Object(n["t"])("data-v-64050910");var Wl={class:"main-viewer"},Jl={class:"main-wrapper"},Yl={class:"page-wrapper"},Xl={class:"content"},Kl={class:"row"},Zl={class:"col-sm-4 col-3"},tu={class:"page-title"},eu=Object(n["h"])("div",{class:"col-sm-8 col-9 text-right m-b-20"},null,-1),au=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("p",{class:"mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non eleifend nisi, et hendrerit erat. Nullam vitae ullamcorper eros, ac venenatis urna. Donec tempor ut ex ut efficitur. Maecenas a urna diam. Curabitur eleifend dolor orci, eget mollis leo volutpat id. Integer sit amet egestas eros. Suspendisse at ullamcorper urna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.In dictum ante tristique nisi tristique, id convallis nulla tempus. Ut sit amet massa venenatis, efficitur purus in, varius massa. Pellentesque eget lectus sed eros porta maximus. Phasellus hendrerit justo erat, eget finibus eros malesuada ac. Phasellus sodales turpis lobortis, aliquam urna eu, dapibus tellus. Sed consequat tincidunt tellus, quis pulvinar leo porttitor ac. Suspendisse sagittis eget est in egestas. Vestibulum at au Aenean porttitor molestie rhoncus. Suspendisse dictum vel est lacinia tristique. Donec lacinia at nunc at bibendum. Fusce vel orci diam. Fusce id venenatis sapien, et imperdiet metus. ")])],-1),nu=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var su=Ql((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Wl,[Object(n["h"])("div",Jl,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Yl,[Object(n["h"])("div",Xl,[Object(n["h"])("div",Kl,[Object(n["h"])("div",Zl,[Object(n["h"])("h4",tu,"Edit "+Object(n["z"])(r.loggedUserFullname)+"'s Profile",1)]),eu]),au]),Object(n["h"])(l)])]),nu])})),iu={name:"AdministratorProfileEditor",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{active:"registered institutions",administratorID:null}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){this.administratorID=this.$route.params.administratorID}};a("a6f2");iu.render=su,iu.__scopeId="data-v-64050910";var ru=iu,ou=Object(n["I"])("data-v-2288ec6a");Object(n["t"])("data-v-2288ec6a");var cu={class:"main-viewer"},lu={class:"main-wrapper"},uu={class:"page-wrapper",style:{"min-height":"100vh"}},du={class:"chat-main-row"},mu={class:"chat-main-wrapper"},bu={class:"col-lg-9 message-view chat-view"},hu={class:"modal-dialog modal-dialog-centered"},pu={class:"modal-content"},Ou={class:"modal-header"},fu=Object(n["h"])("h3",{class:"modal-title"},"Find Chat Mate",-1),gu={class:"modal-body"},ju={class:"input-group m-b-30"},vu={key:0},Iu={class:"chat-user-list"},Du={key:0},yu=Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("h4",{class:"h4 text-center"},"Enter user name to find a chat mate.")],-1),xu={class:"media"},wu=Object(n["h"])("span",{class:"avatar align-self-center"},"J",-1),Su={class:"media-body align-self-center text-nowrap"},Cu={class:"user-name"},qu={class:"designation",style:{"text-transform":"capitalize"}},Eu=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var ku=ou((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("chat-window"),u=Object(n["x"])("chat-profiletab"),d=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",cu,[Object(n["h"])("div",lu,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",uu,[Object(n["h"])("div",du,[Object(n["h"])("div",mu,[Object(n["h"])("div",bu,[Object(n["h"])(l,{chatMateID:t.$route.params.chatMateID},null,8,["chatMateID"])]),Object(n["h"])(u)])]),i.showAddUserDialog?(Object(n["q"])(),Object(n["d"])("div",{key:0,id:"add_chat_user",class:["modal fade",{show:i.showAddUserDialog}],style:{display:i.displayOption},role:"dialog"},[Object(n["h"])("div",hu,[Object(n["h"])("div",pu,[Object(n["h"])("div",Ou,[fu,Object(n["h"])("button",{onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.togglePrivateChatSearchView&&r.togglePrivateChatSearchView.apply(r,arguments)}),["prevent"])),type:"button",class:"close","data-dismiss":"modal"},"×")]),Object(n["h"])("div",gu,[Object(n["h"])("div",ju,[Object(n["G"])(Object(n["h"])("input",{onInput:e[2]||(e[2]=Object(n["H"])((function(){return r.generateProspectiveChatMateList&&r.generateProspectiveChatMateList.apply(r,arguments)}),["prevent"])),"onUpdate:modelValue":e[3]||(e[3]=function(t){return i.searchQuery=t}),placeholder:"Search to start a chat",class:"form-control search-input",type:"text"},null,544),[[n["D"],i.searchQuery]])]),Object(n["h"])("div",null,[r.showProspectiveChatMate?(Object(n["q"])(),Object(n["d"])("h5",vu,"Prospective Chat Mate")):Object(n["e"])("",!0),Object(n["h"])("ul",Iu,[r.showProspectiveChatMate?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("li",Du,[yu])),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.generatedSearchOutput,(function(t){return Object(n["q"])(),Object(n["d"])("li",{key:t.accountID},[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.chatWithSelectedProspectiveChatMate(t.accountID)}),["prevent"]),style:{cursor:"pointer"}},[Object(n["h"])("div",xu,[wu,Object(n["h"])("div",Su,[Object(n["h"])("div",Cu,Object(n["z"])(r.getUserDatials(t.userID).fullname),1),Object(n["h"])("span",qu,Object(n["z"])(r.getUserDatials(t.userID).userRole),1)])])],8,["onClick"])])})),128))])])])])])],6)):Object(n["e"])("",!0),Object(n["h"])(d)])]),Eu,i.showAddUserDialog?(Object(n["q"])(),Object(n["d"])("div",{key:0,class:["modal-backdrop fade",{show:i.showAddUserDialog}]},null,2)):Object(n["e"])("",!0)])})),Uu=Object(n["I"])("data-v-330014a6");Object(n["t"])("data-v-330014a6");var Au={class:"sidebar",id:"sidebar"},Lu={class:"sidebar-inner slimscroll"},Tu={class:"sidebar-menu"},Mu=Object(n["h"])("i",{class:"fa fa-home back-icon"},null,-1),Ru=Object(n["g"])(),Nu=Object(n["h"])("span",null,"Back to Home",-1),Bu=Object(n["h"])("li",{class:"menu-title"},[Object(n["g"])("Chat Groups "),Object(n["h"])("a",{href:"#",class:"add-user-icon","data-toggle":"modal","data-target":"#add_group"})],-1),zu={class:"menu-title"},Pu=Object(n["g"])("Direct Chats "),_u=Object(n["h"])("i",{class:"fa fa-plus"},null,-1),Fu={key:0},$u=Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("h6",{class:"h6"},"No Private Chat Recorded")],-1),Gu={class:"chat-avatar-sm user-img"},Vu=Object(n["h"])("span",{class:"status online"},null,-1),Hu=Object(n["h"])("span",{class:"badge badge-pill bg-danger float-right"},"1",-1);Object(n["r"])();var Qu=Uu((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",Au,[Object(n["h"])("div",Lu,[Object(n["h"])("div",Tu,[Object(n["h"])("ul",null,[Object(n["h"])("li",null,[Object(n["h"])(o,{to:{name:"AdministratorDashboard",params:{administratorID:i.administratorID}}},{default:Uu((function(){return[Mu,Ru,Nu]})),_:1},8,["to"])]),Bu,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.generalChatChannels,(function(t){return Object(n["q"])(),Object(n["d"])("li",{key:t.accountID},[Object(n["h"])(o,{to:{name:"AdministratorChats",params:{administratorID:i.administratorID,chatMateID:t.accountID}}},{default:Uu((function(){return[Object(n["g"])(Object(n["z"])(t.referenceName),1)]})),_:2},1032,["to"])])})),128)),Object(n["h"])("li",zu,[Pu,Object(n["h"])("a",{onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.requestTogglePrivateChatSearch&&r.requestTogglePrivateChatSearch.apply(r,arguments)}),["prevent"])),class:"add-user-icon","data-toggle":"modal","data-target":"#add_chat_user"},[_u])]),r.privateChatChannels.length<=0?(Object(n["q"])(),Object(n["d"])("li",Fu,[$u])):Object(n["e"])("",!0),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.privateChatChannels,(function(t){return Object(n["q"])(),Object(n["d"])("li",{key:t.accountID},[Object(n["h"])(o,{to:{name:"AdministratorChats",params:{administratorID:i.administratorID,chatMateID:t.accountID}}},{default:Uu((function(){return[Object(n["h"])("span",Gu,[Object(n["h"])("img",{src:r.getChannelUserInstance(t)&&r.getChannelUserInstance(t).avatar?r.getChannelUserInstance(t).avatar:i.defaultImage,alt:"",class:"rounded-circle"},null,8,["src"]),Vu]),Object(n["g"])(" "+Object(n["z"])(r.getChannelUserInstance(t)?r.getChannelUserInstance(t).fullname:"Unknown Name")+" ",1),Hu]})),_:2},1032,["to"])])})),128))])])])])})),Wu=(a("07ac"),a("6062"),a("3ca3"),a("ddb0"),a("2909")),Ju=function(t,e,a){var n=[],s=[],i=[];t.collection("chat_accounts").get().then((function(t){t.forEach((function(t){var e={accountID:t.data().accountID,userID:t.data().userID,accountType:t.data().accountType,userType:t.data().userType,referenced_db:t.data().referenced_db,referenceName:t.data().referenceName};n.push(e)}));for(var r=function(t){n.map((function(e){e.userID===a[t]&&("general"===e.accountType?s.push(e):i.push(e))}))},o=0;o<a.length;o++)r(o);e.$store.dispatch("UPDATE_CHAT_CHANNELS",{data:s,accountType:"general"}),e.$store.dispatch("UPDATE_CHAT_CHANNELS",{data:i,accountType:"prospect"})}))},Yu=function(t,e,a){var n=[],s=[];t.collection("chat_accounts").get().then((function(t){t.forEach((function(t){var e={accountID:t.data().accountID,userID:t.data().userID,accountType:t.data().accountType,userType:t.data().userType,referenced_db:t.data().referenced_db,referenceName:t.data().referenceName};n.push(e)}));for(var i=function(t){n.map((function(e){e.accountID===a[t]&&"general"!==e.accountType&&s.push(e)}))},r=0;r<a.length;r++)i(r);e.$store.dispatch("UPDATE_CHAT_CHANNELS",{data:s,accountType:"private"})}))},Xu={name:"ChatMenu",props:{active:{type:String,required:!0}},data:function(){return{chatAccountUserIDs:[],privateChatAccountUserIDs:[],chatMates:[],administratorID:"",employees:[],administrators:[],defaultImage:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?f=y",loggedUserChatAccount:{},applicationGeneralChatChannel:{}}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},generalChatChannels:function(){return this.$store.getters.generalChatChannels},privateChatChannels:function(){return this.$store.getters.privateChatChannels},prospectChatChannels:function(){return this.$store.getters.prospectChatChannels}},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.administratorID=t.$route.params.administratorID,Kt.collection("chat_accounts").where("userID","==",t.loggedUserDetails.userID).get().then(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.forEach((function(e){if(e.data().userID===t.loggedUserDetails.userID)t.loggedUserChatAccount.accountID=e.data().accountID,t.loggedUserChatAccount.userID=e.data().userID,t.loggedUserChatAccount.accountType=e.data().accountType,t.loggedUserChatAccount.userType=e.data().userType,t.loggedUserChatAccount.referenced_db=e.data().referenced_db,t.loggedUserChatAccount.referenceName=e.data().referenceName;else if("obea chat channel"===e.data().userType)t.applicationGeneralChatChannel.accountID=e.data().accountID,t.applicationGeneralChatChannel.userID=e.data().userID,t.applicationGeneralChatChannel.accountType=e.data().accountType,t.applicationGeneralChatChannel.userType=e.data().userType,t.applicationGeneralChatChannel.referenced_db=e.data().referenced_db,t.applicationGeneralChatChannel.referenceName=e.data().referenceName;else{var a={accountID:e.data().accountID,userID:e.data().userID,accountType:e.data().accountType,userType:e.data().userType,referenced_db:e.data().referenced_db,referenceName:e.data().referenceName};t.chatMates.push(a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Kt.collection("system_administrator").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType};t.administrators.push(a)}))})),e.next=5,Kt.collection("institution_staffs").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}))}));case 5:t.generateLoggedUserChatChannel();case 6:case"end":return e.stop()}}),e)})))()},methods:{toggleSubmenu:function(t){var e=this.getTargetElement(t);e.parentNode.classList.contains("submenu")&&(e.classList.contains("subdrop")?(e.classList.remove("subdrop"),e.nextElementSibling.style.display="none"):(e.classList.add("subdrop"),e.nextElementSibling.style.display="block"))},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},getPrivateChatIDsFromChatHistory:function(t){return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("chats").where("sender","==",t.loggedUserChatAccount.accountID).get().then((function(t){t.forEach((function(t){a.push(t.data().recipient)}))}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},generateLoggedUserChatChannel:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Kt.collection("system_administrators").get().then((function(e){e.forEach((function(e){t.chatAccountUserIDs.push(e.data().userID)}))}));case 2:return e.next=4,Kt.collection("institution_staffs").get().then((function(e){e.forEach((function(e){"institution administrator"===e.data().userRole&&t.chatAccountUserIDs.push(e.data().userID)}))}));case 4:return t.chatAccountUserIDs.push(t.applicationGeneralChatChannel.userID),t.chatAccountUserIDs=Object(Wu["a"])(new Set(t.chatAccountUserIDs)),e.next=8,t.getPrivateChatIDsFromChatHistory(t);case 8:t.privateChatAccountUserIDs=e.sent,t.privateChatAccountUserIDs=Object(Wu["a"])(new Set(t.privateChatAccountUserIDs)),Ju(Kt,t,Object.values(t.chatAccountUserIDs)),Yu(Kt,t,Object.values(t.privateChatAccountUserIDs));case 12:case"end":return e.stop()}}),e)})))()},getChannelUserInstance:function(t){var e=null;return"system_administrators"===t.referenced_db?this.administrators.map((function(a){a.userID===t.userID&&(e=a)})):"institution_staffs"===t.referenced_db&&this.employees.map((function(a){a.userID===t.userID&&(e=a)})),e},requestTogglePrivateChatSearch:function(){window.EventBus.emit("toggle-private-chat-search-view")}}};a("85eb");Xu.render=Qu,Xu.__scopeId="data-v-330014a6";var Ku=Xu,Zu={class:"col-lg-3 message-view chat-profile-view chat-sidebar",id:"chat_sidebar"},td={class:"chat-window video-window"},ed=Object(n["h"])("div",{class:"fixed-header"},[Object(n["h"])("ul",{class:"nav nav-tabs nav-tabs-bottom"},[Object(n["h"])("li",{class:"nav-item"},[Object(n["h"])("a",{class:"nav-link active",href:"#profile_tab","data-toggle":"tab"},"Profile")])])],-1),ad={class:"tab-content chat-contents"},nd={class:"content-full tab-pane show active",id:"profile_tab"},sd={class:"display-table"},id={class:"table-row"},rd={class:"table-body"},od={class:"table-content"},cd={class:"chat-profile-img"},ld={class:"edit-profile-img"},ud={class:"user-name m-t-10 mb-0"},dd={class:"text-muted"},md={class:"chat-profile-info"},bd={class:"user-det-list"},hd={class:"float-right text-muted"},pd={class:"float-right text-muted"},Od={class:"float-right text-muted"};function fd(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",Zu,[Object(n["h"])("div",td,[ed,Object(n["h"])("div",ad,[Object(n["h"])("div",nd,[Object(n["h"])("div",sd,[Object(n["h"])("div",id,[Object(n["h"])("div",rd,[Object(n["h"])("div",od,[Object(n["h"])("div",cd,[Object(n["h"])("div",ld,[Object(n["h"])("img",{src:i.userDetails.avatar?i.userDetails.avatar:i.defaultImage,alt:"",style:{width:"150px",height:"120px"}},null,8,["src"])]),Object(n["h"])("h3",ud,Object(n["z"])(i.userDetails.name?i.userDetails.name:i.userDetails.fullname),1),Object(n["h"])("small",dd,Object(n["z"])(i.userDetails.userRole),1)]),Object(n["h"])("div",md,[Object(n["h"])("ul",bd,[Object(n["h"])("li",null,[Object(n["h"])("span",null,Object(n["z"])(i.userDetails.dob?"DOB":"Created On")+":",1),Object(n["h"])("span",hd,Object(n["z"])(i.userDetails.dob?r.customizeDate(i.userDetails.dob):r.customizeDate(i.userDetails.createdOn)),1)]),Object(n["h"])("li",null,[Object(n["h"])("span",null,Object(n["z"])(i.userDetails.email?"Email":"Grade")+":",1),Object(n["h"])("span",pd,Object(n["z"])(i.userDetails.email?i.userDetails.email:i.userDetails.grade),1)]),Object(n["h"])("li",null,[Object(n["h"])("span",null,Object(n["z"])(i.userDetails.phone?"Phone":"Capacity")+":",1),Object(n["h"])("span",Od,Object(n["z"])(i.userDetails.phone?i.userDetails.phone:i.userDetails.capacity),1)])])])])])])])])])])])}var gd={name:"ChatProfileTab",data:function(){return{administratorID:"",chatMateID:"",userDetails:{},chatMateChatAccount:{},defaultImage:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?f=y"}},methods:{updateChatMate:function(t){var e=this;Kt.collection("chat_accounts").where("accountID","==",t).get().then(function(){var t=Object(_n["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.forEach((function(t){e.chatMateChatAccount.accountID=t.data().accountID,e.chatMateChatAccount.userID=t.data().userID,e.chatMateChatAccount.accountType=t.data().accountType,e.chatMateChatAccount.userType=t.data().userType,e.chatMateChatAccount.referenced_db=t.data().referenced_db,e.chatMateChatAccount.referenceName=t.data().referenceName})),!e.chatMateChatAccount){t.next=4;break}return t.next=4,e.updateChatMateDetails(e.chatMateChatAccount);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},customizeDate:function(t){return Kr(t)},updateChatMateDetails:function(t){var e=this;"system_administrators"===t.referenced_db?Kt.collection("system_administrators").where("userID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))})):"institution_staffs"===t.referenced_db?Kt.collection("institution_staffs").where("userID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))})):"institutions"===t.referenced_db?Kt.collection("institutions").where("institutionID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))})):"students"===t.referenced_db?Kt.collection("students").where("studentID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))})):"classrooms"===t.referenced_db&&Kt.collection("classrooms").where("classroomID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))}))},processChatMateUpdate:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.updateChatMateDetails(t);case 2:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.administratorID=t.$route.params.administratorID,t.chatMateID=t.$route.params.chatMateID,e.next=3,t.updateChatMate(t.chatMateID);case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){window.EventBus.on("update-chat-mate-account-info",this.processChatMateUpdate)}};gd.render=fd;var jd=gd,vd={class:"chat-window"},Id={class:"fixed-header"},Dd={class:"navbar"},yd={class:"user-details mr-auto"},xd={class:"float-left user-img m-r-10"},wd=Object(n["h"])("img",{src:"",alt:"",class:"w-40 rounded-circle"},null,-1),Sd=Object(n["h"])("span",{class:"status online"},null,-1),Cd={class:"user-info float-left"},qd={href:"#"},Ed={class:"font-bold"},kd=Object(n["g"])(),Ud={key:0,class:"typing-text"},Ad=Object(n["h"])("span",{class:"last-seen"},"Last seen today at 7:50 AM",-1),Ld=Object(n["f"])('<div class="search-box"><div class="input-group input-group-sm"><input type="text" class="form-control" placeholder="Search"><span class="input-group-append"><button class="btn" type="button"><i class="fa fa-search"></i></button></span></div></div>',1),Td={class:"chat-contents"},Md={class:"chat-content-wrap"},Rd={class:"chat-wrap-inner"},Nd={class:"chat-date"},Bd={key:0,class:"chat-avatar"},zd={class:"chat-body"},Pd={class:"chat-bubble"},_d={class:"chat-content"},Fd={class:"chat-time"};function $d(t,e,a,s,i,r){var o=Object(n["x"])("router-link"),c=Object(n["x"])("footer-chat");return Object(n["q"])(),Object(n["d"])("div",vd,[Object(n["h"])("div",Id,[Object(n["h"])("div",Dd,[Object(n["h"])("div",yd,[Object(n["h"])("div",xd,[Object(n["h"])("a",{href:"#",title:r.getChatMateName()},[wd,Sd],8,["title"])]),Object(n["h"])("div",Cd,[Object(n["h"])("a",qd,[Object(n["h"])("span",Ed,Object(n["z"])(r.getChatMateName()),1),kd,i.isTyping?(Object(n["q"])(),Object(n["d"])("i",Ud,"Typing...")):Object(n["e"])("",!0)]),Ad])]),Ld])]),Object(n["h"])("div",Td,[Object(n["h"])("div",Md,[Object(n["h"])("div",Rd,[Object(n["h"])("div",{class:"chat-box",set:t.tracker=i.loggedUserChats.length>0?i.loggedUserChats[0]:""},[Object(n["h"])("div",{class:"chats",set:t.dateTracker=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.loggedUserChats,(function(e,a){return Object(n["q"])(),Object(n["d"])("div",{key:a},[t.tracker!==r.customizeDate(e.createdOn)?(Object(n["q"])(),Object(n["d"])("div",{key:0,class:"chat-line",set:t.dateTracker[a]=t.tracker},[Object(n["h"])("span",Nd,Object(n["z"])(r.customizeDate(e.createdOn)),1)],8,["set"])):Object(n["e"])("",!0),Object(n["h"])("div",{set:t.tracker=a>0&&t.tracker==r.customizeDate(e.createdOn)?t.tracker:r.customizeDate(e.createdOn),class:["chat",{"chat-left":!(i.loggedUserChatAccount.accountID===e.sender),"chat-right":i.loggedUserChatAccount.accountID===e.sender}]},[i.loggedUserChatAccount.accountID!==e.sender?(Object(n["q"])(),Object(n["d"])("div",Bd,[Object(n["h"])(o,{to:{name:"AdministratorChats",params:{administratorID:i.administratorID,chatMateID:e.sender}},class:"avatar"},{default:Object(n["F"])((function(){return[Object(n["h"])("img",{alt:"Jennifer Robinson",src:i.defaultImage,class:"img-fluid rounded-circle"},null,8,["src"])]})),_:2},1032,["to"])])):Object(n["e"])("",!0),Object(n["h"])("div",zd,[Object(n["h"])("div",Pd,[Object(n["h"])("div",_d,[Object(n["h"])("p",null,Object(n["z"])(e.message),1),Object(n["h"])("span",Fd,Object(n["z"])(r.getTimeDiff(e.createdOn)),1)])])])],10,["set"])])})),128))],8,["set"])],8,["set"])])])]),Object(n["h"])(c)])}var Gd={class:"chat-footer"},Vd={class:"message-bar"},Hd={class:"message-inner"},Qd={class:"message-area"},Wd={class:"input-group"},Jd={class:"input-group-append"},Yd=Object(n["h"])("i",{class:"fa fa-send"},null,-1);function Xd(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",Gd,[Object(n["h"])("div",Vd,[Object(n["h"])("div",Hd,[Object(n["h"])("div",Qd,[Object(n["h"])("div",Wd,[Object(n["G"])(Object(n["h"])("textarea",{class:"form-control",placeholder:"Type message...","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.message=t})},null,512),[[n["D"],i.message]]),Object(n["h"])("span",Jd,[Object(n["h"])("button",{onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.attemptSendingMessage&&r.attemptSendingMessage.apply(r,arguments)}),["prevent"])),class:"btn btn-success",type:"button"},[Yd])])])])])])])}var Kd=a("11c1"),Zd=a.n(Kd),tm={name:"ChatFooter",data:function(){return{message:"",loggedUserChatAccount:{},messageError:""}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser}},methods:{attemptSendingMessage:function(){var t=this;if(this.message){var e=this.message;Kt.collection("chats").add({chatID:Zd.a.v4(),sender:this.loggedUserChatAccount.accountID,recipient:this.$route.params.chatMateID,message:e,status:"unread",createdOn:(new Date).getTime()}).then((function(){})).catch((function(){t.message=e,t.messageError="Failed to send message!!"})),this.message=""}}},created:function(){var t=this;Kt.collection("chat_accounts").where("userID","==",this.loggedUserDetails.userID).get().then((function(e){e.forEach((function(e){t.loggedUserChatAccount.accountID=e.data().accountID,t.loggedUserChatAccount.userID=e.data().userID,t.loggedUserChatAccount.accountType=e.data().accountType,t.loggedUserChatAccount.userType=e.data().userType,t.loggedUserChatAccount.referenced_db=e.data().referenced_db,t.loggedUserChatAccount.referenceName=e.data().referenceName}))}))}};tm.render=Xd;var em=tm,am={name:"ChatWindow",components:{"footer-chat":em},props:{chatMateID:{type:String,required:!0}},data:function(){return{isTyping:!1,administratorID:"",chatMate:{},loggedUserChatAccount:{},loggedUserChats:[],setIntervalID:null,defaultImage:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?f=y",users:[]}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser}},methods:{getChatMateName:function(){return"general"===this.chatMate.accountType?this.chatMate.referenceName:this.getChatUserInstance(this.chatMate.userID)?this.getChatUserInstance(this.chatMate.userID).fullname:"Unknown User"},isChatMateAGeneralChannel:function(){return"general"===this.chatMate.accountType},getTimeDiff:function(t){return Zr(t)},customizeDate:function(t){return Kr(t)},updateChatMate:function(t){var e=this;Kt.collection("chat_accounts").where("accountID","==",t).get().then((function(t){t.forEach((function(t){e.chatMate.accountID=t.data().accountID,e.chatMate.userID=t.data().userID,e.chatMate.accountType=t.data().accountType,e.chatMate.userType=t.data().userType,e.chatMate.referenced_db=t.data().referenced_db,e.chatMate.referenceName=t.data().referenceName})),window.EventBus.emit("update-chat-mate-account-info",e.chatMate)}))},getMessages:function(t){var e=[],a=t.loggedUserChatAccount.accountID?t.loggedUserChatAccount.accountID:"";Kt.collection("chats").where("recipient","in",[t.$route.params.chatMateID,a]).orderBy("createdOn").get().then((function(a){a.forEach((function(a){if(t.isChatMateAGeneralChannel()){if(t.$route.params.chatMateID===a.data().recipient){var n={chatID:a.data().chatID,sender:a.data().sender,recipient:a.data().recipient,message:a.data().message,status:a.data().status,createdOn:a.data().createdOn};e.push(n)}}else if(t.loggedUserChatAccount.accountID===a.data().sender&&t.$route.params.chatMateID===a.data().recipient||t.loggedUserChatAccount.accountID===a.data().recipient&&t.$route.params.chatMateID===a.data().sender){var s={chatID:a.data().chatID,sender:a.data().sender,recipient:a.data().recipient,message:a.data().message,status:a.data().status,createdOn:a.data().createdOn};e.push(s)}})),t.loggedUserChats=e}))},updateChatUIAtInterval:function(){var t=this;this.setIntervalID=setInterval(Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMessages(t);case 2:case"end":return e.stop()}}),e)}))),2e3)},getChatUserInstance:function(t){var e=null;return this.users.map((function(a){a.userID===t&&(e=a)})),e}},beforeUnmount:function(){clearInterval(this.setIntervalID)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.administratorID=t.$route.params.administratorID,Kt.collection("institution_staffs").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.users.push(a)}))})),Kt.collection("system_administrator").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType};t.users.push(a)}))})),Kt.collection("chat_accounts").where("userID","==",t.loggedUserDetails.userID).get().then(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.forEach((function(e){t.loggedUserChatAccount.accountID=e.data().accountID,t.loggedUserChatAccount.userID=e.data().userID,t.loggedUserChatAccount.accountType=e.data().accountType,t.loggedUserChatAccount.userType=e.data().userType,t.loggedUserChatAccount.referenced_db=e.data().referenced_db,t.loggedUserChatAccount.referenceName=e.data().referenceName}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,t.updateChatMate(t.chatMateID);case 6:case"end":return e.stop()}}),e)})))()},mounted:function(){this.updateChatUIAtInterval()},watch:{chatMateID:function(t,e){var a=this;return Object(_n["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.updateChatMate(t);case 2:a.$forceUpdate(),console.log(e);case 4:case"end":return n.stop()}}),n)})))()}}};am.render=$d;var nm=am,sm={name:"AdministratorChats",components:{"page-header":on,"page-menu":Ku,"page-messages":os,"chat-profiletab":jd,"chat-window":nm},data:function(){return{active:"chats",administratorID:"",showAddUserDialog:!1,displayOption:"none",users:[],generatedSearchOutput:[],searchQuery:""}},computed:{appName:function(){return this.$store.getters.appName},appNameAbbr:function(){return this.$store.getters.appNameAbbr},showProspectiveChatMate:function(){return this.generatedSearchOutput.length>0},prospectChatChannels:function(){return this.$store.getters.prospectChatChannels}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},togglePrivateChatSearchView:function(){this.showAddUserDialog=!this.showAddUserDialog,this.showAddUserDialog?this.displayOption="block":(this.displayOption="none",this.generatedSearchOutput=[],this.searchQuery="")},generateProspectiveChatMateList:function(){var t=this,e=[];this.prospectChatChannels.map((function(a){var n=t.getUserDatials(a.userID);n&&n.fullname.toLowerCase().search(t.searchQuery.toLowerCase())>=0&&e.push(a)})),this.searchQuery?this.generatedSearchOutput=e:this.generatedSearchOutput=[]},chatWithSelectedProspectiveChatMate:function(t){this.togglePrivateChatSearchView(),this.$router.push({name:"AdministratorChats",params:{administratorID:this.administratorID,chatMateID:t}})},getUserDatials:function(t){var e=null;return this.users.map((function(a){a.userID===t&&(e=a)})),e}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu),window.EventBus.on("toggle-private-chat-search-view",this.togglePrivateChatSearchView)},created:function(){var t=this;this.administratorID=this.$route.params.administratorID,Kt.collection("institution_staffs").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.users.push(a)}))})),Kt.collection("system_administrators").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,createdOn:e.data().createdOn};t.users.push(a)})),console.log(t.users)}))}};a("11b5");sm.render=ku,sm.__scopeId="data-v-2288ec6a";var im=sm,rm=Object(n["I"])("data-v-06c6cc4f");Object(n["t"])("data-v-06c6cc4f");var om={class:"main-viewer"},cm={class:"main-wrapper"},lm={class:"page-wrapper"},um={class:"content"},dm=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"col-sm-12"},[Object(n["h"])("h4",{class:"page-title"},"Activities")])],-1),mm={class:"row"},bm={class:"col-md-12"},hm={class:"activity"},pm={class:"activity-box"},Om={class:"activity-list"},fm={class:"activity-user"},gm={class:"activity-content"},jm={class:"timeline-content"},vm={href:"#",class:"name"},Im={href:"#"},Dm={class:"time"},ym={class:"mr-5"},xm=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var wm=rm((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",om,[Object(n["h"])("div",cm,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",lm,[Object(n["h"])("div",um,[dm,Object(n["h"])("div",mm,[Object(n["h"])("div",bm,[Object(n["h"])("div",hm,[Object(n["h"])("div",pm,[Object(n["h"])("ul",Om,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.activities,(function(t){return Object(n["q"])(),Object(n["d"])("li",{key:t.id},[Object(n["h"])("div",fm,[Object(n["h"])("a",{href:"#",title:r.getUserFullnameByID(t.userID),"data-toggle":"tooltip",class:"avatar"},[Object(n["h"])("img",{alt:r.getUserFullnameByID(t.userID),src:"assets/img/user.jpg",class:"img-fluid rounded-circle"},null,8,["alt"])],8,["title"])]),Object(n["h"])("div",gm,[Object(n["h"])("div",jm,[Object(n["h"])("a",vm,Object(n["z"])(r.getUserFullnameByID(t.userID)),1),Object(n["g"])(" "+Object(n["z"])(t.connectorPhrase)+" ",1),Object(n["h"])("a",Im,Object(n["z"])(t.subject),1),Object(n["h"])("span",Dm,[Object(n["h"])("span",ym,Object(n["z"])(r.customizeDate(t.createdAt)),1),Object(n["g"])(" "+Object(n["z"])(r.customizeTime(t.createdAt)),1)])])])])})),128))])])])])])]),Object(n["h"])(l)])]),xm])})),Sm={name:"AdministratorActivity",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{active:"activities",administratorID:"",activities:[],users:[]}},computed:{appName:function(){return this.$store.getters.appName},appNameAbbr:function(){return this.$store.getters.appNameAbbr},loggedUserDetails:function(){return this.$store.getters.loggedUser},isSuperUser:function(){return"super user"===this.loggedUserDetails.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},getUserFullnameByID:function(t){var e="Unknown";return this.users.map((function(a){a.userID===t&&(e=a.fullname)})),e},customizeDate:function(t){return Kr(t)},customizeTime:function(t){return Zr(t)}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu),this.isSuperUser||(alert("Access denied. You are not permitted to view the requested resource."),this.$router.push({name:"AdministratorDashboard",params:{administratorID:this.administratorID}}))},created:function(){var t=this;this.administratorID=this.$route.params.administratorID,Kt.collection("administrator_activities").orderBy("createdAt").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,connectorPhrase:e.data().connectorPhrase,subject:e.data().subject,action:e.data().action,createdAt:e.data().createdAt};t.activities.push(a)}))})),Kt.collection("system_administrators").orderBy("fullname").get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType};t.users.push(a)}))}))}};a("f2f1");Sm.render=wm,Sm.__scopeId="data-v-06c6cc4f";var Cm=Sm,qm=Object(n["I"])("data-v-1b072ca8");Object(n["t"])("data-v-1b072ca8");var Em={class:"main-viewer"},km={class:"main-wrapper"},Um={class:"page-wrapper"},Am={class:"content"},Lm={class:"row"},Tm=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Administrative Users")],-1),Mm={class:"col-sm-8 col-9 text-right m-b-20"},Rm=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),Nm=Object(n["g"])("Clear Search"),Bm=Object(n["h"])("i",{class:"fas fa-user-plus mr-2"},null,-1),zm=Object(n["g"])(" Create Account"),Pm={key:0,class:"row"},_m={class:"col-sm-8 offset-sm-2 mt-5"},Fm={class:"jumbotron text-center"},$m={class:"h3"},Gm=Object(n["g"])(),Vm=Object(n["h"])("br",null,null,-1),Hm=Object(n["g"])(),Qm=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),Wm=Object(n["g"])("Back"),Jm={key:1,class:"container-fluid"},Ym={class:"row filter-row"},Xm={class:"col-sm-6 col-md-3"},Km={class:"form-group form-focus"},Zm=Object(n["h"])("label",{class:"focus-label"},"User ID",-1),tb={class:"col-sm-6 col-md-3"},eb={class:"form-group form-focus"},ab=Object(n["h"])("label",{class:"focus-label"},"Fullname",-1),nb={class:"col-sm-6 col-md-3"},sb={class:"form-group form-focus"},ib=Object(n["h"])("label",{class:"focus-label"},"Email",-1),rb={class:"col-sm-6 col-md-3"},ob={class:"row"},cb={class:"col-md-12"},lb={class:"table-responsive"},ub={class:"table table-striped custom-table"},db=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Fullname"),Object(n["h"])("th",null,"User ID"),Object(n["h"])("th",null,"Email"),Object(n["h"])("th",null,"Account Type"),Object(n["h"])("th",null,"User Role"),Object(n["h"])("th",{class:"text-right"},"Action")])],-1),mb=Object(n["g"])(),bb={class:"text-right"},hb={class:"dropdown dropdown-action"},pb=Object(n["h"])("i",{disabled:"",class:"fa fa-ellipsis-v"},null,-1),Ob={class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},fb=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),gb=Object(n["g"])(" Delete"),jb=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var vb=qm((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Em,[Object(n["h"])("div",km,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Um,[Object(n["h"])("div",Am,[Object(n["h"])("div",Lm,[Tm,Object(n["h"])("div",Mm,[i.searchResultUpdate&&i.users.length>0?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-danger text-danger mr-3"},[Rm,Nm])):Object(n["e"])("",!0),Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"CreateAdministrator",params:{administratorID:i.administratorID}}},{default:qm((function(){return[Bm,zm]})),_:1},8,["to"])])]),i.users.length<=0?(Object(n["q"])(),Object(n["d"])("div",Pm,[Object(n["h"])("div",_m,[Object(n["h"])("div",Fm,[Object(n["h"])("h3",$m,Object(n["z"])(i.emptyMessage),1),Gm,Vm,Hm,i.searchResultUpdate?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-success text-white"},[Qm,Wm])):Object(n["e"])("",!0)])])])):(Object(n["q"])(),Object(n["d"])("div",Jm,[Object(n["h"])("div",Ym,[Object(n["h"])("div",Xm,[Object(n["h"])("div",Km,[Zm,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.userID=t})},null,544),[[n["D"],i.search.userID]])])]),Object(n["h"])("div",tb,[Object(n["h"])("div",eb,[ab,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.fullname=t})},null,544),[[n["D"],i.search.fullname]])])]),Object(n["h"])("div",nb,[Object(n["h"])("div",sb,[ib,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.search.email=t})},null,544),[[n["D"],i.search.email]])])]),Object(n["h"])("div",rb,[Object(n["h"])("a",{onClick:e[9]||(e[9]=Object(n["H"])((function(){return r.searchUsers&&r.searchUsers.apply(r,arguments)}),["prevent"])),class:"btn btn-success btn-block"}," Search ")])]),Object(n["h"])("div",ob,[Object(n["h"])("div",cb,[Object(n["h"])("div",lb,[Object(n["h"])("table",ub,[db,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.users,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.userID},[Object(n["h"])("td",null,[Object(n["h"])("img",{width:"28",height:"28",src:i.users.avatar,class:"rounded-circle",alt:""},null,8,["src"]),mb,Object(n["h"])("h2",null,Object(n["z"])(t.fullname),1)]),Object(n["h"])("td",null,Object(n["z"])(t.userID),1),Object(n["h"])("td",null,Object(n["z"])(t.email),1),Object(n["h"])("td",null,Object(n["z"])(t.accountType),1),Object(n["h"])("td",null,Object(n["z"])(t.userRole),1),Object(n["h"])("td",bb,[Object(n["h"])("div",hb,["super user"!==t.userRole?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[10]||(e[10]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[pb])):Object(n["e"])("",!0),Object(n["h"])("div",Ob,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.requestUserAccount(t.userID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[fb,gb],8,["onClick"])])])])])})),128))])])])])])]))]),Object(n["h"])(u)])]),jb])})),Ib={name:"AdministrativeUsers",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{active:"administrative users",administratorID:null,emptyMessage:"User list is empty.",searchResultUpdate:!1,users:[],search:{userID:"",fullname:"",email:""}}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},isSuperUser:function(){return"super user"===this.loggedUserDetails.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},requestUserAccount:function(t){var e=this;confirm("Delete administrator account?")&&Kt.collection("system_administrators").where("userID","==",t).get().then((function(a){a.forEach((function(a){a.ref.delete(),e.users.map((function(a){a.userID===t&&e.users.splice(e.users.indexOf(a),1)}))}))}))},getUsersFromFirebase:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,Kt.collection("system_administrators").orderBy("fullname").get().then((function(t){t.forEach((function(t){var a={id:t.id,userID:t.data().userID,fullname:t.data().fullname,email:t.data().email,userRole:t.data().userRole,accountType:t.data().accountType};e.push(a)}))}));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()},searchUsersWithThreeParameters:function(t,e,a,n,s,i){var r=this;return Object(_n["a"])(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,r.getUsersFromFirebase();case 2:c=o.sent,l=to(c,t,e,a,n,s,i),r.users=l,r.users.length>=0&&(r.emptyMessage="Search result is empty.",r.searchResultUpdate=!0);case 6:case"end":return o.stop()}}),o)})))()},searchUsersWithTwoParameters:function(t,e,a,n){var s=this;return Object(_n["a"])(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.getUsersFromFirebase();case 2:r=i.sent,o=eo(r,t,e,a,n),s.users=o,s.users.length>=0&&(s.emptyMessage="Search result is empty.",s.searchResultUpdate=!0);case 6:case"end":return i.stop()}}),i)})))()},searchUsersWithOneParameters:function(t,e){var a=this;return Object(_n["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getUsersFromFirebase();case 2:s=n.sent,i=ao(s,t,e),a.users=i,a.users.length>=0&&(a.emptyMessage="Search result is empty.",a.searchResultUpdate=!0);case 6:case"end":return n.stop()}}),n)})))()},reloadDataRecords:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUsersFromFirebase();case 2:t.users=e.sent,t.emptyMessage="User list is empty.",t.searchResultUpdate=!1,t.search.userID="",t.search.fullname="",t.search.email="";case 8:case"end":return e.stop()}}),e)})))()},searchUsers:function(){this.search.userID&&this.search.fullname&&this.search.email?this.searchUsersWithThreeParameters("userID",this.search.userID,"fullname",this.search.fullname,"email",this.search.email):this.search.userID&&this.search.fullname||this.search.userID&&this.search.email||this.search.email&&this.search.fullname?this.search.userID&&this.search.fullname?this.searchUsersWithTwoParameters("userID",this.search.userID,"fullname",this.search.fullname):this.search.userID&&this.search.email?this.searchUsersWithTwoParameters("userID",this.search.userID,"email",this.search.email):this.search.email&&this.search.fullname&&this.searchUsersWithTwoParameters("email",this.search.email,"fullname",this.search.fullname):(this.search.userID||this.search.fullname||this.search.email)&&(this.search.userID?this.searchUsersWithOneParameters("userID",this.search.userID):this.search.fullname?this.searchUsersWithOneParameters("fullname",this.search.fullname):this.search.email&&this.searchUsersWithOneParameters("email",this.search.email))},updateSearchOperation:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.search.userID||t.search.fullname||t.search.email){e.next=5;break}return e.next=3,t.getUsersFromFirebase();case 3:t.users=e.sent,t.emptyMessage="User list is empty.";case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu),this.isSuperUser||(alert("Access denied. You are not permitted to view the requested resource."),this.$router.push({name:"AdministratorDashboard",params:{administratorID:this.administratorID}}))},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.administratorID=t.$route.params.administratorID,e.next=3,t.getUsersFromFirebase();case 3:t.users=e.sent;case 4:case"end":return e.stop()}}),e)})))()}};a("0528");Ib.render=vb,Ib.__scopeId="data-v-1b072ca8";var Db=Ib,yb=Object(n["I"])("data-v-1e2afa6f");Object(n["t"])("data-v-1e2afa6f");var xb={class:"main-viewer"},wb={class:"main-wrapper"},Sb={class:"page-wrapper"},Cb={class:"content"},qb={class:"row"},Eb=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Create Administrator")],-1),kb={class:"col-sm-8 col-9 text-right m-b-20"},Ub=Object(n["h"])("i",{class:"fa fa-eye mr-2"},null,-1),Ab=Object(n["g"])("Administrative Users"),Lb={class:"row"},Tb={class:"col-lg-8 offset-lg-2"},Mb={class:"row"},Rb={class:"col-sm-12"},Nb={class:"form-group"},Bb=Object(n["h"])("label",null,"User ID",-1),zb={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Pb={class:"col-sm-6"},_b={class:"form-group"},Fb=Object(n["h"])("label",null,[Object(n["g"])("Fullname "),Object(n["h"])("span",{class:"text-danger"})],-1),$b={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Gb={class:"col-sm-6"},Vb={class:"form-group"},Hb=Object(n["h"])("label",null,[Object(n["g"])("Email "),Object(n["h"])("span",{class:"text-danger"})],-1),Qb={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Wb={class:"col-sm-6"},Jb={class:"form-group"},Yb=Object(n["h"])("label",null,[Object(n["g"])("Password "),Object(n["h"])("span",{class:"text-danger"})],-1),Xb={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Kb={class:"col-sm-6"},Zb={class:"form-group"},th=Object(n["h"])("label",null,[Object(n["g"])("Role "),Object(n["h"])("span",{class:"text-danger"})],-1),eh={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ah={class:"col-sm-6"},nh={class:"form-group"},sh=Object(n["h"])("label",null,[Object(n["g"])("Account Type "),Object(n["h"])("span",{class:"text-danger"})],-1),ih={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},rh={class:"col-sm-6"},oh={class:"form-group"},ch=Object(n["h"])("label",null,"Avatar",-1),lh={class:"profile-upload"},uh={class:"upload-img"},dh={class:"upload-input"},mh=Object(n["h"])("hr",{class:"mb-3"},null,-1),bh={class:"form-group text-center"},hh=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),ph=Object(n["g"])(" Loading... "),Oh=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var fh=yb((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",xb,[Object(n["h"])("div",wb,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Sb,[Object(n["h"])("div",Cb,[Object(n["h"])("div",qb,[Eb,Object(n["h"])("div",kb,[Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"AdministrativeUsers",params:{administratorID:i.administratorID}}},{default:yb((function(){return[Ub,Ab]})),_:1},8,["to"])])]),Object(n["h"])("div",Lb,[Object(n["h"])("div",Tb,[Object(n["h"])("form",null,[Object(n["h"])("div",Mb,[Object(n["h"])("div",Rb,[Object(n["h"])("div",Nb,[Bb,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("userID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.userID=t})},null,544),[[n["D"],i.form.userID]]),i.errors.userID?(Object(n["q"])(),Object(n["d"])("small",zb,Object(n["z"])(i.errors.userID),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Pb,[Object(n["h"])("div",_b,[Fb,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("fullname")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.fullname=t})},null,544),[[n["D"],i.form.fullname]]),i.errors.fullname?(Object(n["q"])(),Object(n["d"])("small",$b,Object(n["z"])(i.errors.fullname),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Gb,[Object(n["h"])("div",Vb,[Hb,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("email")}),class:"form-control",type:"email","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",Qb,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Wb,[Object(n["h"])("div",Jb,[Yb,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("password")}),class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.password=t}),readonly:""},null,544),[[n["D"],i.form.password]]),i.errors.password?(Object(n["q"])(),Object(n["d"])("small",Xb,Object(n["z"])(i.errors.password),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Kb,[Object(n["h"])("div",Zb,[th,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("userRole")}),class:"form-control",type:"text","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.userRole=t}),readonly:""},null,544),[[n["D"],i.form.userRole]]),i.errors.userRole?(Object(n["q"])(),Object(n["d"])("small",eh,Object(n["z"])(i.errors.userRole),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",ah,[Object(n["h"])("div",nh,[sh,Object(n["G"])(Object(n["h"])("input",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("accountType")}),class:"form-control",type:"text","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.accountType=t}),readonly:""},null,544),[[n["D"],i.form.accountType]]),i.errors.accountType?(Object(n["q"])(),Object(n["d"])("small",ih,Object(n["z"])(i.errors.accountType),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",rh,[Object(n["h"])("div",oh,[ch,Object(n["h"])("div",lh,[Object(n["h"])("div",uh,[Object(n["h"])("img",{alt:"",src:i.form.avatar},null,8,["src"])]),Object(n["h"])("div",dh,[Object(n["h"])("input",{type:"file",class:"form-control",onChange:e[13]||(e[13]=function(t){return r.onFileSelected(t)}),accept:"image/*",required:""},null,32)])])])])]),mh,Object(n["h"])("div",bh,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[hh,ph],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[14]||(e[14]=Object(n["H"])((function(){return r.attemptCreatingAdministratorAccount&&r.attemptCreatingAdministratorAccount.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Create User Account"))])])])])]),Object(n["h"])(u)])]),Oh])})),gh={name:"CreateAdministrator",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{isLoading:!1,active:"create user",administratorID:null,selectedFile:null,form:{userID:"",fullname:"",email:"",password:"P@$$w0rd",userRole:"system administrator",accountType:"system administrator",avatar:""},errors:{userID:"",fullname:"",email:"",password:"",userRole:"",accountType:"",avatar:""}}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},isSuperUser:function(){return"super user"===this.loggedUserDetails.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},validateForm:function(){return this.form.userID||(this.errors.userID="User ID is required!"),this.form.fullname||(this.errors.fullname="Fullname is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.password||(this.errors.password="Password is required!"),this.form.userRole||(this.errors.userRole="User Role is required!"),this.form.accountType||(this.errors.accountType="Account Type is required!"),!!(this.form.userID&&this.form.fullname&&this.form.email&&this.form.password&&this.form.userRole&&this.form.accountType)},onFileSelected:function(t){var e=this,a=t.target.files,n=a[0].name;if(n.lastIndexOf(".")<=0)return alert("Please upload a valid file!");var s=new FileReader;s.addEventListener("load",(function(){e.form.avatar=s.result})),s.readAsDataURL(a[0]),this.selectedFile=a[0]},attemptCreatingAdministratorAccount:function(){var t=this;this.isLoading=!0,this.validateForm()?Zt.createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(){Kt.collection("system_administrators").add({userID:t.form.userID,fullname:t.form.fullname,email:t.form.email,userRole:t.form.userRole,accountType:t.form.accountType,phone:"---",createdOn:(new Date).getTime()}).then((function(e){console.log(e);var a=t.selectedFile.name,n=a.slice(a.lastIndexOf("."));Jt["a"].storage().ref("system_administrators/"+t.form.userID+n).put(t.selectedFile).then((function(e){e.ref.getDownloadURL().then((function(e){Kt.collection("system_administrators").where("userID","==",t.form.userID).get().then((function(a){a.forEach((function(t){t.ref.update({avatar:e})}));var n=ee["a"].v4();Kt.collection("chat_accounts").add({accountID:n,userID:t.form.userID,accountType:"private",userType:t.form.userRole,referenced_db:"system_administrators",referenceName:""}).then((function(t){console.log(t)})).catch((function(e){t.isLoading=!1,alert(e.message)})),Kt.collection("administrator_activities").add({userID:t.loggedUserDetails.userID,connectorPhrase:"created an administrator account",subject:t.form.fullname,action:"create user",createdAt:(new Date).getTime()}).then((function(e){console.log(e),alert("".concat(t.form.fullname,"'s account was created successfully.")),t.isLoading=!1,t.$router.push({name:"AdministrativeUsers",params:{administratorID:t.administratorID}})}))}))}))}))})).catch((function(e){t.isLoading=!1,alert(e.message)}))}),(function(e){t.isLoading=!1,alert(e.message)})):this.isLoading=!1}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu),this.isSuperUser||(alert("Access denied. You are not permitted to view the requested resource."),this.$router.push({name:"AdministratorDashboard",params:{administratorID:this.administratorID}}))},created:function(){this.administratorID=this.$route.params.administratorID,this.form.userID=ee["a"].v1()}};a("0374");gh.render=fh,gh.__scopeId="data-v-1e2afa6f";var jh=gh,vh=Object(n["I"])("data-v-1854b342");Object(n["t"])("data-v-1854b342");var Ih={class:"main-viewer"},Dh={class:"main-wrapper"},yh={class:"page-wrapper"},xh={class:"content"},wh={class:"row"},Sh={class:"col-sm-4 col-3"},Ch={class:"page-title"},qh={class:"col-sm-8 col-9 text-right m-b-20"},Eh=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),kh=Object(n["g"])("Back "),Uh={class:"row"},Ah={class:"col-lg-8 offset-lg-2"},Lh={class:"row"},Th={class:"col-sm-12"},Mh={class:"form-group"},Rh=Object(n["h"])("label",null,"Institution ID",-1),Nh={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Bh={class:"row"},zh={class:"col-sm-6"},Ph={class:"form-group"},_h=Object(n["h"])("label",null,[Object(n["g"])("Name "),Object(n["h"])("span",{class:"text-danger"})],-1),Fh={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},$h={class:"col-sm-6"},Gh={class:"form-group"},Vh=Object(n["h"])("label",null,[Object(n["g"])("Email "),Object(n["h"])("span",{class:"text-danger"})],-1),Hh={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Qh={class:"col-sm-6"},Wh={class:"form-group"},Jh=Object(n["h"])("label",null,"Phone",-1),Yh={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Xh={class:"col-sm-6"},Kh={class:"form-group"},Zh=Object(n["h"])("label",null,[Object(n["g"])("Reg. Number "),Object(n["h"])("span",{class:"text-danger"})],-1),tp={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ep={class:"row"},ap={class:"col-sm-12"},np={class:"form-group"},sp=Object(n["h"])("label",null,"Address",-1),ip={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},rp={class:"row"},op={class:"col-sm-4 col-md-4 col-lg-4"},cp={class:"form-group"},lp=Object(n["h"])("label",null,"Country",-1),up=Object(n["h"])("option",null,"USA",-1),dp=Object(n["h"])("option",null,"United Kingdom",-1),mp={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},bp={class:"col-sm-4 col-md-4 col-lg-4"},hp={class:"form-group"},pp=Object(n["h"])("label",null,"City",-1),Op={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},fp={class:"col-sm-4 col-md-4 col-lg-4"},gp={class:"form-group"},jp=Object(n["h"])("label",null,"State/Province",-1),vp=Object(n["h"])("option",null,"California",-1),Ip=Object(n["h"])("option",null,"Alaska",-1),Dp=Object(n["h"])("option",null,"Alabama",-1),yp={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},xp={class:"row"},wp={class:"col-sm-6"},Sp={class:"form-group"},Cp=Object(n["h"])("label",null,"Account Type",-1),qp={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Ep={class:"col-sm-6"},kp={class:"form-group"},Up=Object(n["h"])("label",null,"Avatar",-1),Ap={class:"profile-upload"},Lp={class:"upload-img"},Tp={class:"upload-input"},Mp=Object(n["h"])("hr",{class:"mb-3"},null,-1),Rp={class:"form-group text-center"},Np=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Bp=Object(n["g"])(" Loading... "),zp=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Pp=vh((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Ih,[Object(n["h"])("div",Dh,[Object(n["h"])(o),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",yh,[Object(n["h"])("div",xh,[Object(n["h"])("div",wh,[Object(n["h"])("div",Sh,[Object(n["h"])("h4",Ch,"Edit "+Object(n["z"])(i.form.name.length>=0?i.form.name:"Unknown")+" Institution Record",1)]),Object(n["h"])("div",qh,[Object(n["h"])(l,{to:{name:"RegisteredInstitutionDetails",params:{administratorID:i.administratorID,institutionID:i.institutionID}},class:"btn btn-outline-secondary"},{default:vh((function(){return[Eh,kh]})),_:1},8,["to"])])]),Object(n["h"])("div",Uh,[Object(n["h"])("div",Ah,[Object(n["h"])("form",null,[Object(n["h"])("div",Lh,[Object(n["h"])("div",Th,[Object(n["h"])("div",Mh,[Rh,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("institutionID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.institutionID=t})},null,544),[[n["D"],i.institutionID]]),i.errors.institutionID?(Object(n["q"])(),Object(n["d"])("small",Nh,Object(n["z"])(i.errors.institutionID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",Bh,[Object(n["h"])("div",zh,[Object(n["h"])("div",Ph,[_h,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("name")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.name=t})},null,544),[[n["D"],i.form.name]]),i.errors.name?(Object(n["q"])(),Object(n["d"])("small",Fh,Object(n["z"])(i.errors.name),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",$h,[Object(n["h"])("div",Gh,[Vh,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("email")}),class:"form-control",type:"email","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.email=t}),readonly:""},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",Hh,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Qh,[Object(n["h"])("div",Wh,[Jh,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("phone")}),class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.phone=t})},null,544),[[n["D"],i.form.phone]]),i.errors.phone?(Object(n["q"])(),Object(n["d"])("small",Yh,Object(n["z"])(i.errors.phone),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Xh,[Object(n["h"])("div",Kh,[Zh,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("registrationNumber")}),class:"form-control",type:"text","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.registrationNumber=t})},null,544),[[n["D"],i.form.registrationNumber]]),i.errors.registrationNumber?(Object(n["q"])(),Object(n["d"])("small",tp,Object(n["z"])(i.errors.registrationNumber),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",ep,[Object(n["h"])("div",ap,[Object(n["h"])("div",np,[sp,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("address")}),class:"form-control","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.address=t})},null,544),[[n["D"],i.form.address]]),i.errors.address?(Object(n["q"])(),Object(n["d"])("small",ip,Object(n["z"])(i.errors.address),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",rp,[Object(n["h"])("div",op,[Object(n["h"])("div",cp,[lp,Object(n["G"])(Object(n["h"])("select",{onChange:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("country")}),class:"form-control select","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.country=t})},[up,dp],544),[[n["C"],i.form.country]]),i.errors.country?(Object(n["q"])(),Object(n["d"])("small",mp,Object(n["z"])(i.errors.country),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",bp,[Object(n["h"])("div",hp,[pp,Object(n["G"])(Object(n["h"])("input",{onInput:e[15]||(e[15]=function(t){return r.updateErrorStatusOnInput("city")}),type:"text",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=function(t){return i.form.city=t})},null,544),[[n["D"],i.form.city]]),i.errors.city?(Object(n["q"])(),Object(n["d"])("small",Op,Object(n["z"])(i.errors.city),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",fp,[Object(n["h"])("div",gp,[jp,Object(n["G"])(Object(n["h"])("select",{onChange:e[17]||(e[17]=function(t){return r.updateErrorStatusOnInput("stateProvince")}),class:"form-control select","onUpdate:modelValue":e[18]||(e[18]=function(t){return i.form.stateProvince=t})},[vp,Ip,Dp],544),[[n["C"],i.form.stateProvince]]),i.errors.stateProvince?(Object(n["q"])(),Object(n["d"])("small",yp,Object(n["z"])(i.errors.stateProvince),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",xp,[Object(n["h"])("div",wp,[Object(n["h"])("div",Sp,[Cp,Object(n["G"])(Object(n["h"])("input",{onInput:e[19]||(e[19]=function(t){return r.updateErrorStatusOnInput("accountType")}),class:"form-control",type:"text","onUpdate:modelValue":e[20]||(e[20]=function(t){return i.form.accountType=t}),readonly:""},null,544),[[n["D"],i.form.accountType]]),i.errors.accountType?(Object(n["q"])(),Object(n["d"])("small",qp,Object(n["z"])(i.errors.accountType),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Ep,[Object(n["h"])("div",kp,[Up,Object(n["h"])("div",Ap,[Object(n["h"])("div",Lp,[Object(n["h"])("img",{alt:"",src:i.form.avatar},null,8,["src"])]),Object(n["h"])("div",Tp,[Object(n["h"])("input",{type:"file",class:"form-control",onChange:e[21]||(e[21]=function(t){return r.onFileSelected(t)}),accept:"image/*",required:""},null,32)])])])])]),Mp,Object(n["h"])("div",Rp,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[Np,Bp],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[22]||(e[22]=Object(n["H"])((function(){return r.attemptInstitutionRecordUpdate&&r.attemptInstitutionRecordUpdate.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Update Institution Account Record"))])])])])]),Object(n["h"])(u)])]),zp])})),_p={name:"RegisterInstitution",components:{"page-header":on,"page-menu":$n,"page-messages":os},data:function(){return{active:"register institution",isLoading:!1,selectedFile:null,administratorID:"",institutionID:"",form:{name:"",email:"",phone:"",registrationNumber:"",address:"",country:"",stateProvince:"",city:"",accountType:"institution account",avatar:""},errors:{name:"",email:"",phone:"",registrationNumber:"",address:"",country:"",stateProvince:"",city:"",accountType:"",avatar:""}}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},onFileSelected:function(t){var e=this,a=t.target.files,n=a[0].name;if(n.lastIndexOf(".")<=0)return alert("Please upload a valid file!");var s=new FileReader;s.addEventListener("load",(function(){e.form.avatar=s.result})),s.readAsDataURL(a[0]),this.selectedFile=a[0]},validateForm:function(){return this.form.name||(this.errors.name="Name is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.phone||(this.errors.phone="Phone number is required!"),this.form.registrationNumber||(this.errors.registrationNumber="Institution Registration Number is required!"),this.form.address||(this.errors.address="Address is required!"),this.form.country||(this.errors.country="Country is required!"),this.form.stateProvince||(this.errors.stateProvince="State/Province is required!"),this.form.city||(this.errors.city="City is required!"),this.form.accountType||(this.errors.accountType="Account type is required!"),!!(this.form.name&&this.form.email&&this.form.phone&&this.form.registrationNumber&&this.form.address&&this.form.country&&this.form.stateProvince&&this.form.city&&this.form.accountType&&this.form.avatar)},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},getInstitutionNameByID:function(t){var e="Unknown";return this.institutions.map((function(a){a.institutionID===t&&(e=a.name)})),e},attemptInstitutionRecordUpdate:function(){var t=this;this.isLoading=!0,this.validateForm()&&confirm("Do you want proceed with ".concat(this.form.name," institution record update?"))?Kt.collection("institutions").where("institutionID","==",this.institutionID).get().then((function(e){e.forEach((function(e){e.ref.update({name:t.form.name,email:t.form.email,phone:t.form.phone,registrationNumber:t.form.registrationNumber,address:t.form.address,country:t.form.country,stateProvince:t.form.stateProvince,city:t.form.city,accountType:t.form.accountType}).then((function(){if(t.selectedFile){var e=t.selectedFile.name,a=e.slice(e.lastIndexOf("."));Jt["a"].storage().ref("institutions/"+t.institutionID+a).put(t.selectedFile).then((function(e){e.ref.getDownloadURL().then((function(e){Kt.collection("institutions").where("institutionID","==",t.institutionID).get().then((function(a){a.forEach((function(t){t.ref.update({avatar:e})})),Kt.collection("administrator_activities").add({userID:t.loggedUserDetails.userID,connectorPhrase:"updated institution record",subject:t.form.name,action:"update institution",createdAt:(new Date).getTime()}).then((function(e){console.log(e),t.isLoading=!1,t.$router.push({name:"RegisteredInstitutionDetails",params:{administratorID:t.administratorID,institutionID:t.institutionID}})}))}))}))}))}else t.isLoading=!1,t.$router.push({name:"RegisteredInstitutionDetails",params:{administratorID:t.administratorID,institutionID:t.institutionID}})})).catch((function(e){t.isLoading=!1,alert(e.message)}))}))})):this.isLoading=!1}},created:function(){var t=this;this.administratorID=this.$route.params.administratorID,this.institutionID=this.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",this.institutionID).get().then((function(e){e.forEach((function(e){t.form.name=e.data().name,t.form.avatar=e.data().avatar,t.form.email=e.data().email,t.form.phone=e.data().phone,t.form.registrationNumber=e.data().registrationNumber,t.form.address=e.data().address,t.form.country=e.data().country,t.form.stateProvince=e.data().stateProvince,t.form.city=e.data().city,t.form.accountType=e.data().accountType,t.form.status=e.data().status}))}))},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)}};a("2208");_p.render=Pp,_p.__scopeId="data-v-1854b342";var Fp=_p;function $p(t,e,a,s,i,r){var o=Object(n["x"])("router-view");return Object(n["q"])(),Object(n["d"])(o)}var Gp={name:"Institutions"};Gp.render=$p;var Vp=Gp,Hp=Object(n["I"])("data-v-1ece95ee");Object(n["t"])("data-v-1ece95ee");var Qp={class:"main-wrapper account-wrapper"},Wp={class:"account-page"},Jp={class:"account-center"},Yp={class:"account-box"},Xp={class:"form-signin"},Kp={class:"account-logo"},Zp=Object(n["h"])("div",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-university fa-5x"})],-1),tO=Object(n["h"])("div",{class:"h4"},"Institution Login",-1),eO={class:"form-group"},aO=Object(n["h"])("label",null,"Institution",-1),nO=Object(n["h"])("option",{value:""},"Select Institution",-1),sO={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},iO={class:"form-group"},rO=Object(n["h"])("label",null,"Email",-1),oO={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},cO={class:"form-group"},lO=Object(n["h"])("label",null,"Password",-1),uO={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},dO=Object(n["h"])("div",{class:"form-group text-right"},null,-1),mO={class:"form-group text-center"},bO=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),hO=Object(n["g"])(" Loading... "),pO={class:"form-group text-center"},OO=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),fO=Object(n["g"])("Back");Object(n["r"])();var gO=Hp((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",Qp,[Object(n["h"])("div",Wp,[Object(n["h"])("div",Jp,[Object(n["h"])("div",Yp,[Object(n["h"])("form",Xp,[Object(n["h"])("div",Kp,[Object(n["h"])(o,{to:{name:"AdministratorLogin"}},{default:Hp((function(){return[Zp,tO]})),_:1})]),Object(n["h"])("div",eO,[aO,Object(n["G"])(Object(n["h"])("select",{onChange:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("institutionID")}),class:"form-control select","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.institutionID=t})},[nO,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.institutions,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.institutionID,value:t.institutionID},Object(n["z"])(t.name),9,["value"])})),128))],544),[[n["C"],i.form.institutionID]]),i.errors.institutionID?(Object(n["q"])(),Object(n["d"])("small",sO,Object(n["z"])(i.errors.institutionID),1)):Object(n["e"])("",!0)]),Object(n["h"])("div",iO,[rO,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("email")}),type:"text",autofocus:"",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",oO,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)]),Object(n["h"])("div",cO,[lO,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("password")}),type:"password",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.password=t})},null,544),[[n["D"],i.form.password]]),i.errors.password?(Object(n["q"])(),Object(n["d"])("small",uO,Object(n["z"])(i.errors.password),1)):Object(n["e"])("",!0)]),dO,Object(n["h"])("div",mO,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[bO,hO],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[7]||(e[7]=Object(n["H"])((function(){return r.attemptLogin&&r.attemptLogin.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Login"))]),Object(n["h"])("div",pO,[Object(n["h"])(o,{to:"/",class:"btn btn-outline-secondary"},{default:Hp((function(){return[OO,fO]})),_:1})])])])])])])})),jO={name:"Login",data:function(){return{isLoading:!1,institutions:[],form:{institutionID:"",email:"",password:""},errors:{institutionID:"",email:"",password:"",message:""},loggedUserDetails:{},expectedAccountType:"institution staff"}},methods:{attemptLogin:function(){var t=this;this.isLoading=!0,this.validateForm()?Zt.signInWithEmailAndPassword(this.form.email,this.form.password).then((function(e){console.log("Login Response: ".concat(e)),Kt.collection("institution_staffs").where("email","==",t.form.email).get().then((function(e){e.forEach((function(e){t.loggedUserDetails.userID=e.data().userID,t.loggedUserDetails.institutionID=e.data().institutionID,t.loggedUserDetails.fullname=e.data().fullname,t.loggedUserDetails.email=e.data().email,t.loggedUserDetails.userRole=e.data().userRole,t.loggedUserDetails.accountType=e.data().accountType,t.loggedUserDetails.address=e.data().address,t.loggedUserDetails.gender=e.data().gender,t.loggedUserDetails.dob=e.data().dob,t.loggedUserDetails.avatar=e.data().avatar})),t.$store.dispatch("UPDATE_LOGIN",{loggedUser:t.loggedUserDetails}).then((function(){t.loggedUserDetails.institutionID===t.form.institutionID&&t.loggedUserDetails.accountType===t.expectedAccountType?t.$router.push({name:"InstitutionalDashboard",params:{institutionID:t.loggedUserDetails.institutionID}}):(t.form.institutionID="",t.form.email="",t.form.password="",alert("You are NOT a staff of the selected institution. Please login using the valid credentials!!!"),t.attemptLogout()),t.isLoading=!1})).catch((function(e){console.log("INSTITUTION LOGIN STORE ERROR:",e),t.isLoading=!1}))})),t.isLoading=!1}),(function(e){t.isLoading=!1,alert(e.message)})):this.isLoading=!1},attemptLogout:function(){var t=this;Zt.signOut().then((function(){t.$store.dispatch("ATTEMPT_LOGOUT").then((function(){t.$router.push({name:"InstitutionalLogin"})})).catch((function(t){console.log(t)}))}))},validateForm:function(){return this.form.institutionID||(this.errors.institutionID="Institution is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.password||(this.errors.password="Password is required!"),!(!this.form.email||!this.form.password)},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},created:function(){var t=this;Kt.collection("institutions").orderBy("name").get().then((function(e){e.forEach((function(e){var a={id:e.id,institutionID:e.data().institutionID,name:e.data().name,avatar:e.data().avatar,email:e.data().email,phone:e.data().phone,registrationNumber:e.data().registrationNumber,address:e.data().address,country:e.data().country,stateProvince:e.data().stateProvince,city:e.data().city,accountType:e.data().accountType,status:e.data().status,createdOn:e.data().createdOn};t.institutions.push(a)}))}))}};a("0d67");jO.render=gO,jO.__scopeId="data-v-1ece95ee";var vO=jO,IO={class:"main-wrapper"},DO={class:"page-wrapper"},yO={class:"content"},xO={key:0,class:"row"},wO={class:"col-md-4 col-sm-4 col-lg-4 offset-md-1 offset-sm-1 offset-lg-1 mt-5 mb-5"},SO={class:"dash-widget"},CO=Object(n["h"])("h3",{class:"mb-3"},"Registered Employees",-1),qO=Object(n["h"])("span",{class:"dash-widget-bg1"},[Object(n["h"])("i",{class:"fa fa-users","aria-hidden":"true"})],-1),EO={class:"dash-widget-info text-right"},kO=Object(n["h"])("span",{class:"widget-title1"},[Object(n["g"])("Employees "),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),UO={class:"col-md-4 col-sm-4 col-lg-4 offset-md-2 offset-sm-2 offset-lg-2 mt-5 mb-5"},AO={class:"dash-widget"},LO=Object(n["h"])("h3",{class:"mb-3"},"Registered Students",-1),TO=Object(n["h"])("span",{class:"dash-widget-bg2"},[Object(n["h"])("i",{class:"fa fa-users"})],-1),MO={class:"dash-widget-info text-right"},RO=Object(n["h"])("span",{class:"widget-title2"},[Object(n["g"])("Students "),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),NO={class:"col-md-4 col-sm-4 col-lg-4 offset-md-1 offset-sm-1 offset-lg-1 mt-5 mb-5"},BO={class:"dash-widget"},zO=Object(n["h"])("h3",{class:"mb-3"},"Registered Classrooms",-1),PO=Object(n["h"])("span",{class:"dash-widget-bg3"},[Object(n["h"])("i",{class:"far fa-object-group"})],-1),_O={class:"dash-widget-info text-right"},FO=Object(n["h"])("span",{class:"widget-title3"},[Object(n["g"])("Classrooms "),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),$O={class:"col-md-4 col-sm-4 col-lg-4 offset-md-2 offset-sm-2 offset-lg-2 mt-5 mb-5"},GO={class:"dash-widget"},VO=Object(n["h"])("h3",{class:"mb-3"},"Registered Courses",-1),HO=Object(n["h"])("span",{class:"dash-widget-bg4"},[Object(n["h"])("i",{class:"fas fa-chalkboard-teacher"})],-1),QO={class:"dash-widget-info text-right"},WO=Object(n["h"])("span",{class:"widget-title4"},[Object(n["g"])("Courses "),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),JO={class:"col-md-4 col-sm-4 col-lg-4 offset-md-1 offset-sm-1 offset-lg-1 mt-5 mb-5"},YO={class:"dash-widget"},XO=Object(n["h"])("h3",{class:"mb-3"},"Examination History",-1),KO=Object(n["h"])("span",{class:"dash-widget-bg2"},[Object(n["h"])("i",{class:"fas fa-file-alt"})],-1),ZO={class:"dash-widget-info text-right"},tf=Object(n["h"])("span",{class:"widget-title2"},[Object(n["g"])("Examinations "),Object(n["h"])("i",{class:"fa fa-check","aria-hidden":"true"})],-1),ef={key:1,class:"row"},af={class:"jumbotron"},nf=Object(n["g"])(" Welcome to "),sf=Object(n["g"])("'s Dashboard"),rf=Object(n["h"])("br",null,null,-1),of=Object(n["h"])("p",{class:"mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non eleifend nisi, et hendrerit erat. Nullam vitae ullamcorper eros, ac venenatis urna. Donec tempor ut ex ut efficitur. Maecenas a urna diam. Curabitur eleifend dolor orci, eget mollis leo volutpat id. Integer sit amet egestas eros. Suspendisse at ullamcorper urna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.In dictum ante tristique nisi tristique, id convallis nulla tempus. Ut sit amet massa venenatis, efficitur purus in, varius massa. Pellentesque eget lectus sed eros porta maximus. Phasellus hendrerit justo erat, eget finibus eros malesuada ac. Phasellus sodales turpis lobortis, aliquam urna eu, dapibus tellus. Sed consequat tincidunt tellus, quis pulvinar leo porttitor ac. Suspendisse sagittis eget est in egestas. Vestibulum at auctor lectus, quis ultrices turpis. Morbi viverra semper mi, vitae finibus magna maximus et. Suspendisse potenti. Duis vestibulum fringilla dui ac scelerisque. Aenean porttitor molestie rhoncus. Suspendisse dictum vel est lacinia tristique. Donec lacinia at nunc at bibendum. Fusce vel orci diam. Fusce id venenatis sapien, et imperdiet metus. ",-1),cf=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);function lf(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["h"])("div",IO,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",DO,[Object(n["h"])("div",yO,[r.isAdministratorLogin?(Object(n["q"])(),Object(n["d"])("div",xO,[Object(n["h"])("div",wO,[Object(n["h"])("div",SO,[CO,qO,Object(n["h"])("div",EO,[Object(n["h"])("h3",null,Object(n["z"])(i.employeesCount),1),kO])])]),Object(n["h"])("div",UO,[Object(n["h"])("div",AO,[LO,TO,Object(n["h"])("div",MO,[Object(n["h"])("h3",null,Object(n["z"])(i.studentsCount),1),RO])])]),Object(n["h"])("div",NO,[Object(n["h"])("div",BO,[zO,PO,Object(n["h"])("div",_O,[Object(n["h"])("h3",null,Object(n["z"])(i.classroomsCount),1),FO])])]),Object(n["h"])("div",$O,[Object(n["h"])("div",GO,[VO,HO,Object(n["h"])("div",QO,[Object(n["h"])("h3",null,Object(n["z"])(i.coursesCount),1),WO])])]),Object(n["h"])("div",JO,[Object(n["h"])("div",YO,[XO,KO,Object(n["h"])("div",ZO,[Object(n["h"])("h3",null,Object(n["z"])(i.examinationsCount),1),tf])])])])):Object(n["e"])("",!0),r.isAdministratorLogin?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",ef,[Object(n["h"])("div",af,[nf,Object(n["h"])("strong",null,Object(n["z"])(r.loggedUser.fullname),1),sf,rf,of])]))]),Object(n["h"])(l)])]),cf])}var uf=Object(n["I"])("data-v-b34d6da0");Object(n["t"])("data-v-b34d6da0");var df={class:"header"},mf={class:"header-left"},bf=Object(n["g"])(),hf={class:"h6 pt-2"},pf=Object(n["h"])("i",{class:"fa fa-bars"},null,-1),Of={class:"nav user-menu float-right"},ff={class:"nav-item dropdown d-none d-sm-block"},gf=Object(n["h"])("i",{class:"fa fa-comment"},null,-1),jf=Object(n["g"])(),vf=Object(n["h"])("span",{class:"badge badge-pill bg-danger float-right"},"8",-1),If={class:"nav-item dropdown has-arrow"},Df=Object(n["h"])("span",{class:"user-img"},[Object(n["h"])("img",{class:"rounded-circle",src:da.a,width:"24",alt:""}),Object(n["h"])("span",{class:"status online"})],-1),yf={class:"dropdown-menu"},xf=Object(n["g"])("My Profile"),wf=Object(n["g"])("Edit Profile"),Sf={class:"dropdown mobile-user-menu float-right"},Cf=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),qf={class:"dropdown-menu dropdown-menu-right"},Ef=Object(n["g"])("My Profile"),kf=Object(n["g"])("Edit Profile");Object(n["r"])();var Uf=uf((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",df,[Object(n["h"])("div",mf,[Object(n["h"])(o,{to:{name:"InstitutionalDashboard",params:{institutionID:i.institutionID}},class:"logo"},{default:uf((function(){return[Object(n["h"])("img",{src:a.institution.avatar,width:"35",height:"35",alt:"",srcset:""},null,8,["src"]),bf,Object(n["h"])("span",hf,Object(n["z"])(a.institution.name),1)]})),_:1},8,["to"])]),Object(n["h"])("a",{id:"mobile_btn",onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.toggleMobileMenuOption&&r.toggleMobileMenuOption.apply(r,arguments)}),["prevent"])),class:"mobile_btn float-left",href:"#sidebar"},[pf]),Object(n["h"])("ul",Of,[Object(n["h"])("li",ff,[Object(n["h"])("a",{onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.toggleShowMessageBox&&r.toggleShowMessageBox.apply(r,arguments)}),["prevent"])),id:"open_msg_box",class:"hasnotifications nav-link"},[gf,jf,vf])]),Object(n["h"])("li",If,[Object(n["h"])("a",{onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.toggleUserOptionMenu&&r.toggleUserOptionMenu.apply(r,arguments)}),["prevent"])),class:"dropdown-toggle nav-link user-link","data-toggle":"dropdown"},[Df,Object(n["h"])("span",{class:"pr-2 pl-2",title:r.loggedUserFullname},[Object(n["h"])("strong",null,Object(n["z"])(r.loggedUserInitials),1)],8,["title"])]),Object(n["h"])("div",yf,[Object(n["h"])(o,{class:"dropdown-item",to:{name:"InstitutionProfile",params:{institutionID:i.institutionID}}},{default:uf((function(){return[xf]})),_:1},8,["to"]),Object(n["h"])(o,{class:"dropdown-item",to:{name:"InstitutionProfileEditor",params:{institutionID:i.institutionID}}},{default:uf((function(){return[wf]})),_:1},8,["to"]),Object(n["h"])("a",{class:"dropdown-item",onClick:e[4]||(e[4]=Object(n["H"])((function(){return r.attemptLogout&&r.attemptLogout.apply(r,arguments)}),["prevent"]))},"Logout")])])]),Object(n["h"])("div",Sf,[Object(n["h"])("a",{onClick:e[5]||(e[5]=Object(n["H"])((function(){return r.toggleUserOptionMenu&&r.toggleUserOptionMenu.apply(r,arguments)}),["prevent"])),class:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false"},[Cf]),Object(n["h"])("div",qf,[Object(n["h"])(o,{class:"dropdown-item",to:{name:"InstitutionProfile",params:{institutionID:i.institutionID}}},{default:uf((function(){return[Ef]})),_:1},8,["to"]),Object(n["h"])(o,{class:"dropdown-item",to:{name:"InstitutionProfileEditor",params:{institutionID:i.institutionID}}},{default:uf((function(){return[kf]})),_:1},8,["to"]),Object(n["h"])("a",{class:"dropdown-item",onClick:e[6]||(e[6]=Object(n["H"])((function(){return r.attemptLogout&&r.attemptLogout.apply(r,arguments)}),["prevent"]))},"Logout")])])])})),Af={name:"PageHeader",props:{institution:{type:Object,required:!0}},data:function(){return{institutionID:null,expectedAccountType:"institution staff"}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUserDetails.fullname},loggedUserInitials:function(){return Pa(this.loggedUserFullname)}},methods:{attemptLogout:function(){var t=this;Zt.signOut().then((function(){t.$store.dispatch("ATTEMPT_LOGOUT").then((function(){t.$router.push({name:"Home"})})).catch((function(t){console.log(t)}))}))},toggleMobileMenuOption:function(){window.EventBus.emit("page-header-mobile-menu")},toggleUserOptionMenu:function(t){var e=this.getTargetElement(t);e&&e.classList.contains("dropdown-toggle")&&(e.nextElementSibling.classList.contains("show")?e.nextElementSibling.classList.remove("show"):e.nextElementSibling.classList.add("show"))},toggleShowMessageBox:function(){window.EventBus.emit("page-header-message-box")},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null}},created:function(){this.institutionID=this.$route.params.institutionID},mounted:function(){this.loggedUserDetails.accountType!==this.expectedAccountType&&(alert("You are NOT allowed to view this page!!!"),this.attemptLogout())}};a("4289");Af.render=Uf,Af.__scopeId="data-v-b34d6da0";var Lf=Af,Tf={class:"sidebar",id:"sidebar"},Mf={class:"sidebar-inner slimscroll"},Rf={id:"sidebar-menu",class:"sidebar-menu"},Nf=Object(n["h"])("li",{class:"menu-title"},"Main",-1),Bf=Object(n["h"])("i",{class:"fas fa-tachometer-alt"},null,-1),zf=Object(n["g"])(),Pf=Object(n["h"])("span",null,"Dashboard",-1),_f=Object(n["h"])("i",{class:"fa fa-comment"},null,-1),Ff=Object(n["g"])(),$f=Object(n["h"])("span",null,"Chats",-1),Gf={key:0,class:"submenu"},Vf=Object(n["h"])("i",{class:"fas fa-users"},null,-1),Hf=Object(n["g"])(),Qf=Object(n["h"])("span",null,"Employees",-1),Wf=Object(n["g"])(),Jf=Object(n["h"])("span",{class:"menu-arrow"},null,-1),Yf={style:{display:"none"}},Xf=Object(n["g"])(" All Employees "),Kf=Object(n["g"])(" Register Employee "),Zf={key:1,class:"submenu"},tg=Object(n["h"])("i",{class:"fas fa-users"},null,-1),eg=Object(n["g"])(),ag=Object(n["h"])("span",null,"Students",-1),ng=Object(n["g"])(),sg=Object(n["h"])("span",{class:"menu-arrow"},null,-1),ig={style:{display:"none"}},rg=Object(n["g"])(" All Students "),og=Object(n["g"])(" Register Students "),cg={class:"submenu"},lg=Object(n["h"])("i",{class:"far fa-object-group"},null,-1),ug=Object(n["g"])(),dg=Object(n["h"])("span",null,"Classrooms",-1),mg=Object(n["g"])(),bg=Object(n["h"])("span",{class:"menu-arrow"},null,-1),hg={style:{display:"none"}},pg=Object(n["g"])(" All Classrooms "),Og=Object(n["g"])(" Create Classroom "),fg={key:2,class:"submenu"},gg=Object(n["h"])("i",{class:"fas fa-chalkboard-teacher"},null,-1),jg=Object(n["g"])(),vg=Object(n["h"])("span",null,"Courses",-1),Ig=Object(n["g"])(),Dg=Object(n["h"])("span",{class:"menu-arrow"},null,-1),yg={style:{display:"none"}},xg=Object(n["g"])(" All Courses "),wg=Object(n["g"])(" Create Courses "),Sg={class:"submenu"},Cg=Object(n["h"])("i",{class:"fas fa-file-alt"},null,-1),qg=Object(n["g"])(),Eg=Object(n["h"])("span",null,"Examinations",-1),kg=Object(n["g"])(),Ug=Object(n["h"])("span",{class:"menu-arrow"},null,-1),Ag={style:{display:"none"}},Lg=Object(n["g"])(" All Examinations ");function Tg(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",Tf,[Object(n["h"])("div",Mf,[Object(n["h"])("div",Rf,[Object(n["h"])("ul",null,[Nf,Object(n["h"])("li",{class:{active:"dashboard"===a.active}},[Object(n["h"])(o,{to:{name:"InstitutionalDashboard",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[Bf,zf,Pf]})),_:1},8,["to"])],2),Object(n["h"])("li",{class:{active:"chats"===a.active}},[Object(n["h"])(o,{to:{name:"InstitutionChats",params:{institutionID:i.institutionID,chatMateID:this.institutionChatChannel.accountID}}},{default:Object(n["F"])((function(){return[_f,Ff,$f]})),_:1},8,["to"])],2),r.isAdministratorLogin?(Object(n["q"])(),Object(n["d"])("li",Gf,[Object(n["h"])("a",{onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.toggleSubmenu&&r.toggleSubmenu.apply(r,arguments)}),["prevent"]))},[Vf,Hf,Qf,Wf,Jf]),Object(n["h"])("ul",Yf,[Object(n["h"])("li",{class:{active:"all employees"===a.active}},[Object(n["h"])(o,{to:{name:"InstitutionEmployees",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[Xf]})),_:1},8,["to"])],2),Object(n["h"])("li",{class:{active:"Register Employee"===a.active}},[Object(n["h"])(o,{to:{name:"RegisterEmployee",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[Kf]})),_:1},8,["to"])],2)])])):Object(n["e"])("",!0),r.isAdministratorLogin?(Object(n["q"])(),Object(n["d"])("li",Zf,[Object(n["h"])("a",{onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.toggleSubmenu&&r.toggleSubmenu.apply(r,arguments)}),["prevent"]))},[tg,eg,ag,ng,sg]),Object(n["h"])("ul",ig,[Object(n["h"])("li",{class:{active:"all students"===a.active}},[Object(n["h"])(o,{to:{name:"InstitutionStudents",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[rg]})),_:1},8,["to"])],2),Object(n["h"])("li",{class:{active:"Register Employee"===a.active}},[Object(n["h"])(o,{to:{name:"RegisterStudent",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[og]})),_:1},8,["to"])],2)])])):Object(n["e"])("",!0),Object(n["h"])("li",cg,[Object(n["h"])("a",{onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.toggleSubmenu&&r.toggleSubmenu.apply(r,arguments)}),["prevent"]))},[lg,ug,dg,mg,bg]),Object(n["h"])("ul",hg,[Object(n["h"])("li",{class:{active:"all employees"===a.active}},[Object(n["h"])(o,{to:{name:"InstitutionClassrooms",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[pg]})),_:1},8,["to"])],2),r.isAdministratorLogin?(Object(n["q"])(),Object(n["d"])("li",{key:0,class:{active:"Register Employee"===a.active}},[Object(n["h"])(o,{to:{name:"CreateClassroom",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[Og]})),_:1},8,["to"])],2)):Object(n["e"])("",!0)])]),r.isAdministratorLogin?(Object(n["q"])(),Object(n["d"])("li",fg,[Object(n["h"])("a",{onClick:e[4]||(e[4]=Object(n["H"])((function(){return r.toggleSubmenu&&r.toggleSubmenu.apply(r,arguments)}),["prevent"]))},[gg,jg,vg,Ig,Dg]),Object(n["h"])("ul",yg,[Object(n["h"])("li",{class:{active:"all employees"===a.active}},[Object(n["h"])(o,{to:{name:"InstitutionCourses",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[xg]})),_:1},8,["to"])],2),Object(n["h"])("li",{class:{active:"Register Employee"===a.active}},[Object(n["h"])(o,{to:{name:"CreateCourse",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[wg]})),_:1},8,["to"])],2)])])):Object(n["e"])("",!0),Object(n["h"])("li",Sg,[Object(n["h"])("a",{onClick:e[5]||(e[5]=Object(n["H"])((function(){return r.toggleSubmenu&&r.toggleSubmenu.apply(r,arguments)}),["prevent"]))},[Cg,qg,Eg,kg,Ug]),Object(n["h"])("ul",Ag,[Object(n["h"])("li",{class:{active:"all employees"===a.active}},[Object(n["h"])(o,{to:{name:"InstitutionExamination",params:{institutionID:i.institutionID}}},{default:Object(n["F"])((function(){return[Lg]})),_:1},8,["to"])],2)])])])])])])}var Mg={name:"PageMenu",props:{active:{type:String,required:!0}},data:function(){return{institutionID:null}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},isAdministratorLogin:function(){return"institution administrator"===this.loggedUser.userRole},generalChatChannels:function(){return this.$store.getters.generalChatChannels},institutionChatChannel:function(){var t=this,e={};return this.generalChatChannels.map((function(a){a.userID===t.institutionID&&(e=a)})),e}},created:function(){this.institutionID=this.$route.params.institutionID},methods:{toggleSubmenu:function(t){var e=this.getTargetElement(t);e.parentNode.classList.contains("submenu")&&(e.classList.contains("subdrop")?(e.classList.remove("subdrop"),e.nextElementSibling.style.display="none"):(e.classList.add("subdrop"),e.nextElementSibling.style.display="block"))},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null}}};a("f72d");Mg.render=Tg;var Rg=Mg,Ng=Object(n["I"])("data-v-012249fc");Object(n["t"])("data-v-012249fc");var Bg={class:"notification-box"},zg={class:"msg-sidebar notifications msg-noti"},Pg=Object(n["h"])("div",{class:"topnav-dropdown-header"},[Object(n["h"])("span",null,"Messages")],-1),_g={class:"drop-scroll msg-list-scroll",id:"msg_list"},Fg={class:"list-box"},$g={class:"list-item"},Gg={class:"list-left"},Vg={class:"avatar"},Hg={class:"list-body"},Qg={class:"message-author"},Wg={class:"message-time"},Jg=Object(n["h"])("div",{class:"clearfix"},null,-1),Yg={class:"message-content"},Xg=Object(n["h"])("div",{class:"topnav-dropdown-footer"},[Object(n["h"])("a",{href:"chat.html"},"See all messages")],-1);Object(n["r"])();var Kg=Ng((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",Bg,[Object(n["h"])("div",zg,[Pg,Object(n["h"])("div",_g,[Object(n["h"])("ul",Fg,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.messages,(function(t,e){return Object(n["q"])(),Object(n["d"])("li",{key:e},[Object(n["h"])(o,{to:{name:"InstitutionChats",params:{institutionID:i.institutionID,chatMateID:t.author.userID}}},{default:Ng((function(){return[Object(n["h"])("div",$g,[Object(n["h"])("div",Gg,[Object(n["h"])("span",Vg,Object(n["z"])(r.getAvatar(t.author.fullname)),1)]),Object(n["h"])("div",Hg,[Object(n["h"])("span",Qg,Object(n["z"])(t.author.fullname),1),Object(n["h"])("span",Wg,Object(n["z"])(t.time),1),Jg,Object(n["h"])("span",Yg,Object(n["z"])(t.content),1)])])]})),_:2},1032,["to"])])})),128))])]),Xg])])})),Zg={name:"PageMessages",data:function(){return{institutionID:null}},computed:{messages:function(){return this.$store.getters.messages}},methods:{getAvatar:function(t){return u(t)}},created:function(){this.institutionID=this.$route.params.institutionID}};a("d00f");Zg.render=Kg,Zg.__scopeId="data-v-012249fc";var tj=Zg,ej={name:"Dashboard",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"dashboard",institution:{},employeesCount:0,studentsCount:0,classroomsCount:0,coursesCount:0,examinationsCount:0}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},isAdministratorLogin:function(){return"institution administrator"===this.loggedUser.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){e.data()&&(t.employeesCount+=1)}))})),Kt.collection("students").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){e.data()&&(t.studentsCount+=1)}))})),Kt.collection("classrooms").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){e.data()&&(t.classroomsCount+=1)}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){e.data()&&(t.coursesCount+=1)}))})),Kt.collection("examinations").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){e.data()&&(t.examinationsCount+=1)}))}))}};a("417e");ej.render=lf;var aj=ej,nj=Object(n["I"])("data-v-e4b5d86e");Object(n["t"])("data-v-e4b5d86e");var sj={class:"main-viewer"},ij={class:"main-wrapper"},rj={class:"page-wrapper",style:{"min-height":"100vh"}},oj={class:"chat-main-row"},cj={class:"chat-main-wrapper"},lj={class:"col-lg-9 message-view chat-view"},uj={class:"modal-dialog modal-dialog-centered"},dj={class:"modal-content"},mj={class:"modal-header"},bj=Object(n["h"])("h3",{class:"modal-title"},"Find Chat Mate",-1),hj={class:"modal-body"},pj={class:"input-group m-b-30"},Oj={key:0},fj={class:"chat-user-list"},gj={key:0},jj=Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("h4",{class:"h4 text-center"},"Enter user name to find a chat mate.")],-1),vj={class:"media"},Ij=Object(n["h"])("span",{class:"avatar align-self-center"},"J",-1),Dj={class:"media-body align-self-center text-nowrap"},yj={class:"user-name"},xj={class:"designation",style:{"text-transform":"capitalize"}},wj=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Sj=nj((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("chat-window"),u=Object(n["x"])("chat-profiletab"),d=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",sj,[Object(n["h"])("div",ij,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",rj,[Object(n["h"])("div",oj,[Object(n["h"])("div",cj,[Object(n["h"])("div",lj,[Object(n["h"])(l,{chatMateID:t.$route.params.chatMateID},null,8,["chatMateID"])]),Object(n["h"])(u)])]),i.showAddUserDialog?(Object(n["q"])(),Object(n["d"])("div",{key:0,id:"add_chat_user",class:["modal fade",{show:i.showAddUserDialog}],style:{display:i.displayOption},role:"dialog"},[Object(n["h"])("div",uj,[Object(n["h"])("div",dj,[Object(n["h"])("div",mj,[bj,Object(n["h"])("button",{onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.togglePrivateChatSearchView&&r.togglePrivateChatSearchView.apply(r,arguments)}),["prevent"])),type:"button",class:"close","data-dismiss":"modal"},"×")]),Object(n["h"])("div",hj,[Object(n["h"])("div",pj,[Object(n["G"])(Object(n["h"])("input",{onInput:e[2]||(e[2]=Object(n["H"])((function(){return r.generateProspectiveChatMateList&&r.generateProspectiveChatMateList.apply(r,arguments)}),["prevent"])),"onUpdate:modelValue":e[3]||(e[3]=function(t){return i.searchQuery=t}),placeholder:"Search to start a chat",class:"form-control search-input",type:"text"},null,544),[[n["D"],i.searchQuery]])]),Object(n["h"])("div",null,[r.showProspectiveChatMate?(Object(n["q"])(),Object(n["d"])("h5",Oj,"Prospective Chat Mate")):Object(n["e"])("",!0),Object(n["h"])("ul",fj,[r.showProspectiveChatMate?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("li",gj,[jj])),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.generatedSearchOutput,(function(t){return Object(n["q"])(),Object(n["d"])("li",{key:t.accountID},[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.chatWithSelectedProspectiveChatMate(t.accountID)}),["prevent"]),style:{cursor:"pointer"}},[Object(n["h"])("div",vj,[Ij,Object(n["h"])("div",Dj,[Object(n["h"])("div",yj,Object(n["z"])(r.getUserDatials(t.userID).fullname),1),Object(n["h"])("span",xj,Object(n["z"])(r.getUserDatials(t.userID).userRole),1)])])],8,["onClick"])])})),128))])])])])])],6)):Object(n["e"])("",!0),Object(n["h"])(d)])]),wj,i.showAddUserDialog?(Object(n["q"])(),Object(n["d"])("div",{key:0,class:["modal-backdrop fade",{show:i.showAddUserDialog}]},null,2)):Object(n["e"])("",!0)])})),Cj=Object(n["I"])("data-v-0e1dc4a2");Object(n["t"])("data-v-0e1dc4a2");var qj={class:"sidebar",id:"sidebar"},Ej={class:"sidebar-inner slimscroll"},kj={class:"sidebar-menu"},Uj=Object(n["h"])("i",{class:"fa fa-home back-icon"},null,-1),Aj=Object(n["g"])(),Lj=Object(n["h"])("span",null,"Back to Home",-1),Tj=Object(n["h"])("li",{class:"menu-title"},[Object(n["g"])("Chat Groups "),Object(n["h"])("a",{href:"#",class:"add-user-icon","data-toggle":"modal","data-target":"#add_group"})],-1),Mj={class:"menu-title"},Rj=Object(n["g"])("Direct Chats "),Nj=Object(n["h"])("i",{class:"fa fa-plus"},null,-1),Bj={key:0},zj=Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("h6",{class:"h6"},"No Private Chat Recorded")],-1),Pj={class:"chat-avatar-sm user-img"},_j=Object(n["h"])("span",{class:"status online"},null,-1),Fj=Object(n["h"])("span",{class:"badge badge-pill bg-danger float-right"},"1",-1);Object(n["r"])();var $j=Cj((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",qj,[Object(n["h"])("div",Ej,[Object(n["h"])("div",kj,[Object(n["h"])("ul",null,[Object(n["h"])("li",null,[Object(n["h"])(o,{to:{name:"InstitutionalDashboard",params:{institutionID:i.institutionID}}},{default:Cj((function(){return[Uj,Aj,Lj]})),_:1},8,["to"])]),Tj,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.generalChatChannels,(function(t){return Object(n["q"])(),Object(n["d"])("li",{key:t.accountID},[Object(n["h"])(o,{to:{name:"InstitutionChats",params:{institutionID:i.institutionID,chatMateID:t.accountID}}},{default:Cj((function(){return[Object(n["g"])(Object(n["z"])(t.referenceName),1)]})),_:2},1032,["to"])])})),128)),Object(n["h"])("li",Mj,[Rj,Object(n["h"])("a",{onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.requestTogglePrivateChatSearch&&r.requestTogglePrivateChatSearch.apply(r,arguments)}),["prevent"])),class:"add-user-icon","data-toggle":"modal","data-target":"#add_chat_user"},[Nj])]),r.privateChatChannels.length<=0?(Object(n["q"])(),Object(n["d"])("li",Bj,[zj])):Object(n["e"])("",!0),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.privateChatChannels,(function(t){return Object(n["q"])(),Object(n["d"])("li",{key:t.accountID},[Object(n["h"])(o,{to:{name:"InstitutionChats",params:{institutionID:i.institutionID,chatMateID:t.accountID}}},{default:Cj((function(){return[Object(n["h"])("span",Pj,[Object(n["h"])("img",{src:r.getChannelUserInstance(t)&&r.getChannelUserInstance(t).avatar?r.getChannelUserInstance(t).avatar:i.defaultImage,alt:"",class:"rounded-circle"},null,8,["src"]),_j]),Object(n["g"])(" "+Object(n["z"])(r.getChannelUserInstance(t)?r.getChannelUserInstance(t).fullname:"Unknown Name")+" ",1),Fj]})),_:2},1032,["to"])])})),128))])])])])})),Gj=(a("a4d3"),a("e01a"),{name:"ChatMenu",props:{active:{type:String,required:!0}},data:function(){return{chatAccountUserIDs:[],privateChatAccountUserIDs:[],chatMates:[],institutionID:"",employees:[],students:[],defaultImage:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?f=y",loggedUserChatAccount:{},applicationGeneralChatChannel:{}}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},generalChatChannels:function(){return this.$store.getters.generalChatChannels},privateChatChannels:function(){return this.$store.getters.privateChatChannels},prospectChatChannels:function(){return this.$store.getters.prospectChatChannels}},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,Kt.collection("chat_accounts").get().then(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.forEach((function(e){if(e.data().userID===t.loggedUserDetails.userID)t.loggedUserChatAccount.accountID=e.data().accountID,t.loggedUserChatAccount.userID=e.data().userID,t.loggedUserChatAccount.accountType=e.data().accountType,t.loggedUserChatAccount.userType=e.data().userType,t.loggedUserChatAccount.referenced_db=e.data().referenced_db,t.loggedUserChatAccount.referenceName=e.data().referenceName;else if("obea chat channel"===e.data().userType)t.applicationGeneralChatChannel.accountID=e.data().accountID,t.applicationGeneralChatChannel.userID=e.data().userID,t.applicationGeneralChatChannel.accountType=e.data().accountType,t.applicationGeneralChatChannel.userType=e.data().userType,t.applicationGeneralChatChannel.referenced_db=e.data().referenced_db,t.applicationGeneralChatChannel.referenceName=e.data().referenceName;else{var a={accountID:e.data().accountID,userID:e.data().userID,accountType:e.data().accountType,userType:e.data().userType,referenced_db:e.data().referenced_db,referenceName:e.data().referenceName};t.chatMates.push(a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Kt.collection("institution_staffs").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}))}));case 4:return e.next=6,Kt.collection("students").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,studentID:e.data().studentID,institutionID:e.data().institutionID,fullname:e.data().fullname,dob:e.data().dob,email:e.data().email,phone:e.data().phone,address:e.data().address,userRole:e.data().userRole,accountType:e.data().accountType,createdOn:e.data().createdOn,avatar:e.data().avatar};t.students.push(a)}))}));case 6:t.generateLoggedUserChatChannel();case 7:case"end":return e.stop()}}),e)})))()},methods:{toggleSubmenu:function(t){var e=this.getTargetElement(t);e.parentNode.classList.contains("submenu")&&(e.classList.contains("subdrop")?(e.classList.remove("subdrop"),e.nextElementSibling.style.display="none"):(e.classList.add("subdrop"),e.nextElementSibling.style.display="block"))},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},getPrivateChatIDsFromChatHistory:function(t){return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("chats").where("sender","==",t.loggedUserChatAccount.accountID).get().then((function(t){t.forEach((function(t){a.push(t.data().recipient)}))}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},generateLoggedUserChatChannel:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getLoggedUserClassroomfromCourseAssigned();case 2:return e.next=4,Kt.collection("classrooms").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.loggedUserDetails.userID===e.data().overSeenBy&&t.chatAccountUserIDs.push(e.data().classroomID)}))}));case 4:a=0;case 5:if(!(a<t.chatAccountUserIDs.length)){e.next=11;break}return e.next=8,Kt.collection("classroom_students").where("classroomID","==",t.chatAccountUserIDs[a]).get().then((function(e){e.forEach((function(e){t.chatAccountUserIDs.push(e.data().studentID)}))}));case 8:a++,e.next=5;break;case 11:return e.next=13,Kt.collection("institution_staffs").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.loggedUserDetails.userID!==e.data().userID&&t.chatAccountUserIDs.push(e.data().userID)}))}));case 13:return t.chatAccountUserIDs.push(t.$route.params.institutionID),"institution administrator"===t.loggedUserDetails.userRole&&t.chatAccountUserIDs.push(t.applicationGeneralChatChannel.userID),t.chatAccountUserIDs=Object(Wu["a"])(new Set(t.chatAccountUserIDs)),e.next=18,t.getPrivateChatIDsFromChatHistory(t);case 18:t.privateChatAccountUserIDs=e.sent,t.privateChatAccountUserIDs=Object(Wu["a"])(new Set(t.privateChatAccountUserIDs)),Ju(Kt,t,Object.values(t.chatAccountUserIDs)),Yu(Kt,t,Object.values(t.privateChatAccountUserIDs));case 22:case"end":return e.stop()}}),e)})))()},getLoggedUserClassroomfromCourseAssigned:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getLoggedUserCourses();case 2:a=e.sent,a.map(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Kt.collection("classroom_courses").where("courseID","==",a.courseID).get().then((function(e){e.forEach((function(e){t.chatAccountUserIDs.push(e.data().classroomID)}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})))()},getLoggedUserCourses:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("courses").where("instructor","==",t.loggedUserDetails.userID).get().then((function(t){t.forEach((function(t){var e={id:t.id,courseID:t.data().courseID,institutionID:t.data().institutionID,title:t.data().title,grade:t.data().grade,code:t.data().code,duration:t.data().duration,durationUnit:t.data().durationUnit,instructor:t.data().instructor,description:t.data().description,createdOn:t.data().createdOn};a.push(e)}))}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},getChannelUserInstance:function(t){var e=null;return"students"===t.referenced_db?this.students.map((function(a){a.studentID===t.userID&&(e=a)})):"institution_staffs"===t.referenced_db&&this.employees.map((function(a){a.userID===t.userID&&(e=a)})),e},requestTogglePrivateChatSearch:function(){window.EventBus.emit("toggle-private-chat-search-view")}}});a("524c");Gj.render=$j,Gj.__scopeId="data-v-0e1dc4a2";var Vj=Gj,Hj={class:"col-lg-3 message-view chat-profile-view chat-sidebar",id:"chat_sidebar"},Qj={class:"chat-window video-window"},Wj=Object(n["h"])("div",{class:"fixed-header"},[Object(n["h"])("ul",{class:"nav nav-tabs nav-tabs-bottom"},[Object(n["h"])("li",{class:"nav-item"},[Object(n["h"])("a",{class:"nav-link active",href:"#profile_tab","data-toggle":"tab"},"Profile")])])],-1),Jj={class:"tab-content chat-contents"},Yj={class:"content-full tab-pane show active",id:"profile_tab"},Xj={class:"display-table"},Kj={class:"table-row"},Zj={class:"table-body"},tv={class:"table-content"},ev={class:"chat-profile-img"},av={class:"edit-profile-img"},nv={class:"user-name m-t-10 mb-0"},sv={class:"text-muted"},iv={class:"chat-profile-info"},rv={class:"user-det-list"},ov={class:"float-right text-muted"},cv={class:"float-right text-muted"},lv={class:"float-right text-muted"};function uv(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",Hj,[Object(n["h"])("div",Qj,[Wj,Object(n["h"])("div",Jj,[Object(n["h"])("div",Yj,[Object(n["h"])("div",Xj,[Object(n["h"])("div",Kj,[Object(n["h"])("div",Zj,[Object(n["h"])("div",tv,[Object(n["h"])("div",ev,[Object(n["h"])("div",av,[Object(n["h"])("img",{src:i.userDetails.avatar?i.userDetails.avatar:i.defaultImage,alt:"",style:{width:"150px",height:"120px"}},null,8,["src"])]),Object(n["h"])("h3",nv,Object(n["z"])(i.userDetails.name?i.userDetails.name:i.userDetails.fullname),1),Object(n["h"])("small",sv,Object(n["z"])(i.userDetails.userRole),1)]),Object(n["h"])("div",iv,[Object(n["h"])("ul",rv,[Object(n["h"])("li",null,[Object(n["h"])("span",null,Object(n["z"])(i.userDetails.dob?"DOB":"Created On")+":",1),Object(n["h"])("span",ov,Object(n["z"])(i.userDetails.dob?r.customizeDate(i.userDetails.dob):r.customizeDate(i.userDetails.createdOn)),1)]),Object(n["h"])("li",null,[Object(n["h"])("span",null,Object(n["z"])(i.userDetails.email?"Email":"Grade")+":",1),Object(n["h"])("span",cv,Object(n["z"])(i.userDetails.email?i.userDetails.email:i.userDetails.grade),1)]),Object(n["h"])("li",null,[Object(n["h"])("span",null,Object(n["z"])(i.userDetails.phone?"Phone":"Capacity")+":",1),Object(n["h"])("span",lv,Object(n["z"])(i.userDetails.phone?i.userDetails.phone:i.userDetails.capacity),1)])])])])])])])])])])])}var dv={name:"ChatProfileTab",data:function(){return{institutionID:"",chatMateID:"",userDetails:{},chatMateChatAccount:{},defaultImage:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?f=y"}},methods:{updateChatMate:function(t){var e=this;Kt.collection("chat_accounts").where("accountID","==",t).get().then(function(){var t=Object(_n["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.forEach((function(t){e.chatMateChatAccount.accountID=t.data().accountID,e.chatMateChatAccount.userID=t.data().userID,e.chatMateChatAccount.accountType=t.data().accountType,e.chatMateChatAccount.userType=t.data().userType,e.chatMateChatAccount.referenced_db=t.data().referenced_db,e.chatMateChatAccount.referenceName=t.data().referenceName})),!e.chatMateChatAccount){t.next=4;break}return t.next=4,e.updateChatMateDetails(e.chatMateChatAccount);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},customizeDate:function(t){return Kr(t)},updateChatMateDetails:function(t){var e=this;"system_administrators"===t.referenced_db?Kt.collection("system_administrators").where("userID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))})):"institution_staffs"===t.referenced_db?Kt.collection("institution_staffs").where("userID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))})):"institutions"===t.referenced_db?Kt.collection("institutions").where("institutionID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))})):"students"===t.referenced_db?Kt.collection("students").where("studentID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))})):"classrooms"===t.referenced_db&&Kt.collection("classrooms").where("classroomID","==",t.userID).get().then((function(t){t.forEach((function(t){e.userDetails=t.data()}))}))},processChatMateUpdate:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.updateChatMateDetails(t);case 2:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,t.chatMateID=t.$route.params.chatMateID,e.next=3,t.updateChatMate(t.chatMateID);case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){window.EventBus.on("update-chat-mate-account-info",this.processChatMateUpdate)}};dv.render=uv;var mv=dv,bv={class:"chat-window"},hv={class:"fixed-header"},pv={class:"navbar"},Ov={class:"user-details mr-auto"},fv={class:"float-left user-img m-r-10"},gv=Object(n["h"])("img",{src:"",alt:"",class:"w-40 rounded-circle"},null,-1),jv=Object(n["h"])("span",{class:"status online"},null,-1),vv={class:"user-info float-left"},Iv={href:"#"},Dv={class:"font-bold"},yv=Object(n["g"])(),xv={key:0,class:"typing-text"},wv=Object(n["h"])("span",{class:"last-seen"},"Last seen today at 7:50 AM",-1),Sv=Object(n["f"])('<div class="search-box"><div class="input-group input-group-sm"><input type="text" class="form-control" placeholder="Search"><span class="input-group-append"><button class="btn" type="button"><i class="fa fa-search"></i></button></span></div></div>',1),Cv={class:"chat-contents"},qv={class:"chat-content-wrap"},Ev={class:"chat-wrap-inner"},kv={class:"chat-date"},Uv={key:0,class:"chat-avatar"},Av={class:"chat-body"},Lv={class:"chat-bubble"},Tv={class:"chat-content"},Mv={class:"chat-time"};function Rv(t,e,a,s,i,r){var o=Object(n["x"])("router-link"),c=Object(n["x"])("footer-chat");return Object(n["q"])(),Object(n["d"])("div",bv,[Object(n["h"])("div",hv,[Object(n["h"])("div",pv,[Object(n["h"])("div",Ov,[Object(n["h"])("div",fv,[Object(n["h"])("a",{href:"#",title:r.getChatMateName()},[gv,jv],8,["title"])]),Object(n["h"])("div",vv,[Object(n["h"])("a",Iv,[Object(n["h"])("span",Dv,Object(n["z"])(r.getChatMateName()),1),yv,i.isTyping?(Object(n["q"])(),Object(n["d"])("i",xv,"Typing...")):Object(n["e"])("",!0)]),wv])]),Sv])]),Object(n["h"])("div",Cv,[Object(n["h"])("div",qv,[Object(n["h"])("div",Ev,[Object(n["h"])("div",{class:"chat-box",set:t.tracker=i.loggedUserChats.length>0?i.loggedUserChats[0]:""},[Object(n["h"])("div",{class:"chats",set:t.dateTracker=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.loggedUserChats,(function(e,a){return Object(n["q"])(),Object(n["d"])("div",{key:a},[t.tracker!==r.customizeDate(e.createdOn)?(Object(n["q"])(),Object(n["d"])("div",{key:0,class:"chat-line",set:t.dateTracker[a]=t.tracker},[Object(n["h"])("span",kv,Object(n["z"])(r.customizeDate(e.createdOn)),1)],8,["set"])):Object(n["e"])("",!0),Object(n["h"])("div",{set:t.tracker=a>0&&t.tracker==r.customizeDate(e.createdOn)?t.tracker:r.customizeDate(e.createdOn),class:["chat",{"chat-left":!(i.loggedUserChatAccount.accountID===e.sender),"chat-right":i.loggedUserChatAccount.accountID===e.sender}]},[i.loggedUserChatAccount.accountID!==e.sender?(Object(n["q"])(),Object(n["d"])("div",Uv,[Object(n["h"])(o,{to:{name:"InstitutionChats",params:{institutionID:i.institutionID,chatMateID:e.sender}},class:"avatar"},{default:Object(n["F"])((function(){return[Object(n["h"])("img",{alt:"Jennifer Robinson",src:i.defaultImage,class:"img-fluid rounded-circle"},null,8,["src"])]})),_:2},1032,["to"])])):Object(n["e"])("",!0),Object(n["h"])("div",Av,[Object(n["h"])("div",Lv,[Object(n["h"])("div",Tv,[Object(n["h"])("p",null,Object(n["z"])(e.message),1),Object(n["h"])("span",Mv,Object(n["z"])(r.getTimeDiff(e.createdOn)),1)])])])],10,["set"])])})),128))],8,["set"])],8,["set"])])])]),Object(n["h"])(c)])}var Nv={class:"chat-footer"},Bv={class:"message-bar"},zv={class:"message-inner"},Pv={class:"message-area"},_v={class:"input-group"},Fv={class:"input-group-append"},$v=Object(n["h"])("i",{class:"fa fa-send"},null,-1);function Gv(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",Nv,[Object(n["h"])("div",Bv,[Object(n["h"])("div",zv,[Object(n["h"])("div",Pv,[Object(n["h"])("div",_v,[Object(n["G"])(Object(n["h"])("textarea",{class:"form-control",placeholder:"Type message...","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.message=t})},null,512),[[n["D"],i.message]]),Object(n["h"])("span",Fv,[Object(n["h"])("button",{onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.attemptSendingMessage&&r.attemptSendingMessage.apply(r,arguments)}),["prevent"])),class:"btn btn-success",type:"button"},[$v])])])])])])])}var Vv={name:"ChatFooter",data:function(){return{message:"",loggedUserChatAccount:{},messageError:""}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser}},methods:{attemptSendingMessage:function(){var t=this;if(this.message){var e=this.message;Kt.collection("chats").add({chatID:Zd.a.v4(),sender:this.loggedUserChatAccount.accountID,recipient:this.$route.params.chatMateID,message:e,status:"unread",createdOn:(new Date).getTime()}).then((function(){})).catch((function(){t.message=e,t.messageError="Failed to send message!!"})),this.message=""}}},created:function(){var t=this;Kt.collection("chat_accounts").where("userID","==",this.loggedUserDetails.userID).get().then((function(e){e.forEach((function(e){t.loggedUserChatAccount.accountID=e.data().accountID,t.loggedUserChatAccount.userID=e.data().userID,t.loggedUserChatAccount.accountType=e.data().accountType,t.loggedUserChatAccount.userType=e.data().userType,t.loggedUserChatAccount.referenced_db=e.data().referenced_db,t.loggedUserChatAccount.referenceName=e.data().referenceName}))}))}};Vv.render=Gv;var Hv=Vv,Qv={name:"ChatWindow",components:{"footer-chat":Hv},props:{chatMateID:{type:String,required:!0}},data:function(){return{isTyping:!1,institutionID:"",chatMate:{},loggedUserChatAccount:{},loggedUserChats:[],setIntervalID:null,defaultImage:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?f=y",users:[]}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser}},methods:{getChatMateName:function(){return"general"===this.chatMate.accountType?this.chatMate.referenceName:this.getChatUserInstance(this.chatMate.userID)?this.getChatUserInstance(this.chatMate.userID).fullname:"Unknown User"},isChatMateAGeneralChannel:function(){return"general"===this.chatMate.accountType},getTimeDiff:function(t){return Zr(t)},customizeDate:function(t){return Kr(t)},updateChatMate:function(t){var e=this;Kt.collection("chat_accounts").where("accountID","==",t).get().then((function(t){t.forEach((function(t){e.chatMate.accountID=t.data().accountID,e.chatMate.userID=t.data().userID,e.chatMate.accountType=t.data().accountType,e.chatMate.userType=t.data().userType,e.chatMate.referenced_db=t.data().referenced_db,e.chatMate.referenceName=t.data().referenceName})),window.EventBus.emit("update-chat-mate-account-info",e.chatMate)}))},getMessages:function(t){var e=[],a=t.loggedUserChatAccount.accountID?t.loggedUserChatAccount.accountID:"";Kt.collection("chats").where("recipient","in",[t.$route.params.chatMateID,a]).orderBy("createdOn").get().then((function(a){a.forEach((function(a){if(t.isChatMateAGeneralChannel()){if(t.$route.params.chatMateID===a.data().recipient){var n={chatID:a.data().chatID,sender:a.data().sender,recipient:a.data().recipient,message:a.data().message,status:a.data().status,createdOn:a.data().createdOn};e.push(n)}}else if(t.loggedUserChatAccount.accountID===a.data().sender&&t.$route.params.chatMateID===a.data().recipient||t.loggedUserChatAccount.accountID===a.data().recipient&&t.$route.params.chatMateID===a.data().sender){var s={chatID:a.data().chatID,sender:a.data().sender,recipient:a.data().recipient,message:a.data().message,status:a.data().status,createdOn:a.data().createdOn};e.push(s)}})),t.loggedUserChats=e}))},updateChatUIAtInterval:function(){var t=this;this.setIntervalID=setInterval(Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMessages(t);case 2:case"end":return e.stop()}}),e)}))),2e3)},getChatUserInstance:function(t){var e=null;return this.users.map((function(a){a.userID===t&&(e=a)})),e}},beforeUnmount:function(){clearInterval(this.setIntervalID)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,Kt.collection("institution_staffs").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.users.push(a)}))})),Kt.collection("students").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().studentID,studentID:e.data().studentID,institutionID:e.data().institutionID,fullname:e.data().fullname,dob:e.data().dob,email:e.data().email,phone:e.data().phone,address:e.data().address,userRole:e.data().userRole,accountType:e.data().accountType,createdOn:e.data().createdOn,avatar:e.data().avatar};t.users.push(a)}))})),Kt.collection("chat_accounts").where("userID","==",t.loggedUserDetails.userID).get().then(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.forEach((function(e){t.loggedUserChatAccount.accountID=e.data().accountID,t.loggedUserChatAccount.userID=e.data().userID,t.loggedUserChatAccount.accountType=e.data().accountType,t.loggedUserChatAccount.userType=e.data().userType,t.loggedUserChatAccount.referenced_db=e.data().referenced_db,t.loggedUserChatAccount.referenceName=e.data().referenceName}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,t.updateChatMate(t.chatMateID);case 6:case"end":return e.stop()}}),e)})))()},mounted:function(){this.updateChatUIAtInterval()},watch:{chatMateID:function(t,e){var a=this;return Object(_n["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.updateChatMate(t);case 2:a.$forceUpdate(),console.log(e);case 4:case"end":return n.stop()}}),n)})))()}}};Qv.render=Rv;var Wv=Qv,Jv={name:"InstitutionChats",components:{"page-header":Lf,"page-menu":Vj,"page-messages":tj,"chat-profiletab":mv,"chat-window":Wv},data:function(){return{active:"chats",institutionID:"",institution:{},showAddUserDialog:!1,displayOption:"none",users:[],generatedSearchOutput:[],searchQuery:""}},computed:{appName:function(){return this.$store.getters.appName},appNameAbbr:function(){return this.$store.getters.appNameAbbr},showProspectiveChatMate:function(){return this.generatedSearchOutput.length>0},prospectChatChannels:function(){return this.$store.getters.prospectChatChannels}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},togglePrivateChatSearchView:function(){this.showAddUserDialog=!this.showAddUserDialog,this.showAddUserDialog?this.displayOption="block":(this.displayOption="none",this.generatedSearchOutput=[],this.searchQuery="")},generateProspectiveChatMateList:function(){var t=this,e=[];this.prospectChatChannels.map((function(a){var n=t.getUserDatials(a.userID);n&&n.fullname.toLowerCase().search(t.searchQuery.toLowerCase())>=0&&e.push(a)})),this.searchQuery?this.generatedSearchOutput=e:this.generatedSearchOutput=[]},chatWithSelectedProspectiveChatMate:function(t){this.togglePrivateChatSearchView(),this.$router.push({name:"InstitutionChats",params:{institutionID:this.institutionID,chatMateID:t}})},getUserDatials:function(t){var e=null;return this.users.map((function(a){a.userID===t&&(e=a)})),e}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu),window.EventBus.on("toggle-private-chat-search-view",this.togglePrivateChatSearchView)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.users.push(a)}))})),Kt.collection("students").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().studentID,studentID:e.data().studentID,institutionID:e.data().institutionID,fullname:e.data().fullname,dob:e.data().dob,email:e.data().email,phone:e.data().phone,address:e.data().address,userRole:e.data().userRole,accountType:e.data().accountType,createdOn:e.data().createdOn,avatar:e.data().avatar};t.users.push(a)}))})),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}))}};a("498e");Jv.render=Sj,Jv.__scopeId="data-v-e4b5d86e";var Yv=Jv,Xv=Object(n["I"])("data-v-bd0ad79e");Object(n["t"])("data-v-bd0ad79e");var Kv={class:"main-viewer"},Zv={class:"main-wrapper"},tI={class:"page-wrapper"},eI={class:"content"},aI={class:"row"},nI=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"All Employees")],-1),sI={class:"col-sm-8 col-9 text-right m-b-20"},iI=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),rI=Object(n["g"])("Clear Search"),oI=Object(n["h"])("i",{class:"fas fa-user-edit mr-2"},null,-1),cI=Object(n["g"])("Register Employee"),lI={key:0,class:"row"},uI={class:"col-sm-8 offset-sm-2 mt-5"},dI={class:"jumbotron text-center"},mI={class:"h3"},bI=Object(n["g"])(),hI=Object(n["h"])("br",null,null,-1),pI=Object(n["g"])(),OI=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),fI=Object(n["g"])("Back"),gI={key:1,class:"container-fluid"},jI={class:"row filter-row"},vI={class:"col-sm-6 col-md-3"},II={class:"form-group form-focus"},DI=Object(n["h"])("label",{class:"focus-label"},"User ID",-1),yI={class:"col-sm-6 col-md-3"},xI={class:"form-group form-focus"},wI=Object(n["h"])("label",{class:"focus-label"},"Fullname",-1),SI={class:"col-sm-6 col-md-3"},CI={class:"form-group form-focus"},qI=Object(n["h"])("label",{class:"focus-label"},"Email",-1),EI={class:"col-sm-6 col-md-3"},kI={class:"row"},UI={class:"col-md-12"},AI={class:"table-responsive"},LI={class:"table table-striped custom-table"},TI=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Fullname"),Object(n["h"])("th",null,"User ID"),Object(n["h"])("th",null,"Email"),Object(n["h"])("th",null,"Mobile"),Object(n["h"])("th",{style:{"min-width":"110px"}},"Date of Birth"),Object(n["h"])("th",null,"Account Type"),Object(n["h"])("th",null,"User Role"),Object(n["h"])("th",{class:"text-right"},"Action")])],-1),MI=Object(n["g"])(),RI={class:"text-right"},NI={class:"dropdown dropdown-action"},BI=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),zI={key:0,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-50px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},PI=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),_I=Object(n["g"])(" Manage"),FI=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),$I=Object(n["g"])(" Delete"),GI={key:1,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},VI=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),HI=Object(n["g"])(" Manage"),QI=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),WI=Object(n["g"])(" Delete"),JI=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var YI=Xv((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Kv,[Object(n["h"])("div",Zv,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",tI,[Object(n["h"])("div",eI,[Object(n["h"])("div",aI,[nI,Object(n["h"])("div",sI,[i.searchResultUpdate&&i.employees.length>0?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-danger text-danger mr-3"},[iI,rI])):Object(n["e"])("",!0),Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"RegisterEmployee",params:{institutionID:i.institutionID}}},{default:Xv((function(){return[oI,cI]})),_:1},8,["to"])])]),i.employees.length<=0?(Object(n["q"])(),Object(n["d"])("div",lI,[Object(n["h"])("div",uI,[Object(n["h"])("div",dI,[Object(n["h"])("h3",mI,Object(n["z"])(i.emptyMessage),1),bI,hI,pI,i.searchResultUpdate?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-success text-white"},[OI,fI])):Object(n["e"])("",!0)])])])):(Object(n["q"])(),Object(n["d"])("div",gI,[Object(n["h"])("div",jI,[Object(n["h"])("div",vI,[Object(n["h"])("div",II,[DI,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.userID=t})},null,544),[[n["D"],i.search.userID]])])]),Object(n["h"])("div",yI,[Object(n["h"])("div",xI,[wI,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.fullname=t})},null,544),[[n["D"],i.search.fullname]])])]),Object(n["h"])("div",SI,[Object(n["h"])("div",CI,[qI,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.search.email=t})},null,544),[[n["D"],i.search.email]])])]),Object(n["h"])("div",EI,[Object(n["h"])("a",{onClick:e[9]||(e[9]=Object(n["H"])((function(){return r.searchEmployees&&r.searchEmployees.apply(r,arguments)}),["prevent"])),class:"btn btn-success btn-block text-white"}," Search ")])]),Object(n["h"])("div",kI,[Object(n["h"])("div",UI,[Object(n["h"])("div",AI,[Object(n["h"])("table",LI,[TI,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.employees,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.userID},[Object(n["h"])("td",null,[Object(n["h"])("img",{width:"28",height:"28",src:t.avatar,class:"rounded-circle",alt:""},null,8,["src"]),MI,Object(n["h"])("h2",null,Object(n["z"])(t.fullname),1)]),Object(n["h"])("td",null,Object(n["z"])(t.userID),1),Object(n["h"])("td",null,Object(n["z"])(t.email),1),Object(n["h"])("td",null,Object(n["z"])(t.phone),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(t.dob))),1),Object(n["h"])("td",null,Object(n["z"])(t.accountType),1),Object(n["h"])("td",null,Object(n["z"])(t.userRole),1),Object(n["h"])("td",RI,[Object(n["h"])("div",NI,[Object(n["h"])("a",{onClick:e[10]||(e[10]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[BI]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("div",zI,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedEmployeePage(t.userID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[PI,_I],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteEmployeeOperation(t.userID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[FI,$I],8,["onClick"])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),r.canViewOption?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",GI,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedEmployeePage(t.userID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[VI,HI],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteEmployeeOperation(t.userID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[QI,WI],8,["onClick"])):Object(n["e"])("",!0)]))])])])})),128))])])])])])]))]),Object(n["h"])(u)])]),JI])})),XI={name:"Employees",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"all employees",institutionID:null,institution:{},employees:[],emptyMessage:"Institution staff list is empty.",searchResultUpdate:!1,search:{userID:"",fullname:"",email:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},canViewOption:function(){return"institution administrator"===this.loggedUser.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},customizeDate:function(t){return Kr(t)},loadSelectedEmployeePage:function(t){this.$router.push({name:"InstitutionEmployeeDetails",params:{institutionID:this.institutionID,employeeID:t}})},requestDeleteEmployeeOperation:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Do you want to Delete ".concat(e.getEmployeeNameByID(t)," institution records?"))){a.next=4;break}return a.next=3,e.closeAllOpenedActionMenuOptions();case 3:Kt.collection("institution_staffs").where("userID","==",t).get().then((function(a){a.forEach((function(a){a.ref.delete(),e.employees.map((function(a){a.userID===t&&e.employees.splice(e.employees.indexOf(a),1)}))}))}));case 4:case"end":return a.stop()}}),a)})))()},getEmployeeNameByID:function(t){var e="Unknown";return this.employees.map((function(a){a.userID===t&&(e=a.fullname)})),e},getUsersFromFirebase:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("institution_staffs").where("institutionID","==",t.$route.params.institutionID).get().then((function(t){t.forEach((function(t){var e={id:t.id,userID:t.data().userID,institutionID:t.data().institutionID,fullname:t.data().fullname,email:t.data().email,userRole:t.data().userRole,accountType:t.data().accountType,address:t.data().address,phone:t.data().phone,gender:t.data().gender,dob:t.data().dob,avatar:t.data().avatar};a.push(e)}))}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},searchUsersWithThreeParameters:function(t,e,a,n,s,i){var r=this;return Object(_n["a"])(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,r.getUsersFromFirebase();case 2:c=o.sent,l=to(c,t,e,a,n,s,i),r.employees=l,r.employees.length>=0&&(r.emptyMessage="Search result is empty.",r.searchResultUpdate=!0);case 6:case"end":return o.stop()}}),o)})))()},searchUsersWithTwoParameters:function(t,e,a,n){var s=this;return Object(_n["a"])(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.getUsersFromFirebase();case 2:r=i.sent,o=eo(r,t,e,a,n),s.employees=o,s.employees.length>=0&&(s.emptyMessage="Search result is empty.",s.searchResultUpdate=!0);case 6:case"end":return i.stop()}}),i)})))()},searchUsersWithOneParameters:function(t,e){var a=this;return Object(_n["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getUsersFromFirebase();case 2:s=n.sent,i=ao(s,t,e),a.employees=i,a.employees.length>=0&&(a.emptyMessage="Search result is empty.",a.searchResultUpdate=!0);case 6:case"end":return n.stop()}}),n)})))()},reloadDataRecords:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUsersFromFirebase();case 2:t.employees=e.sent,t.emptyMessage="Institution staff list is empty.",t.searchResultUpdate=!1,t.search.userID="",t.search.fullname="",t.search.email="";case 8:case"end":return e.stop()}}),e)})))()},searchEmployees:function(){this.search.userID&&this.search.fullname&&this.search.email?this.searchUsersWithThreeParameters("userID",this.search.userID,"fullname",this.search.fullname,"email",this.search.email):this.search.userID&&this.search.fullname||this.search.userID&&this.search.email||this.search.email&&this.search.fullname?this.search.userID&&this.search.fullname?this.searchUsersWithTwoParameters("userID",this.search.userID,"fullname",this.search.fullname):this.search.userID&&this.search.email?this.searchUsersWithTwoParameters("userID",this.search.userID,"email",this.search.email):this.search.email&&this.search.fullname&&this.searchUsersWithTwoParameters("email",this.search.email,"fullname",this.search.fullname):(this.search.userID||this.search.fullname||this.search.email)&&(this.search.userID?this.searchUsersWithOneParameters("userID",this.search.userID):this.search.fullname?this.searchUsersWithOneParameters("fullname",this.search.fullname):this.search.email&&this.searchUsersWithOneParameters("email",this.search.email))},updateSearchOperation:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.search.userID||t.search.fullname||t.search.email){e.next=5;break}return e.next=3,t.getUsersFromFirebase();case 3:t.users=e.sent,t.emptyMessage="Institution staff list is empty.";case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,e.next=3,t.getUsersFromFirebase();case 3:t.employees=e.sent,Kt.collection("institutions").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}));case 5:case"end":return e.stop()}}),e)})))()}};a("3fb2");XI.render=YI,XI.__scopeId="data-v-bd0ad79e";var KI=XI,ZI=Object(n["I"])("data-v-6960a379");Object(n["t"])("data-v-6960a379");var tD={class:"main-viewer"},eD={class:"main-wrapper"},aD={class:"page-wrapper"},nD={class:"content"},sD={class:"row"},iD={class:"col-sm-8 col-3"},rD={class:"page-title"},oD={class:"col-sm-4 col-9 text-right m-b-20"},cD=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-edit mr-2"})],-1),lD=Object(n["g"])("Edit "),uD=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),dD=Object(n["g"])("Back "),mD={class:"row mb-3"},bD={class:"col-md-6 offset-md-3"},hD={class:"list-group list-group-flush"},pD={class:"list-group-item transparent-bg"},OD={class:"row"},fD=Object(n["h"])("div",{class:"col-3"},"Emplyee ID",-1),gD=Object(n["h"])("div",{class:"col-1"},":",-1),jD=Object(n["g"])(),vD={class:"col-8"},ID={class:"text-dark"},DD={class:"list-group-item transparent-bg"},yD={class:"row"},xD=Object(n["h"])("div",{class:"col-3"},"Fullname",-1),wD=Object(n["h"])("div",{class:"col-1"},":",-1),SD=Object(n["g"])(),CD={class:"col-8"},qD={class:"text-dark"},ED={class:"list-group-item transparent-bg"},kD={class:"row"},UD=Object(n["h"])("div",{class:"col-3"},"Date of Birth",-1),AD=Object(n["h"])("div",{class:"col-1"},":",-1),LD=Object(n["g"])(),TD={class:"col-8"},MD={class:"text-dark"},RD={class:"list-group-item transparent-bg"},ND={class:"row"},BD=Object(n["h"])("div",{class:"col-3"},"Gender",-1),zD=Object(n["h"])("div",{class:"col-1"},":",-1),PD=Object(n["g"])(),_D={class:"col-8"},FD={class:"text-dark",style:{"text-transform":"capitalize"}},$D={class:"list-group-item transparent-bg"},GD={class:"row"},VD=Object(n["h"])("div",{class:"col-3"},"Email",-1),HD=Object(n["h"])("div",{class:"col-1"},":",-1),QD=Object(n["g"])(),WD={class:"col-8"},JD={class:"text-dark"},YD={class:"list-group-item transparent-bg"},XD={class:"row"},KD=Object(n["h"])("div",{class:"col-3"},"Phone",-1),ZD=Object(n["h"])("div",{class:"col-1"},":",-1),ty=Object(n["g"])(),ey={class:"col-8"},ay={class:"text-dark"},ny={class:"list-group-item transparent-bg"},sy={class:"row"},iy=Object(n["h"])("div",{class:"col-3"},"Address",-1),ry=Object(n["h"])("div",{class:"col-1"},":",-1),oy=Object(n["g"])(),cy={class:"col-8"},ly={class:"text-dark"},uy=Object(n["h"])("hr",{class:"mb-3"},null,-1),dy=Object(n["h"])("h3",{class:"h3 ml-4"},"Managed Classrooms",-1),my=Object(n["h"])("hr",{class:"mb-3"},null,-1),by={class:"row"},hy={key:0,class:"col-8 offset-2 mt-3 mb-3"},py=Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Classroom list is empty!")],-1),Oy={key:1,class:"col-md-12 mb-5"},fy={class:"table-responsive"},gy={class:"table table-striped custom-table"},jy=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Classroom Name"),Object(n["h"])("th",null,"Classroom ID"),Object(n["h"])("th",null,"Grade/Year"),Object(n["h"])("th",null,"Capacity"),Object(n["h"])("th",null,"No. assigned Students"),Object(n["h"])("th",null,"Overseen By"),Object(n["h"])("th",null,"Created On")])],-1),vy=Object(n["h"])("img",{width:"28",height:"28",class:"rounded-circle"},null,-1),Iy=Object(n["g"])(),Dy=Object(n["h"])("hr",{class:"mb-3"},null,-1),yy=Object(n["h"])("h3",{class:"h3 ml-4"},"Employees's Course",-1),xy=Object(n["h"])("hr",{class:"mb-3"},null,-1),wy={class:"row"},Sy={key:0,class:"col-8 offset-2 mt-3 mb-3"},Cy=Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Course list is empty!")],-1),qy={key:1,class:"col-md-12 mb-5"},Ey={class:"table-responsive"},ky={class:"table table-striped custom-table"},Uy=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Course Title"),Object(n["h"])("th",null,"Course ID"),Object(n["h"])("th",null,"Course Code"),Object(n["h"])("th",null,"Grade"),Object(n["h"])("th",null,"Duration"),Object(n["h"])("th",null,"Instructor"),Object(n["h"])("th",null,"Created On")])],-1),Ay=Object(n["h"])("img",{width:"28",height:"28",class:"rounded-circle"},null,-1),Ly=Object(n["g"])(),Ty=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var My=ZI((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",tD,[Object(n["h"])("div",eD,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",aD,[Object(n["h"])("div",nD,[Object(n["h"])("div",sD,[Object(n["h"])("div",iD,[Object(n["h"])("h4",rD,Object(n["z"])(i.selectedEmployee["fullname"])+"'s Details",1)]),Object(n["h"])("div",oD,[Object(n["h"])(l,{to:{name:"InstitutionEditEmployeeDetails",params:{institutionID:i.institutionID,employeeID:i.employeeID}},class:"btn btn-outline-success mr-3"},{default:ZI((function(){return[cD,lD]})),_:1},8,["to"]),Object(n["h"])(l,{to:{name:"InstitutionEmployees",params:{institutionID:i.institutionID}},class:"btn btn-outline-secondary"},{default:ZI((function(){return[uD,dD]})),_:1},8,["to"])])]),Object(n["h"])("div",mD,[Object(n["h"])("div",bD,[Object(n["h"])("ul",hD,[Object(n["h"])("li",pD,[Object(n["h"])("div",OD,[fD,gD,jD,Object(n["h"])("div",vD,[Object(n["h"])("strong",ID,Object(n["z"])(i.selectedEmployee["userID"]),1)])])]),Object(n["h"])("li",DD,[Object(n["h"])("div",yD,[xD,wD,SD,Object(n["h"])("div",CD,[Object(n["h"])("strong",qD,Object(n["z"])(i.selectedEmployee["fullname"]),1)])])]),Object(n["h"])("li",ED,[Object(n["h"])("div",kD,[UD,AD,LD,Object(n["h"])("div",TD,[Object(n["h"])("strong",MD,Object(n["z"])(r.customizeDate(i.selectedEmployee["dob"])),1)])])]),Object(n["h"])("li",RD,[Object(n["h"])("div",ND,[BD,zD,PD,Object(n["h"])("div",_D,[Object(n["h"])("strong",FD,Object(n["z"])(i.selectedEmployee["gender"]),1)])])]),Object(n["h"])("li",$D,[Object(n["h"])("div",GD,[VD,HD,QD,Object(n["h"])("div",WD,[Object(n["h"])("strong",JD,Object(n["z"])(i.selectedEmployee["email"]),1)])])]),Object(n["h"])("li",YD,[Object(n["h"])("div",XD,[KD,ZD,ty,Object(n["h"])("div",ey,[Object(n["h"])("strong",ay,Object(n["z"])(i.selectedEmployee["phone"]),1)])])]),Object(n["h"])("li",ny,[Object(n["h"])("div",sy,[iy,ry,oy,Object(n["h"])("div",cy,[Object(n["h"])("strong",ly,Object(n["z"])(i.selectedEmployee.address),1)])])])])])])]),uy,dy,my,Object(n["h"])("div",by,[i.classrooms.length<=0?(Object(n["q"])(),Object(n["d"])("div",hy,[py])):Object(n["e"])("",!0),i.classrooms.length>0?(Object(n["q"])(),Object(n["d"])("div",Oy,[Object(n["h"])("div",fy,[Object(n["h"])("table",gy,[jy,Object(n["h"])("tbody",{set:t.tempCourses=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classrooms,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.classroomID},[Object(n["h"])("td",null,[vy,Iy,Object(n["h"])("h2",null,Object(n["z"])(r.getClassroomByID(t.classroomID).name),1)]),Object(n["h"])("td",null,Object(n["z"])(t.classroomID),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).grade),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).capacity),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).numberOfStudentsAssigned),1),Object(n["h"])("td",null,Object(n["z"])(r.getEmployeeNameByID(r.getClassroomByID(t.classroomID).overSeenBy)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(r.getClassroomByID(t.classroomID).createdOn))),1)])})),128))],8,["set"])])])])):Object(n["e"])("",!0)]),Dy,yy,xy,Object(n["h"])("div",wy,[i.courses.length<=0?(Object(n["q"])(),Object(n["d"])("div",Sy,[Cy])):Object(n["e"])("",!0),i.courses.length>0?(Object(n["q"])(),Object(n["d"])("div",qy,[Object(n["h"])("div",Ey,[Object(n["h"])("table",ky,[Uy,Object(n["h"])("tbody",{set:t.tempCourses=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.courses,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.courseID},[Object(n["h"])("td",null,[Ay,Ly,Object(n["h"])("h2",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).title),1)]),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).courseID),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).code),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).grade),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).duration)+" "+Object(n["z"])(r.getCourseRecordByID(t.courseID).durationUnit),1),Object(n["h"])("td",null,Object(n["z"])(r.getEmployeeNameByID(r.getCourseRecordByID(t.courseID).instructor)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(r.getCourseRecordByID(t.courseID).createdOn))),1)])})),128))],8,["set"])])])])):Object(n["e"])("",!0)]),Object(n["h"])(u)])]),Ty])})),Ry={name:"CourseDetails",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,employeeID:null,institution:{},selectedEmployee:{},employees:[],classrooms:[],classroomCourses:[],classroomStudents:[],courses:[]}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},customizeDate:function(t){return Kr(t)},getEmployeeNameByID:function(t){var e="Unknown";return this.employees.map((function(a){a.userID===t&&(e=a.fullname)})),e},getClassroomByID:function(t){var e={};return this.classrooms.map((function(a){a.classroomID===t&&(e=a)})),e},getCourseRecordByID:function(t){var e=null;return this.courses.map((function(a){a.courseID===t&&(e=a)})),e}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.employeeID=this.$route.params.employeeID,Kt.collection("institution_staffs").where("userID","==",this.employeeID).get().then((function(e){e.forEach((function(e){t.selectedEmployee.id=e.id,t.selectedEmployee.userID=e.data().userID,t.selectedEmployee.institutionID=e.data().institutionID,t.selectedEmployee.fullname=e.data().fullname,t.selectedEmployee.email=e.data().email,t.selectedEmployee.userRole=e.data().userRole,t.selectedEmployee.accountType=e.data().accountType,t.selectedEmployee.address=e.data().address,t.selectedEmployee.phone=e.data().phone,t.selectedEmployee.gender=e.data().gender,t.selectedEmployee.dob=e.data().dob,t.selectedEmployee.avatar=e.data().avatar}))})),Kt.collection("courses").where("instructor","==",this.employeeID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,institutionID:e.data().institutionID,title:e.data().title,grade:e.data().grade,code:e.data().code,duration:e.data().duration,durationUnit:e.data().durationUnit,instructor:e.data().instructor,description:e.data().description,createdOn:e.data().createdOn};t.courses.push(a)}))})),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("classrooms").where("overSeenBy","==",this.employeeID).get().then((function(e){e.forEach((function(e){var a={id:e.id,classroomID:e.data().classroomID,institutionID:e.data().institutionID,name:e.data().name,grade:e.data().grade,capacity:parseInt(e.data().capacity),numberOfStudentsAssigned:e.data().numberOfStudentsAssigned,overSeenBy:e.data().overSeenBy,createdOn:e.data().createdOn};t.classrooms.push(a)}))}))}};a("82d7");Ry.render=My,Ry.__scopeId="data-v-6960a379";var Ny=Ry,By=Object(n["I"])("data-v-681a9e40");Object(n["t"])("data-v-681a9e40");var zy={class:"main-viewer"},Py={class:"main-wrapper"},_y={class:"page-wrapper"},Fy={class:"content"},$y={class:"row"},Gy=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Register Employee")],-1),Vy={class:"col-sm-8 col-9 text-right m-b-20"},Hy=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),Qy=Object(n["g"])("Cancel "),Wy={class:"row"},Jy={class:"col-lg-8 offset-lg-2"},Yy={class:"row"},Xy={class:"col-sm-12"},Ky={class:"form-group"},Zy=Object(n["h"])("label",null,"User ID",-1),tx={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ex={class:"col-sm-6"},ax={class:"form-group"},nx=Object(n["h"])("label",null,[Object(n["g"])("Fullname "),Object(n["h"])("span",{class:"text-danger"})],-1),sx={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ix={class:"col-sm-6"},rx={class:"form-group"},ox=Object(n["h"])("label",null,[Object(n["g"])("Email "),Object(n["h"])("span",{class:"text-danger"})],-1),cx={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},lx={class:"col-sm-6"},ux={class:"form-group"},dx=Object(n["h"])("label",null,"Gender",-1),mx=Object(n["h"])("option",{value:""},"Select Gender",-1),bx=Object(n["h"])("option",{value:"male"},"Male",-1),hx=Object(n["h"])("option",{value:"female"},"Female",-1),px={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Ox={class:"col-sm-6"},fx={class:"form-group"},gx=Object(n["h"])("label",null,[Object(n["g"])("Date of Birth "),Object(n["h"])("span",{class:"text-danger"})],-1),jx={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},vx={class:"col-sm-6"},Ix={class:"form-group"},Dx=Object(n["h"])("label",null,"Address",-1),yx={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},xx={class:"col-sm-6"},wx={class:"form-group"},Sx=Object(n["h"])("label",null,"Phone",-1),Cx={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},qx={class:"col-sm-6"},Ex={class:"form-group"},kx=Object(n["h"])("label",null,[Object(n["g"])("Password "),Object(n["h"])("span",{class:"text-danger"})],-1),Ux={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Ax={class:"col-sm-6"},Lx={class:"form-group"},Tx=Object(n["h"])("label",null,[Object(n["g"])("Role "),Object(n["h"])("span",{class:"text-danger"})],-1),Mx={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Rx={class:"col-sm-6"},Nx={class:"form-group"},Bx=Object(n["h"])("label",null,[Object(n["g"])("Account Type "),Object(n["h"])("span",{class:"text-danger"})],-1),zx={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Px={class:"col-sm-6"},_x={class:"form-group"},Fx=Object(n["h"])("label",null,"Avatar",-1),$x={class:"profile-upload"},Gx={class:"upload-img"},Vx={class:"upload-input"},Hx=Object(n["h"])("hr",{class:"mb-3"},null,-1),Qx={class:"form-group text-center"},Wx=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Jx=Object(n["g"])(" Loading... "),Yx=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Xx=By((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",zy,[Object(n["h"])("div",Py,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",_y,[Object(n["h"])("div",Fy,[Object(n["h"])("div",$y,[Gy,Object(n["h"])("div",Vy,[Object(n["h"])(l,{to:{name:"InstitutionEmployees",params:{institutionID:i.institutionID}},class:"btn btn-outline-danger"},{default:By((function(){return[Hy,Qy]})),_:1},8,["to"])])]),Object(n["h"])("div",Wy,[Object(n["h"])("div",Jy,[Object(n["h"])("form",null,[Object(n["h"])("div",Yy,[Object(n["h"])("div",Xy,[Object(n["h"])("div",Ky,[Zy,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("userID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.userID=t})},null,544),[[n["D"],i.form.userID]]),i.errors.userID?(Object(n["q"])(),Object(n["d"])("small",tx,Object(n["z"])(i.errors.userID),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",ex,[Object(n["h"])("div",ax,[nx,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("fullname")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.fullname=t})},null,544),[[n["D"],i.form.fullname]]),i.errors.fullname?(Object(n["q"])(),Object(n["d"])("small",sx,Object(n["z"])(i.errors.fullname),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",ix,[Object(n["h"])("div",rx,[ox,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("email")}),class:"form-control",type:"email","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",cx,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",lx,[Object(n["h"])("div",ux,[dx,Object(n["G"])(Object(n["h"])("select",{onChange:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("gender")}),class:"form-control select","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.gender=t})},[mx,bx,hx],544),[[n["C"],i.form.gender]]),i.errors.gender?(Object(n["q"])(),Object(n["d"])("small",px,Object(n["z"])(i.errors.gender),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Ox,[Object(n["h"])("div",fx,[gx,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("dob")}),class:"form-control",type:"date","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.dob=t})},null,544),[[n["D"],i.form.dob]]),i.errors.dob?(Object(n["q"])(),Object(n["d"])("small",jx,Object(n["z"])(i.errors.dob),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",vx,[Object(n["h"])("div",Ix,[Dx,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("address")}),class:"form-control","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.address=t})},null,544),[[n["D"],i.form.address]]),i.errors.address?(Object(n["q"])(),Object(n["d"])("small",yx,Object(n["z"])(i.errors.address),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",xx,[Object(n["h"])("div",wx,[Sx,Object(n["G"])(Object(n["h"])("input",{onInput:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("phone")}),class:"form-control",type:"text","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.phone=t})},null,544),[[n["D"],i.form.phone]]),i.errors.phone?(Object(n["q"])(),Object(n["d"])("small",Cx,Object(n["z"])(i.errors.phone),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",qx,[Object(n["h"])("div",Ex,[kx,Object(n["G"])(Object(n["h"])("input",{onInput:e[15]||(e[15]=function(t){return r.updateErrorStatusOnInput("password")}),class:"form-control",type:"text","onUpdate:modelValue":e[16]||(e[16]=function(t){return i.form.password=t}),readonly:""},null,544),[[n["D"],i.form.password]]),i.errors.password?(Object(n["q"])(),Object(n["d"])("small",Ux,Object(n["z"])(i.errors.password),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Ax,[Object(n["h"])("div",Lx,[Tx,Object(n["G"])(Object(n["h"])("input",{onInput:e[17]||(e[17]=function(t){return r.updateErrorStatusOnInput("userRole")}),class:"form-control",type:"text","onUpdate:modelValue":e[18]||(e[18]=function(t){return i.form.userRole=t}),readonly:""},null,544),[[n["D"],i.form.userRole]]),i.errors.userRole?(Object(n["q"])(),Object(n["d"])("small",Mx,Object(n["z"])(i.errors.userRole),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Rx,[Object(n["h"])("div",Nx,[Bx,Object(n["G"])(Object(n["h"])("input",{onInput:e[19]||(e[19]=function(t){return r.updateErrorStatusOnInput("accountType")}),class:"form-control",type:"text","onUpdate:modelValue":e[20]||(e[20]=function(t){return i.form.accountType=t}),readonly:""},null,544),[[n["D"],i.form.accountType]]),i.errors.accountType?(Object(n["q"])(),Object(n["d"])("small",zx,Object(n["z"])(i.errors.accountType),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Px,[Object(n["h"])("div",_x,[Fx,Object(n["h"])("div",$x,[Object(n["h"])("div",Gx,[Object(n["h"])("img",{alt:"",src:i.form.avatar},null,8,["src"])]),Object(n["h"])("div",Vx,[Object(n["h"])("input",{type:"file",class:"form-control",onChange:e[21]||(e[21]=function(t){return r.onFileSelected(t)}),accept:"image/*",required:""},null,32)])])])])]),Hx,Object(n["h"])("div",Qx,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[Wx,Jx],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[22]||(e[22]=Object(n["H"])((function(){return r.attemptCreatingEmployeeAccount&&r.attemptCreatingEmployeeAccount.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Create User Account"))])])])])]),Object(n["h"])(u)])]),Yx])})),Kx={name:"RegisterEmployee",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"registered institutions",institutionID:null,institution:{},selectedFile:null,form:{userID:"",fullname:"",gender:"",dob:"",email:"",phone:"",avatar:"",address:"",password:"P@$$w0rd",userRole:"institution staff",accountType:"institution staff",employedOn:""},errors:{userID:"",fullname:"",gender:"",dob:"",email:"",avatar:"",phone:"",address:"",password:"",userRole:"",accountType:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},onFileSelected:function(t){var e=this,a=t.target.files,n=a[0].name;if(n.lastIndexOf(".")<=0)return alert("Please upload a valid file!");var s=new FileReader;s.addEventListener("load",(function(){e.form.avatar=s.result})),s.readAsDataURL(a[0]),this.selectedFile=a[0]},validateForm:function(){return this.form.userID||(this.errors.userID="User ID is required!"),this.form.fullname||(this.errors.fullname="Fullname is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.phone||(this.errors.phone="Phone number is required!"),this.form.gender||(this.errors.gender="Gender is required!"),this.form.address||(this.errors.address="Address is required!"),this.form.password||(this.errors.password="Password is required!"),this.form.dob||(this.errors.dob="Date of Birth is required!"),this.form.userRole||(this.errors.userRole="User role is required!"),this.form.accountType||(this.errors.accountType="Account type is required!"),!!(this.form.userID&&this.form.password&&this.form.fullname&&this.form.email&&this.form.phone&&this.form.gender&&this.form.address&&this.form.dob&&this.form.userRole&&this.form.accountType&&this.form.avatar)},attemptCreatingEmployeeAccount:function(){var t=this;this.isLoading=!0,this.validateForm()?Zt.createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(e){console.log(e),Kt.collection("institution_staffs").add({userID:t.form.userID,institutionID:t.institutionID,fullname:t.form.fullname,email:t.form.email,userRole:t.form.userRole,accountType:t.form.accountType,address:t.form.address,phone:t.form.phone,gender:t.form.gender,dob:new Date(t.form.dob).getTime(),avatar:""}).then((function(){if(t.selectedFile){var e=t.selectedFile.name,a=e.slice(e.lastIndexOf("."));Jt["a"].storage().ref("institution_staffs/"+t.form.userID+a).put(t.selectedFile).then((function(e){e.ref.getDownloadURL().then((function(e){Kt.collection("institution_staffs").where("userID","==",t.form.userID).get().then((function(a){a.forEach((function(t){t.ref.update({avatar:e})}));var n=Zd.a.v4();Kt.collection("chat_accounts").add({accountID:n,userID:t.form.userID,accountType:"private",userType:t.form.userRole,referenced_db:"institution_staffs",referenceName:""}).then((function(e){console.log(e),t.isLoading=!1,t.$router.push({name:"InstitutionEmployees",params:{institutionID:t.institutionID}})})).catch((function(e){t.isLoading=!1,alert(e.message)}))}))}))}))}})).catch((function(e){t.isLoading=!1,alert(e.message)}))}),(function(e){t.isLoading=!1,alert(e.message)})):this.isLoading=!1},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.form.userID=Zd.a.v1(),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}))}};a("1095");Kx.render=Xx,Kx.__scopeId="data-v-681a9e40";var Zx=Kx,tw=Object(n["I"])("data-v-155a620d");Object(n["t"])("data-v-155a620d");var ew={class:"main-viewer"},aw={class:"main-wrapper"},nw={class:"page-wrapper"},sw={class:"content"},iw={class:"row"},rw=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"All Students")],-1),ow={class:"col-sm-8 col-9 text-right m-b-20"},cw=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),lw=Object(n["g"])("Clear Search"),uw=Object(n["h"])("i",{class:"fas fa-user-edit mr-2"},null,-1),dw=Object(n["g"])("Register Student"),mw={key:0,class:"row"},bw={class:"col-sm-8 offset-sm-2 mt-5"},hw={class:"jumbotron text-center"},pw={class:"h3"},Ow=Object(n["g"])(),fw=Object(n["h"])("br",null,null,-1),gw=Object(n["g"])(),jw=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),vw=Object(n["g"])("Back"),Iw={key:1,class:"container-fluid"},Dw={class:"row filter-row"},yw={class:"col-sm-6 col-md-3"},xw={class:"form-group form-focus"},ww=Object(n["h"])("label",{class:"focus-label"},"Student ID",-1),Sw={class:"col-sm-6 col-md-3"},Cw={class:"form-group form-focus"},qw=Object(n["h"])("label",{class:"focus-label"},"Student Name",-1),Ew={class:"col-sm-6 col-md-3"},kw={class:"form-group form-focus"},Uw=Object(n["h"])("label",{class:"focus-label"},"Student Email",-1),Aw={class:"col-sm-6 col-md-3"},Lw={class:"row"},Tw={class:"col-md-12"},Mw={class:"table-responsive"},Rw={class:"table table-striped custom-table"},Nw=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Name"),Object(n["h"])("th",null,"Student ID"),Object(n["h"])("th",null,"Email"),Object(n["h"])("th",null,"Mobile"),Object(n["h"])("th",{style:{"min-width":"110px"}},"Date of Birth"),Object(n["h"])("th",null,"Registered On"),Object(n["h"])("th",{class:"text-right"},"Action")])],-1),Bw=Object(n["g"])(),zw={class:"text-right"},Pw={class:"dropdown dropdown-action"},_w=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),Fw={key:0,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-50px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},$w=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),Gw=Object(n["g"])(" Manage"),Vw=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),Hw=Object(n["g"])(" Delete"),Qw={key:1,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},Ww=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),Jw=Object(n["g"])(" Manage"),Yw=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),Xw=Object(n["g"])(" Delete"),Kw=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Zw=tw((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",ew,[Object(n["h"])("div",aw,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",nw,[Object(n["h"])("div",sw,[Object(n["h"])("div",iw,[rw,Object(n["h"])("div",ow,[i.searchResultUpdate&&i.students.length>0?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-danger text-danger mr-3"},[cw,lw])):Object(n["e"])("",!0),Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"RegisterStudent",params:{institutionID:i.institutionID}}},{default:tw((function(){return[uw,dw]})),_:1},8,["to"])])]),i.students.length<=0?(Object(n["q"])(),Object(n["d"])("div",mw,[Object(n["h"])("div",bw,[Object(n["h"])("div",hw,[Object(n["h"])("h3",pw,Object(n["z"])(i.emptyMessage),1),Ow,fw,gw,i.searchResultUpdate?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-success text-white"},[jw,vw])):Object(n["e"])("",!0)])])])):(Object(n["q"])(),Object(n["d"])("div",Iw,[Object(n["h"])("div",Dw,[Object(n["h"])("div",yw,[Object(n["h"])("div",xw,[ww,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.studentID=t})},null,544),[[n["D"],i.search.studentID]])])]),Object(n["h"])("div",Sw,[Object(n["h"])("div",Cw,[qw,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.fullname=t})},null,544),[[n["D"],i.search.fullname]])])]),Object(n["h"])("div",Ew,[Object(n["h"])("div",kw,[Uw,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"email",class:"form-control floating","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.search.email=t})},null,544),[[n["D"],i.search.email]])])]),Object(n["h"])("div",Aw,[Object(n["h"])("a",{onClick:e[9]||(e[9]=Object(n["H"])((function(){return r.searchStudents&&r.searchStudents.apply(r,arguments)}),["prevent"])),class:"btn btn-success btn-block"}," Search ")])]),Object(n["h"])("div",Lw,[Object(n["h"])("div",Tw,[Object(n["h"])("div",Mw,[Object(n["h"])("table",Rw,[Nw,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.students,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.studentID},[Object(n["h"])("td",null,[Object(n["h"])("img",{width:"28",height:"28",src:t.avatar,class:"rounded-circle",alt:""},null,8,["src"]),Bw,Object(n["h"])("h2",null,Object(n["z"])(t.fullname),1)]),Object(n["h"])("td",null,Object(n["z"])(t.studentID),1),Object(n["h"])("td",null,Object(n["z"])(t.email),1),Object(n["h"])("td",null,Object(n["z"])(t.phone),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(t.dob)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(t.createdOn)),1),Object(n["h"])("td",zw,[Object(n["h"])("div",Pw,[Object(n["h"])("a",{onClick:e[10]||(e[10]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[_w]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("div",Fw,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedStudentPage(t.studentID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[$w,Gw],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteStudentOperation(t.studentID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[Vw,Hw],8,["onClick"])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),r.canViewOption?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",Qw,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedStudentPage(t.studentID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[Ww,Jw],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteStudentOperation(t.studentID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[Yw,Xw],8,["onClick"])):Object(n["e"])("",!0)]))])])])})),128))])])])])])]))]),Object(n["h"])(u)])]),Kw])})),tS={name:"Students",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"all students",institutionID:null,institution:{},students:[],emptyMessage:"Student list is empty.",searchResultUpdate:!1,search:{studentID:"",fullname:"",email:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},canViewOption:function(){return"institution administrator"===this.loggedUser.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},customizeDate:function(t){return Kr(t)},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},loadSelectedStudentPage:function(t){this.$router.push({name:"InstitutionStudentDetails",params:{institutionID:this.institutionID,studentID:t}})},requestDeleteStudentOperation:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Do you want to Delete ".concat(e.getStudentNameByID(t)," institution records?"))){a.next=4;break}return a.next=3,e.closeAllOpenedActionMenuOptions();case 3:Kt.collection("students").where("studentID","==",t).get().then((function(a){a.forEach((function(a){a.ref.delete(),e.students.map((function(a){a.studentID===t&&e.students.splice(e.students.indexOf(a),1)}))}))}));case 4:case"end":return a.stop()}}),a)})))()},getStudentNameByID:function(t){var e="Unknown";return this.students.map((function(a){a.studentID===t&&(e=a.fullname)})),e},getUsersFromFirebase:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("students").where("institutionID","==",t.$route.params.institutionID).get().then((function(t){t.forEach((function(t){var e={id:t.id,studentID:t.data().studentID,institutionID:t.data().institutionID,fullname:t.data().fullname,dob:t.data().dob,email:t.data().email,phone:t.data().phone,address:t.data().address,userRole:t.data().userRole,accountType:t.data().accountType,createdOn:t.data().createdOn,avatar:t.data().avatar};a.push(e)}))}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},searchUsersWithThreeParameters:function(t,e,a,n,s,i){var r=this;return Object(_n["a"])(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,r.getUsersFromFirebase();case 2:c=o.sent,l=to(c,t,e,a,n,s,i),r.students=l,r.students.length>=0&&(r.emptyMessage="Search result is empty.",r.searchResultUpdate=!0);case 6:case"end":return o.stop()}}),o)})))()},searchUsersWithTwoParameters:function(t,e,a,n){var s=this;return Object(_n["a"])(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.getUsersFromFirebase();case 2:r=i.sent,o=eo(r,t,e,a,n),s.students=o,s.students.length>=0&&(s.emptyMessage="Search result is empty.",s.searchResultUpdate=!0);case 6:case"end":return i.stop()}}),i)})))()},searchUsersWithOneParameters:function(t,e){var a=this;return Object(_n["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getUsersFromFirebase();case 2:s=n.sent,i=ao(s,t,e),a.students=i,a.students.length>=0&&(a.emptyMessage="Search result is empty.",a.searchResultUpdate=!0);case 6:case"end":return n.stop()}}),n)})))()},reloadDataRecords:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUsersFromFirebase();case 2:t.students=e.sent,t.emptyMessage="Institution staff list is empty Err.",t.searchResultUpdate=!1,t.search.studentID="",t.search.fullname="",t.search.email="";case 8:case"end":return e.stop()}}),e)})))()},searchStudents:function(){this.search.studentID&&this.search.fullname&&this.search.email?this.searchUsersWithThreeParameters("studentID",this.search.studentID,"fullname",this.search.fullname,"email",this.search.email):this.search.studentID&&this.search.fullname||this.search.studentID&&this.search.email||this.search.email&&this.search.fullname?this.search.studentID&&this.search.fullname?this.searchUsersWithTwoParameters("studentID",this.search.studentID,"fullname",this.search.fullname):this.search.studentID&&this.search.email?this.searchUsersWithTwoParameters("studentID",this.search.studentID,"email",this.search.email):this.search.email&&this.search.fullname&&this.searchUsersWithTwoParameters("email",this.search.email,"fullname",this.search.fullname):(this.search.studentID||this.search.fullname||this.search.email)&&(this.search.studentID?this.searchUsersWithOneParameters("studentID",this.search.studentID):this.search.fullname?this.searchUsersWithOneParameters("fullname",this.search.fullname):this.search.email&&this.searchUsersWithOneParameters("email",this.search.email))},updateSearchOperation:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.search.studentID||t.search.fullname||t.search.email){e.next=5;break}return e.next=3,t.getUsersFromFirebase();case 3:t.students=e.sent,t.emptyMessage="Institution staff list is empty. brtree";case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),e.next=4,t.getUsersFromFirebase();case 4:t.students=e.sent;case 5:case"end":return e.stop()}}),e)})))()}};a("0cbf");tS.render=Zw,tS.__scopeId="data-v-155a620d";var eS=tS,aS=Object(n["I"])("data-v-10bbd95e");Object(n["t"])("data-v-10bbd95e");var nS={class:"main-viewer"},sS={class:"main-wrapper"},iS={class:"page-wrapper"},rS={class:"content"},oS={class:"row"},cS={class:"col-sm-8 col-3"},lS={class:"page-title"},uS={class:"col-sm-4 col-9 text-right m-b-20"},dS=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-edit mr-2"})],-1),mS=Object(n["g"])("Edit "),bS=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),hS=Object(n["g"])("Back "),pS={class:"row mb-3"},OS={class:"col-md-6 offset-md-3"},fS={class:"list-group list-group-flush"},gS={class:"list-group-item transparent-bg"},jS={class:"row"},vS=Object(n["h"])("div",{class:"col-3"},"Student ID",-1),IS=Object(n["h"])("div",{class:"col-1"},":",-1),DS=Object(n["g"])(),yS={class:"col-8"},xS={class:"text-dark"},wS={class:"list-group-item transparent-bg"},SS={class:"row"},CS=Object(n["h"])("div",{class:"col-3"},"Fullname",-1),qS=Object(n["h"])("div",{class:"col-1"},":",-1),ES=Object(n["g"])(),kS={class:"col-8"},US={class:"text-dark"},AS={class:"list-group-item transparent-bg"},LS={class:"row"},TS=Object(n["h"])("div",{class:"col-3"},"Date of Birth",-1),MS=Object(n["h"])("div",{class:"col-1"},":",-1),RS=Object(n["g"])(),NS={class:"col-8"},BS={class:"text-dark"},zS={class:"list-group-item transparent-bg"},PS={class:"row"},_S=Object(n["h"])("div",{class:"col-3"},"Gender",-1),FS=Object(n["h"])("div",{class:"col-1"},":",-1),$S=Object(n["g"])(),GS={class:"col-8"},VS={class:"text-dark",style:{"text-transform":"capitalize"}},HS={class:"list-group-item transparent-bg"},QS={class:"row"},WS=Object(n["h"])("div",{class:"col-3"},"Email",-1),JS=Object(n["h"])("div",{class:"col-1"},":",-1),YS=Object(n["g"])(),XS={class:"col-8"},KS={class:"text-dark"},ZS={class:"list-group-item transparent-bg"},tC={class:"row"},eC=Object(n["h"])("div",{class:"col-3"},"Phone",-1),aC=Object(n["h"])("div",{class:"col-1"},":",-1),nC=Object(n["g"])(),sC={class:"col-8"},iC={class:"text-dark"},rC={class:"list-group-item transparent-bg"},oC={class:"row"},cC=Object(n["h"])("div",{class:"col-3"},"Address",-1),lC=Object(n["h"])("div",{class:"col-1"},":",-1),uC=Object(n["g"])(),dC={class:"col-8"},mC={class:"text-dark"},bC=Object(n["h"])("hr",{class:"mb-3"},null,-1),hC=Object(n["h"])("h3",{class:"h3 ml-4"},"Assigned To",-1),pC=Object(n["h"])("hr",{class:"mb-3"},null,-1),OC={class:"row"},fC={key:0,class:"col-8 offset-2 mt-3 mb-3"},gC=Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Classroom list is empty!")],-1),jC={key:1,class:"col-md-12 mb-5"},vC={class:"table-responsive"},IC={class:"table table-striped custom-table"},DC=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Classroom Name"),Object(n["h"])("th",null,"Classroom ID"),Object(n["h"])("th",null,"Grade/Year"),Object(n["h"])("th",null,"Capacity"),Object(n["h"])("th",null,"No. assigned Students"),Object(n["h"])("th",null,"Overseen By"),Object(n["h"])("th",null,"Created On")])],-1),yC=Object(n["h"])("img",{width:"28",height:"28",class:"rounded-circle"},null,-1),xC=Object(n["g"])(),wC=Object(n["h"])("hr",{class:"mb-3"},null,-1),SC=Object(n["h"])("h3",{class:"h3 ml-4"},"Classroom Course",-1),CC=Object(n["h"])("hr",{class:"mb-3"},null,-1),qC={class:"row"},EC={key:0,class:"col-8 offset-2 mt-3 mb-3"},kC=Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Course list is empty!")],-1),UC={key:1,class:"col-md-12 mb-5"},AC={class:"table-responsive"},LC={class:"table table-striped custom-table"},TC=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Course Title"),Object(n["h"])("th",null,"Course ID"),Object(n["h"])("th",null,"Course Code"),Object(n["h"])("th",null,"Grade"),Object(n["h"])("th",null,"Duration"),Object(n["h"])("th",null,"Instructor"),Object(n["h"])("th",null,"Created On")])],-1),MC=Object(n["h"])("img",{width:"28",height:"28",class:"rounded-circle"},null,-1),RC=Object(n["g"])(),NC=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var BC=aS((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",nS,[Object(n["h"])("div",sS,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",iS,[Object(n["h"])("div",rS,[Object(n["h"])("div",oS,[Object(n["h"])("div",cS,[Object(n["h"])("h4",lS,Object(n["z"])(i.selectedStudent["fullname"])+"'s Details",1)]),Object(n["h"])("div",uS,[Object(n["h"])(l,{to:{name:"InstitutionEditStudentDetails",params:{institutionID:i.institutionID,studentID:i.studentID}},class:"btn btn-outline-success mr-3"},{default:aS((function(){return[dS,mS]})),_:1},8,["to"]),Object(n["h"])(l,{to:{name:"InstitutionStudents",params:{institutionID:i.institutionID}},class:"btn btn-outline-secondary"},{default:aS((function(){return[bS,hS]})),_:1},8,["to"])])]),Object(n["h"])("div",pS,[Object(n["h"])("div",OS,[Object(n["h"])("ul",fS,[Object(n["h"])("li",gS,[Object(n["h"])("div",jS,[vS,IS,DS,Object(n["h"])("div",yS,[Object(n["h"])("strong",xS,Object(n["z"])(i.selectedStudent["studentID"]),1)])])]),Object(n["h"])("li",wS,[Object(n["h"])("div",SS,[CS,qS,ES,Object(n["h"])("div",kS,[Object(n["h"])("strong",US,Object(n["z"])(i.selectedStudent["fullname"]),1)])])]),Object(n["h"])("li",AS,[Object(n["h"])("div",LS,[TS,MS,RS,Object(n["h"])("div",NS,[Object(n["h"])("strong",BS,Object(n["z"])(r.customizeDate(i.selectedStudent["dob"])),1)])])]),Object(n["h"])("li",zS,[Object(n["h"])("div",PS,[_S,FS,$S,Object(n["h"])("div",GS,[Object(n["h"])("strong",VS,Object(n["z"])(i.selectedStudent["gender"]),1)])])]),Object(n["h"])("li",HS,[Object(n["h"])("div",QS,[WS,JS,YS,Object(n["h"])("div",XS,[Object(n["h"])("strong",KS,Object(n["z"])(i.selectedStudent["email"]),1)])])]),Object(n["h"])("li",ZS,[Object(n["h"])("div",tC,[eC,aC,nC,Object(n["h"])("div",sC,[Object(n["h"])("strong",iC,Object(n["z"])(i.selectedStudent["phone"]),1)])])]),Object(n["h"])("li",rC,[Object(n["h"])("div",oC,[cC,lC,uC,Object(n["h"])("div",dC,[Object(n["h"])("strong",mC,Object(n["z"])(i.selectedStudent["address"]),1)])])])])])])]),bC,hC,pC,Object(n["h"])("div",OC,[i.classroomStudents.length<=0?(Object(n["q"])(),Object(n["d"])("div",fC,[gC])):Object(n["e"])("",!0),i.classroomStudents.length>0?(Object(n["q"])(),Object(n["d"])("div",jC,[Object(n["h"])("div",vC,[Object(n["h"])("table",IC,[DC,Object(n["h"])("tbody",{set:t.tempCourses=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classroomStudents,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.classroomID},[Object(n["h"])("td",null,[yC,xC,Object(n["h"])("h2",null,Object(n["z"])(r.getClassroomByID(t.classroomID).name),1)]),Object(n["h"])("td",null,Object(n["z"])(t.classroomID),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).grade),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).capacity),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).numberOfStudentsAssigned),1),Object(n["h"])("td",null,Object(n["z"])(r.getEmployeeNameByID(r.getClassroomByID(t.classroomID).overSeenBy)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(r.getClassroomByID(t.classroomID).createdOn))),1)])})),128))],8,["set"])])])])):Object(n["e"])("",!0)]),wC,SC,CC,Object(n["h"])("div",qC,[i.classroomCourses.length<=0?(Object(n["q"])(),Object(n["d"])("div",EC,[kC])):Object(n["e"])("",!0),i.classroomCourses.length>0?(Object(n["q"])(),Object(n["d"])("div",UC,[Object(n["h"])("div",AC,[Object(n["h"])("table",LC,[TC,Object(n["h"])("tbody",{set:t.tempCourses=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classroomCourses,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.courseID},[Object(n["h"])("td",null,[MC,RC,Object(n["h"])("h2",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).title),1)]),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).courseID),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).code),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).grade),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).duration)+" "+Object(n["z"])(r.getCourseRecordByID(t.courseID).durationUnit),1),Object(n["h"])("td",null,Object(n["z"])(r.getEmployeeNameByID(r.getCourseRecordByID(t.courseID).instructor)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(r.getCourseRecordByID(t.courseID).createdOn))),1)])})),128))],8,["set"])])])])):Object(n["e"])("",!0)]),Object(n["h"])(u)])]),NC])})),zC={name:"CourseDetails",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,studentID:null,institution:{},selectedStudent:{},employees:[],classrooms:[],classroomCourses:[],classroomStudents:[],courses:[]}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},customizeDate:function(t){return Kr(t)},getEmployeeNameByID:function(t){var e="Unknown";return this.employees.map((function(a){a.userID===t&&(e=a.fullname)})),e},getClassroomByID:function(t){var e={};return this.classrooms.map((function(a){a.classroomID===t&&(e=a)})),e},getCourseRecordByID:function(t){var e=null;return this.courses.map((function(a){a.courseID===t&&(e=a)})),e}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.studentID=this.$route.params.studentID,Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,institutionID:e.data().institutionID,title:e.data().title,grade:e.data().grade,code:e.data().code,duration:e.data().duration,durationUnit:e.data().durationUnit,instructor:e.data().instructor,description:e.data().description,createdOn:e.data().createdOn};t.courses.push(a)}))})),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("students").where("studentID","==",this.studentID).get().then((function(e){e.forEach((function(e){t.selectedStudent.id=e.id,t.selectedStudent.studentID=e.data().studentID,t.selectedStudent.institutionID=e.data().institutionID,t.selectedStudent.fullname=e.data().fullname,t.selectedStudent.dob=e.data().dob,t.selectedStudent.gender=e.data().gender,t.selectedStudent.email=e.data().email,t.selectedStudent.phone=e.data().phone,t.selectedStudent.address=e.data().address,t.selectedStudent.userRole=e.data().userRole,t.selectedStudent.accountType=e.data().accountType,t.selectedStudent.createdOn=e.data().createdOn}))})),Kt.collection("classrooms").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,classroomID:e.data().classroomID,institutionID:e.data().institutionID,name:e.data().name,grade:e.data().grade,capacity:parseInt(e.data().capacity),numberOfStudentsAssigned:e.data().numberOfStudentsAssigned,overSeenBy:e.data().overSeenBy,createdOn:e.data().createdOn};t.classrooms.push(a)}))})),Kt.collection("classroom_students").where("studentID","==",this.studentID).get().then((function(e){e.forEach((function(e){var a={id:e.id,studentID:e.data().studentID,classroomID:e.data().classroomID};t.classroomStudents.push(a),Kt.collection("classroom_courses").where("classroomID","==",a.classroomID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,classroomID:e.data().classroomID};t.classroomCourses.push(a)}))}))}))}))}};a("d1e5");zC.render=BC,zC.__scopeId="data-v-10bbd95e";var PC=zC,_C=Object(n["I"])("data-v-fed7e8ee");Object(n["t"])("data-v-fed7e8ee");var FC={class:"main-viewer"},$C={class:"main-wrapper"},GC={class:"page-wrapper"},VC={class:"content"},HC={class:"row"},QC=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Register Student")],-1),WC={class:"col-sm-8 col-9 text-right m-b-20"},JC=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),YC=Object(n["g"])("Cancel "),XC={class:"row"},KC={class:"col-lg-8 offset-lg-2"},ZC={class:"row"},tq={class:"col-sm-12"},eq={class:"form-group"},aq=Object(n["h"])("label",null,"Student ID",-1),nq={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},sq={class:"row"},iq={class:"col-sm-12"},rq={class:"form-group"},oq=Object(n["h"])("label",null,[Object(n["g"])("Fullname "),Object(n["h"])("span",{class:"text-danger"})],-1),cq={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},lq={class:"col-sm-12"},uq={class:"form-group"},dq=Object(n["h"])("label",null,[Object(n["g"])("Date of Birth "),Object(n["h"])("span",{class:"text-danger"})],-1),mq={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},bq={class:"col-sm-12"},hq={class:"form-group"},pq=Object(n["h"])("label",null,[Object(n["g"])("Email "),Object(n["h"])("span",{class:"text-danger"})],-1),Oq={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},fq={class:"col-sm-12"},gq={class:"form-group"},jq=Object(n["h"])("label",null,"Gender",-1),vq=Object(n["h"])("option",{value:""},"Select Gender",-1),Iq=Object(n["h"])("option",{value:"male"},"Male",-1),Dq=Object(n["h"])("option",{value:"female"},"Female",-1),yq={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},xq={class:"col-sm-12"},wq={class:"form-group"},Sq=Object(n["h"])("label",null,[Object(n["g"])("Password "),Object(n["h"])("span",{class:"text-danger"})],-1),Cq={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},qq={class:"col-sm-12"},Eq={class:"form-group"},kq=Object(n["h"])("label",null,"Phone",-1),Uq={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Aq={class:"col-sm-12"},Lq={class:"form-group"},Tq=Object(n["h"])("label",null,"Avatar",-1),Mq={class:"profile-upload"},Rq={class:"upload-img"},Nq={class:"upload-input"},Bq={class:"col-sm-12"},zq={class:"form-group"},Pq=Object(n["h"])("label",null,"Address",-1),_q={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},Fq=Object(n["h"])("hr",{class:"mb-3"},null,-1),$q={class:"form-group text-center"},Gq=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Vq=Object(n["g"])(" Loading... "),Hq=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Qq=_C((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",FC,[Object(n["h"])("div",$C,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",GC,[Object(n["h"])("div",VC,[Object(n["h"])("div",HC,[QC,Object(n["h"])("div",WC,[Object(n["h"])(l,{to:{name:"InstitutionStudents",params:{institutionID:i.institutionID}},class:"btn btn-outline-danger"},{default:_C((function(){return[JC,YC]})),_:1},8,["to"])])]),Object(n["h"])("div",XC,[Object(n["h"])("div",KC,[Object(n["h"])("form",null,[Object(n["h"])("div",ZC,[Object(n["h"])("div",tq,[Object(n["h"])("div",eq,[aq,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("studentID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.studentID=t})},null,544),[[n["D"],i.form.studentID]]),i.errors.studentID?(Object(n["q"])(),Object(n["d"])("small",nq,Object(n["z"])(i.errors.studentID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",sq,[Object(n["h"])("div",iq,[Object(n["h"])("div",rq,[oq,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("fullname")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.fullname=t})},null,544),[[n["D"],i.form.fullname]]),i.errors.fullname?(Object(n["q"])(),Object(n["d"])("small",cq,Object(n["z"])(i.errors.fullname),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",lq,[Object(n["h"])("div",uq,[dq,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("dob")}),class:"form-control",type:"date","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.dob=t})},null,544),[[n["D"],i.form.dob]]),i.errors.dob?(Object(n["q"])(),Object(n["d"])("small",mq,Object(n["z"])(i.errors.dob),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",bq,[Object(n["h"])("div",hq,[pq,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("email")}),class:"form-control",type:"email","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",Oq,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",fq,[Object(n["h"])("div",gq,[jq,Object(n["G"])(Object(n["h"])("select",{onChange:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("gender")}),class:"form-control select","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.gender=t})},[vq,Iq,Dq],544),[[n["C"],i.form.gender]]),i.errors.gender?(Object(n["q"])(),Object(n["d"])("small",yq,Object(n["z"])(i.errors.gender),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",xq,[Object(n["h"])("div",wq,[Sq,Object(n["G"])(Object(n["h"])("input",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("password")}),class:"form-control",type:"text",readonly:"","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.password=t})},null,544),[[n["D"],i.form.password]]),i.errors.password?(Object(n["q"])(),Object(n["d"])("small",Cq,Object(n["z"])(i.errors.password),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",qq,[Object(n["h"])("div",Eq,[kq,Object(n["G"])(Object(n["h"])("input",{onInput:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("phone")}),class:"form-control",type:"text","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.phone=t})},null,544),[[n["D"],i.form.phone]]),i.errors.phone?(Object(n["q"])(),Object(n["d"])("small",Uq,Object(n["z"])(i.errors.phone),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",Aq,[Object(n["h"])("div",Lq,[Tq,Object(n["h"])("div",Mq,[Object(n["h"])("div",Rq,[Object(n["h"])("img",{alt:"",src:i.form.avatar},null,8,["src"])]),Object(n["h"])("div",Nq,[Object(n["h"])("input",{type:"file",class:"form-control",onChange:e[15]||(e[15]=function(t){return r.onFileSelected(t)}),accept:"image/*",required:""},null,32)])])])]),Object(n["h"])("div",Bq,[Object(n["h"])("div",zq,[Pq,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[16]||(e[16]=function(t){return r.updateErrorStatusOnInput("address")}),class:"form-control","onUpdate:modelValue":e[17]||(e[17]=function(t){return i.form.address=t})},null,544),[[n["D"],i.form.address]]),i.errors.address?(Object(n["q"])(),Object(n["d"])("small",_q,Object(n["z"])(i.errors.address),1)):Object(n["e"])("",!0)])])]),Fq,Object(n["h"])("div",$q,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[Gq,Vq],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[18]||(e[18]=Object(n["H"])((function(){return r.attemptStudentRegister&&r.attemptStudentRegister.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Register Student"))])])])])]),Object(n["h"])(u)])]),Hq])})),Wq={name:"RegisterStudent",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,institution:{},isLoading:!1,selectedFile:null,form:{studentID:"",fullname:"",email:"",gender:"",phone:"",avatar:"",dob:"",address:"",password:"P@$$w0rd",userRole:"student",accountType:"student account"},errors:{studentID:"",fullname:"",email:"",phone:"",avatar:"",dob:"",address:"",password:"",gender:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},onFileSelected:function(t){var e=this,a=t.target.files,n=a[0].name;if(n.lastIndexOf(".")<=0)return alert("Please upload a valid file!");var s=new FileReader;s.addEventListener("load",(function(){e.form.avatar=s.result})),s.readAsDataURL(a[0]),this.selectedFile=a[0]},validateForm:function(){return this.form.studentID||(this.errors.studentID="Student ID is required!"),this.form.fullname||(this.errors.fullname="Fullname is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.phone||(this.errors.phone="Phone number is required!"),this.form.password||(this.errors.password="Password is required!"),this.form.address||(this.errors.address="Address is required!"),this.form.gender||(this.errors.gender="Gender is required!"),this.form.dob||(this.errors.dob="Date of Birth is required!"),!!(this.form.studentID&&this.form.fullname&&this.form.email&&this.form.gender&&this.form.phone&&this.form.address&&this.form.accountType&&this.form.dob)},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},attemptStudentRegister:function(){var t=this;this.isLoading=!0,this.validateForm()?Zt.createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(e){console.log(e),Kt.collection("students").add({studentID:t.form.studentID,institutionID:t.institutionID,fullname:t.form.fullname,dob:new Date(t.form.dob).getTime(),email:t.form.email,phone:t.form.phone,gender:t.form.gender,address:t.form.address,userRole:t.form.userRole,accountType:t.form.accountType,createdOn:(new Date).getTime(),assignedTo:0}).then((function(){var e=t.selectedFile.name,a=e.slice(e.lastIndexOf("."));Jt["a"].storage().ref("students/"+t.form.studentID+a).put(t.selectedFile).then((function(e){e.ref.getDownloadURL().then((function(e){Kt.collection("students").where("studentID","==",t.form.studentID).get().then((function(a){a.forEach((function(t){t.ref.update({avatar:e})}));var n=ee["a"].v4();Kt.collection("chat_accounts").add({accountID:n,userID:t.form.studentID,accountType:"private",userType:t.form.userRole,referenced_db:"students",referenceName:""}).then((function(e){console.log(e),t.isLoading=!1,t.$router.push({name:"InstitutionStudents",params:{institutionID:t.$route.params.institutionID}})})).catch((function(e){t.isLoading=!1,alert(e.message)}))}))}))}))})).catch((function(e){t.isLoading=!1,alert(e.message)}))}),(function(e){t.isLoading=!1,alert(e.message)})):this.isLoading=!1}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.form.studentID=ee["a"].v4(),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}))}};a("2ac6");Wq.render=Qq,Wq.__scopeId="data-v-fed7e8ee";var Jq=Wq,Yq=Object(n["I"])("data-v-f626be56");Object(n["t"])("data-v-f626be56");var Xq={class:"main-viewer"},Kq={class:"main-wrapper"},Zq={class:"page-wrapper"},tE={class:"content"},eE={class:"row"},aE=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"All Classrooms")],-1),nE={class:"col-sm-8 col-9 text-right m-b-20"},sE=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),iE=Object(n["g"])("Clear Search"),rE=Object(n["h"])("i",{class:"fas fa-user-edit mr-2"},null,-1),oE=Object(n["g"])("Create Classroom"),cE={key:0,class:"row"},lE={class:"col-sm-8 offset-sm-2 mt-5"},uE={class:"jumbotron text-center"},dE={class:"h3"},mE=Object(n["g"])(),bE=Object(n["h"])("br",null,null,-1),hE=Object(n["g"])(),pE=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),OE=Object(n["g"])("Back"),fE={key:1,class:"container-fluid"},gE={class:"row filter-row"},jE={class:"col-sm-6 col-md-3"},vE={class:"form-group form-focus"},IE=Object(n["h"])("label",{class:"focus-label"},"Classroom ID",-1),DE={class:"col-sm-6 col-md-3"},yE={class:"form-group form-focus"},xE=Object(n["h"])("label",{class:"focus-label"},"Name",-1),wE={class:"col-sm-6 col-md-3"},SE={class:"form-group form-focus"},CE=Object(n["h"])("label",{class:"focus-label"},"Grade/Year",-1),qE={class:"col-sm-6 col-md-3"},EE={class:"row"},kE={class:"col-md-12"},UE={class:"table-responsive"},AE={class:"table table-striped custom-table"},LE=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Classroom Name"),Object(n["h"])("th",null,"Classroom ID"),Object(n["h"])("th",null,"Grade/Year"),Object(n["h"])("th",null,"Capacity"),Object(n["h"])("th",null,"No. assigned Students"),Object(n["h"])("th",null,"Overseen By"),Object(n["h"])("th",null,"Created On"),Object(n["h"])("th",{class:"text-right"},"Action")])],-1),TE=Object(n["h"])("img",{width:"28",height:"28",class:"rounded-circle"},null,-1),ME=Object(n["g"])(),RE={class:"text-right"},NE={class:"dropdown dropdown-action"},BE=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),zE={key:0,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-50px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},PE=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),_E=Object(n["g"])(" Manage"),FE=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),$E=Object(n["g"])(" Delete"),GE={key:1,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},VE=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),HE=Object(n["g"])(" Manage"),QE=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),WE=Object(n["g"])(" Delete"),JE=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var YE=Yq((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Xq,[Object(n["h"])("div",Kq,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Zq,[Object(n["h"])("div",tE,[Object(n["h"])("div",eE,[aE,Object(n["h"])("div",nE,[i.searchResultUpdate&&i.classrooms.length>0?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-danger text-danger mr-3"},[sE,iE])):Object(n["e"])("",!0),r.canViewOption?(Object(n["q"])(),Object(n["d"])(l,{key:1,class:"btn btn-success btn-rounded float-right",to:{name:"CreateClassroom",params:{institutionID:i.institutionID}}},{default:Yq((function(){return[rE,oE]})),_:1},8,["to"])):Object(n["e"])("",!0)])]),i.classrooms.length<=0?(Object(n["q"])(),Object(n["d"])("div",cE,[Object(n["h"])("div",lE,[Object(n["h"])("div",uE,[Object(n["h"])("h3",dE,Object(n["z"])(i.emptyMessage),1),mE,bE,hE,i.searchResultUpdate?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-success text-white"},[pE,OE])):Object(n["e"])("",!0)])])])):(Object(n["q"])(),Object(n["d"])("div",fE,[Object(n["h"])("div",gE,[Object(n["h"])("div",jE,[Object(n["h"])("div",vE,[IE,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.classroomID=t})},null,544),[[n["D"],i.search.classroomID]])])]),Object(n["h"])("div",DE,[Object(n["h"])("div",yE,[xE,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.name=t})},null,544),[[n["D"],i.search.name]])])]),Object(n["h"])("div",wE,[Object(n["h"])("div",SE,[CE,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.search.grade=t})},null,544),[[n["D"],i.search.grade]])])]),Object(n["h"])("div",qE,[Object(n["h"])("a",{onClick:e[9]||(e[9]=Object(n["H"])((function(){return r.searchClassrooms&&r.searchClassrooms.apply(r,arguments)}),["prevent"])),class:"btn btn-success btn-block text-white"}," Search ")])]),Object(n["h"])("div",EE,[Object(n["h"])("div",kE,[Object(n["h"])("div",UE,[Object(n["h"])("table",AE,[LE,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classrooms,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.classroomID},[Object(n["h"])("td",null,[TE,ME,Object(n["h"])("h2",null,Object(n["z"])(t.name),1)]),Object(n["h"])("td",null,Object(n["z"])(t.classroomID),1),Object(n["h"])("td",null,Object(n["z"])(t.grade),1),Object(n["h"])("td",null,Object(n["z"])(t.capacity),1),Object(n["h"])("td",null,Object(n["z"])(t.numberOfStudentsAssigned),1),Object(n["h"])("td",null,Object(n["z"])(r.getEmployeeNameByID(t.overSeenBy)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(t.createdOn))),1),Object(n["h"])("td",RE,[Object(n["h"])("div",NE,[Object(n["h"])("a",{onClick:e[10]||(e[10]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[BE]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("div",zE,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedClassroomPage(t.classroomID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[PE,_E],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteClassroomOperation(t.classroomID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[FE,$E],8,["onClick"])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),r.canViewOption?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",GE,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedClassroomPage(t.classroomID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[VE,HE],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteClassroomOperation(t.classroomID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[QE,WE],8,["onClick"])):Object(n["e"])("",!0)]))])])])})),128))])])])])])]))]),Object(n["h"])(u)])]),JE])})),XE={name:"Classrooms",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"all classrooms",institutionID:null,institution:{},employees:[],classrooms:[],emptyMessage:"Classroom list is empty.",searchResultUpdate:!1,search:{classroomID:"",name:"",grade:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},canViewOption:function(){return"institution administrator"===this.loggedUser.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},customizeDate:function(t){return Kr(t)},loadSelectedClassroomPage:function(t){console.log(t),this.$router.push({name:"InstitutionClassroomDetails",params:{institutionID:this.institutionID,classroomID:t}})},requestDeleteClassroomOperation:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Do you want to Delete ".concat(e.getClassroomNameByID(t)," classroom records?"))){a.next=4;break}return a.next=3,e.closeAllOpenedActionMenuOptions();case 3:Kt.collection("classrooms").where("classroomID","==",t).get().then((function(a){a.forEach((function(a){a.ref.delete(),e.classrooms.map((function(a){a.classroomID===t&&e.classrooms.splice(e.classrooms.indexOf(a),1)}))}))}));case 4:case"end":return a.stop()}}),a)})))()},getEmployeeNameByID:function(t){var e="Unknown";return this.employees.map((function(a){a.userID===t&&(e=a.fullname)})),e},getClassroomNameByID:function(t){var e="Unknown";return this.classrooms.map((function(a){a.classroomID===t&&(e=a.name)})),e},getClassroomFromFirebase:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("classrooms").where("institutionID","==",t.$route.params.institutionID).get().then((function(t){t.forEach((function(t){var e={id:t.id,classroomID:t.data().classroomID,institutionID:t.data().institutionID,name:t.data().name,grade:t.data().grade,capacity:parseInt(t.data().capacity),numberOfStudentsAssigned:t.data().numberOfStudentsAssigned,overSeenBy:t.data().overSeenBy,createdOn:t.data().createdOn};a.push(e)}))}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},searchClassroomsWithThreeParameters:function(t,e,a,n,s,i){var r=this;return Object(_n["a"])(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,r.getClassroomFromFirebase();case 2:c=o.sent,l=to(c,t,e,a,n,s,i),r.classrooms=l,r.classrooms.length>=0&&(r.emptyMessage="Search result is empty.",r.searchResultUpdate=!0);case 6:case"end":return o.stop()}}),o)})))()},searchClassroomsWithTwoParameters:function(t,e,a,n){var s=this;return Object(_n["a"])(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.getClassroomFromFirebase();case 2:r=i.sent,o=eo(r,t,e,a,n),s.classrooms=o,s.classrooms.length>=0&&(s.emptyMessage="Search result is empty.",s.searchResultUpdate=!0);case 6:case"end":return i.stop()}}),i)})))()},searchClassroomsWithOneParameters:function(t,e){var a=this;return Object(_n["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getClassroomFromFirebase();case 2:s=n.sent,i=ao(s,t,e),a.classrooms=i,a.classrooms.length>=0&&(a.emptyMessage="Search result is empty.",a.searchResultUpdate=!0);case 6:case"end":return n.stop()}}),n)})))()},reloadDataRecords:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getClassroomFromFirebase();case 2:t.classrooms=e.sent,t.emptyMessage="Classroom list is empty.",t.searchResultUpdate=!1,t.search.classroomID="",t.search.name="",t.search.grade="";case 8:case"end":return e.stop()}}),e)})))()},searchClassrooms:function(){this.search.classroomID&&this.search.name&&this.search.grade?this.searchClassroomsWithThreeParameters("classroomID",this.search.classroomID,"name",this.search.name,"grade",this.search.grade):this.search.classroomID&&this.search.name||this.search.classroomID&&this.search.grade||this.search.grade&&this.search.name?this.search.classroomID&&this.search.name?this.searchClassroomsWithTwoParameters("classroomID",this.search.classroomID,"name",this.search.name):this.search.classroomID&&this.search.grade?this.searchClassroomsWithTwoParameters("classroomID",this.search.classroomID,"grade",this.search.grade):this.search.grade&&this.search.name&&this.searchClassroomsWithTwoParameters("grade",this.search.grade,"name",this.search.name):(this.search.classroomID||this.search.name||this.search.grade)&&(this.search.classroomID?this.searchClassroomsWithOneParameters("classroomID",this.search.classroomID):this.search.name?this.searchClassroomsWithOneParameters("name",this.search.name):this.search.grade&&this.searchClassroomsWithOneParameters("grade",this.search.grade))},updateSearchOperation:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.search.classroomID||t.search.name||t.search.grade){e.next=5;break}return e.next=3,t.getClassroomFromFirebase();case 3:t.classrooms=e.sent,t.emptyMessage="Classroom list is empty.";case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}))})),e.next=5,t.getClassroomFromFirebase();case 5:t.classrooms=e.sent;case 6:case"end":return e.stop()}}),e)})))()}};a("2eac");XE.render=YE,XE.__scopeId="data-v-f626be56";var KE=XE,ZE=Object(n["I"])("data-v-5a5e0bcc");Object(n["t"])("data-v-5a5e0bcc");var tk={class:"main-viewer"},ek={class:"main-wrapper"},ak={class:"page-wrapper"},nk={class:"content"},sk={class:"row"},ik={class:"col-sm-4 col-3"},rk={class:"page-title"},ok={class:"col-sm-8 col-9 text-right m-b-20"},ck=Object(n["h"])("i",{class:"fas fa-edit mr-2"},null,-1),lk=Object(n["g"])("Edit"),uk=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),dk=Object(n["g"])("Back "),mk={class:"row mb-3"},bk={class:"col-md-6 offset-md-3"},hk={class:"list-group list-group-flush"},pk={class:"list-group-item transparent-bg"},Ok={class:"row"},fk=Object(n["h"])("div",{class:"col-3"},"Classroom ID",-1),gk=Object(n["h"])("div",{class:"col-1"},":",-1),jk=Object(n["g"])(),vk={class:"col-8"},Ik={class:"text-dark"},Dk={class:"list-group-item transparent-bg"},yk={class:"row"},xk=Object(n["h"])("div",{class:"col-3"},"Name",-1),wk=Object(n["h"])("div",{class:"col-1"},":",-1),Sk=Object(n["g"])(),Ck={class:"col-8"},qk={class:"text-dark"},Ek={class:"list-group-item transparent-bg"},kk={class:"row"},Uk=Object(n["h"])("div",{class:"col-3"},"Grade",-1),Ak=Object(n["h"])("div",{class:"col-1"},":",-1),Lk=Object(n["g"])(),Tk={class:"col-8"},Mk={class:"text-dark"},Rk={class:"list-group-item transparent-bg"},Nk={class:"row"},Bk=Object(n["h"])("div",{class:"col-3"},"Capacity",-1),zk=Object(n["h"])("div",{class:"col-1"},":",-1),Pk=Object(n["g"])(),_k={class:"col-8"},Fk={class:"text-dark"},$k={class:"list-group-item transparent-bg"},Gk={class:"row"},Vk=Object(n["h"])("div",{class:"col-3"},"Number of assigned students",-1),Hk=Object(n["h"])("div",{class:"col-1"},":",-1),Qk=Object(n["g"])(),Wk={class:"col-8"},Jk={class:"text-dark"},Yk={class:"list-group-item transparent-bg"},Xk={class:"row"},Kk=Object(n["h"])("div",{class:"col-3"},"Overseen By",-1),Zk=Object(n["h"])("div",{class:"col-1"},":",-1),tU=Object(n["g"])(),eU={class:"col-8"},aU={class:"text-dark"},nU={class:"list-group-item transparent-bg"},sU={class:"row"},iU=Object(n["h"])("div",{class:"col-3"},"Created On",-1),rU=Object(n["h"])("div",{class:"col-1"},":",-1),oU=Object(n["g"])(),cU={class:"col-8"},lU={class:"text-dark"},uU=Object(n["h"])("hr",{class:"mb-3"},null,-1),dU={class:"h4"},mU=Object(n["g"])(" Examination Time Table "),bU=Object(n["h"])("i",{class:"fas fa-plus mr-1"},null,-1),hU=Object(n["g"])(" Create Time Table "),pU=Object(n["h"])("i",{class:"fas fa-plus mr-1"},null,-1),OU=Object(n["g"])(" Manage Time Table "),fU=Object(n["h"])("hr",{class:"mb-3"},null,-1),gU={class:"row"},jU={key:0,class:"col-8 offset-2 mt-3 mb-3"},vU=Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Time Table has NOT been created!")],-1),IU={key:1,class:"col-md-12 mb-5"},DU={class:"h4 text-center mt-3 mb-3"},yU={class:"table table-bordered table-dark text-white"},xU={key:0,class:"day-info"},wU={class:"pt-5"},SU={class:"text-danger text-capitalize font-weight-bold font-italic"},CU={key:1},qU={key:0,class:"mb-3 col-12 text-center bg-danger"},EU=Object(n["g"])(" - "),kU=Object(n["h"])("hr",{class:"mb-3 mt-5"},null,-1),UU={class:"h3"},AU=Object(n["g"])(" Courses "),LU=Object(n["h"])("i",{class:"fas fa-plus mr-1"},null,-1),TU=Object(n["g"])(" Add Course "),MU=Object(n["h"])("i",{class:"fas fa-times mr-1"},null,-1),RU=Object(n["g"])(" Close "),NU=Object(n["h"])("hr",{class:"mb-3"},null,-1),BU={key:1,class:"mb-5"},zU={class:"row"},PU={key:0,class:"col-8 offset-2 mt-3 mb-3"},_U=Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Course list is empty!")],-1),FU={key:1,class:"col-md-12 mb-5"},$U={class:"table-responsive"},GU={class:"table table-striped custom-table"},VU=Object(n["h"])("th",{style:{"min-width":"200px"}},"Course Title",-1),HU=Object(n["h"])("th",null,"Course ID",-1),QU=Object(n["h"])("th",null,"Course Code",-1),WU=Object(n["h"])("th",null,"Grade",-1),JU=Object(n["h"])("th",null,"Duration",-1),YU=Object(n["h"])("th",null,"Instructor",-1),XU=Object(n["h"])("th",null,"Created On",-1),KU={key:0,class:"text-right"},ZU=Object(n["h"])("img",{width:"28",height:"28",class:"rounded-circle"},null,-1),tA=Object(n["g"])(),eA={key:0,class:"text-right"},aA={class:"dropdown dropdown-action"},nA=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),sA={class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},iA=Object(n["h"])("i",{class:"fa fa-file m-r-5"},null,-1),rA=Object(n["g"])("Add Examination"),oA=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),cA=Object(n["g"])("Manage"),lA=Object(n["h"])("hr",{class:"mb-3 mt-5"},null,-1),uA={class:"h3"},dA=Object(n["g"])(" Students "),mA=Object(n["h"])("i",{class:"fas fa-user-plus mr-1"},null,-1),bA=Object(n["g"])(" Add Student "),hA=Object(n["h"])("i",{class:"fas fa-times mr-1"},null,-1),pA=Object(n["g"])(" Close "),OA=Object(n["h"])("hr",{class:"mb-3"},null,-1),fA={key:3,class:"mb-5"},gA={class:"row"},jA={key:0,class:"col-8 offset-2 mt-3 mb-5"},vA=Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Student list is empty!")],-1),IA={key:1,class:"col-md-12"},DA={class:"table-responsive"},yA={class:"table table-striped custom-table"},xA=Object(n["h"])("th",{style:{"min-width":"200px"}},"Name",-1),wA=Object(n["h"])("th",null,"Student ID",-1),SA=Object(n["h"])("th",null,"Email",-1),CA=Object(n["h"])("th",null,"Mobile",-1),qA=Object(n["h"])("th",{style:{"min-width":"110px"}},"Date of Birth",-1),EA=Object(n["h"])("th",null,"Registered On",-1),kA={key:0,class:"text-right"},UA=Object(n["g"])(),AA={key:0,class:"text-right"},LA=Object(n["f"])('<div class="dropdown dropdown-action" data-v-5a5e0bcc><a class="action-icon dropdown-toggle" style="cursor:pointer;" aria-expanded="false" data-v-5a5e0bcc><i class="fa fa-ellipsis-v" data-v-5a5e0bcc></i></a><div class="dropdown-menu dropdown-menu-right" style="position:absolute;will-change:transform;top:-38px;left:-55px;transform:translate3d(-63px, 27px, 0px);" data-v-5a5e0bcc><a class="dropdown-item" style="cursor:pointer;" data-v-5a5e0bcc><i class="fa fa-file m-r-5" data-v-5a5e0bcc></i> Manage</a><a class="dropdown-item" style="cursor:pointer;" data-v-5a5e0bcc><i class="fa fa-trash m-r-5" data-v-5a5e0bcc></i> Delete</a></div></div>',1),TA=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var MA=ZE((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("addcourse-classroom"),d=Object(n["x"])("addstudent-classroom"),m=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",tk,[Object(n["h"])("div",ek,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",ak,[Object(n["h"])("div",nk,[Object(n["h"])("div",sk,[Object(n["h"])("div",ik,[Object(n["h"])("h4",rk,Object(n["z"])(i.selectedClassroom.name),1)]),Object(n["h"])("div",ok,[r.isAdministratorLogin?(Object(n["q"])(),Object(n["d"])(l,{key:0,class:"btn btn-success mr-3",to:{name:"EditInstitutionClassroomDetails",params:{institutionID:i.institutionID,classroomID:i.classroomID}}},{default:ZE((function(){return[ck,lk]})),_:1},8,["to"])):Object(n["e"])("",!0),Object(n["h"])(l,{to:{name:"InstitutionClassrooms",params:{institutionID:i.institutionID}},class:"btn btn-outline-secondary"},{default:ZE((function(){return[uk,dk]})),_:1},8,["to"])])]),Object(n["h"])("div",mk,[Object(n["h"])("div",bk,[Object(n["h"])("ul",hk,[Object(n["h"])("li",pk,[Object(n["h"])("div",Ok,[fk,gk,jk,Object(n["h"])("div",vk,[Object(n["h"])("strong",Ik,Object(n["z"])(i.selectedClassroom.institutionID),1)])])]),Object(n["h"])("li",Dk,[Object(n["h"])("div",yk,[xk,wk,Sk,Object(n["h"])("div",Ck,[Object(n["h"])("strong",qk,Object(n["z"])(i.selectedClassroom.name),1)])])]),Object(n["h"])("li",Ek,[Object(n["h"])("div",kk,[Uk,Ak,Lk,Object(n["h"])("div",Tk,[Object(n["h"])("strong",Mk,Object(n["z"])(i.selectedClassroom.grade),1)])])]),Object(n["h"])("li",Rk,[Object(n["h"])("div",Nk,[Bk,zk,Pk,Object(n["h"])("div",_k,[Object(n["h"])("strong",Fk,Object(n["z"])(i.selectedClassroom.capacity),1)])])]),Object(n["h"])("li",$k,[Object(n["h"])("div",Gk,[Vk,Hk,Qk,Object(n["h"])("div",Wk,[Object(n["h"])("strong",Jk,Object(n["z"])(i.selectedClassroom.numberOfStudentsAssigned),1)])])]),Object(n["h"])("li",Yk,[Object(n["h"])("div",Xk,[Kk,Zk,tU,Object(n["h"])("div",eU,[Object(n["h"])("strong",aU,Object(n["z"])(r.getEmployeeNameByID(i.selectedClassroom.overSeenBy)),1)])])]),Object(n["h"])("li",nU,[Object(n["h"])("div",sU,[iU,rU,oU,Object(n["h"])("div",cU,[Object(n["h"])("strong",lU,Object(n["z"])(r.customizeDate(parseInt(i.selectedClassroom.createdOn))),1)])])])])])]),uU,Object(n["h"])("h3",dU,[mU,r.isAdministratorLogin&&r.isEmptyObject(i.timetable)?(Object(n["q"])(),Object(n["d"])("a",{key:0,class:"ml-5 text-success btn btn-outline-success btn-sm",onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.addTimeTableToClassroom&&r.addTimeTableToClassroom.apply(r,arguments)}),["prevent"]))},[bU,hU])):Object(n["e"])("",!0),r.isAdministratorLogin&&!r.isEmptyObject(i.timetable)?(Object(n["q"])(),Object(n["d"])("a",{key:1,class:"ml-5 text-success btn btn-outline-success btn-sm",onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.modifyTimeTable&&r.modifyTimeTable.apply(r,arguments)}),["prevent"]))},[pU,OU])):Object(n["e"])("",!0)]),fU,Object(n["h"])("div",gU,[r.isEmptyObject(i.timetable)?(Object(n["q"])(),Object(n["d"])("div",jU,[vU])):Object(n["e"])("",!0),r.isEmptyObject(i.timetable)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",IU,[Object(n["h"])("h4",DU,"("+Object(n["z"])(r.getExaminationSemesterCode(i.examination.academicSession,i.examination.startDate))+") "+Object(n["z"])(i.examination.title),1),Object(n["h"])("table",yU,[Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.timetable.details,(function(t,e){return Object(n["q"])(),Object(n["d"])("tr",{key:e},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(t,(function(t){return Object(n["q"])(),Object(n["d"])("td",{key:t.paerID},[t.isDayInfo?(Object(n["q"])(),Object(n["d"])("div",xU,[Object(n["h"])("span",wU,[Object(n["h"])("strong",SU,Object(n["z"])(t.weekday),1)]),Object(n["h"])("span",null,Object(n["z"])(t.date),1)])):(Object(n["q"])(),Object(n["d"])("div",CU,[0==e?(Object(n["q"])(),Object(n["d"])("div",qU,[Object(n["h"])("strong",null,Object(n["z"])(t.start),1),EU,Object(n["h"])("strong",null,Object(n["z"])(t.end),1)])):Object(n["e"])("",!0),Object(n["h"])("span",{class:["paper-info",{"pt-3":0==e,"pt-4":0!=e}],innerHTML:r.getPaperInformation(t.courseID,t.paperID)},null,10,["innerHTML"])]))])})),128))])})),128))])])]))]),kU,Object(n["h"])("h3",UU,[AU,r.isAdministratorLogin&&!i.showAddCourse?(Object(n["q"])(),Object(n["d"])("a",{key:0,class:"ml-5 text-success btn btn-outline-success btn-sm",onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.toggleShowAddCourse&&r.toggleShowAddCourse.apply(r,arguments)}),["prevent"]))},[LU,TU])):Object(n["e"])("",!0),r.isAdministratorLogin&&i.showAddCourse?(Object(n["q"])(),Object(n["d"])("a",{key:1,class:"ml-5 text-white btn btn-danger btn-sm",onClick:e[4]||(e[4]=Object(n["H"])((function(){return r.toggleShowAddCourse&&r.toggleShowAddCourse.apply(r,arguments)}),["prevent"]))},[MU,RU])):Object(n["e"])("",!0)]),NU,r.canShowAddCourse?(Object(n["q"])(),Object(n["d"])(u,{key:0,courses:i.courses,class:"addcourse-classroom"},null,8,["courses"])):Object(n["e"])("",!0),r.canShowAddCourse?(Object(n["q"])(),Object(n["d"])("hr",BU)):Object(n["e"])("",!0),Object(n["h"])("div",zU,[i.classroomCourses.length<=0?(Object(n["q"])(),Object(n["d"])("div",PU,[_U])):Object(n["e"])("",!0),i.classroomCourses.length>0?(Object(n["q"])(),Object(n["d"])("div",FU,[Object(n["h"])("div",$U,[Object(n["h"])("table",GU,[Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[VU,HU,QU,WU,JU,YU,XU,r.isAdministratorLogin?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("th",KU,"Action"))])]),Object(n["h"])("tbody",{set:t.tempCourses=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classroomCourses,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.courseID},[Object(n["h"])("td",null,[ZU,tA,Object(n["h"])("h2",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).title),1)]),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).courseID),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).code),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).grade),1),Object(n["h"])("td",null,Object(n["z"])(r.getCourseRecordByID(t.courseID).duration)+" "+Object(n["z"])(r.getCourseRecordByID(t.courseID).durationUnit),1),Object(n["h"])("td",null,Object(n["z"])(r.getEmployeeNameByID(r.getCourseRecordByID(t.courseID).instructor)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(r.getCourseRecordByID(t.courseID).createdOn))),1),r.isAdministratorLogin?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("td",eA,[Object(n["h"])("div",aA,[Object(n["h"])("a",{onClick:e[5]||(e[5]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[nA]),Object(n["h"])("div",sA,[r.courseExaminationQuestRecordCreated(t.courseID)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.loadAddExaminationRecordPage(t.courseID,r.getCourseRecordByID(t.courseID).instructor)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[iA,rA],8,["onClick"])),r.courseExaminationQuestRecordCreated(t.courseID)?(Object(n["q"])(),Object(n["d"])("a",{key:1,onClick:Object(n["H"])((function(e){return r.loadAddExaminationRecordPage(t.courseID,r.getCourseRecordByID(t.courseID).instructor)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[oA,cA],8,["onClick"])):Object(n["e"])("",!0)])])]))])})),128))],8,["set"])])])])):Object(n["e"])("",!0)]),lA,Object(n["h"])("h3",uA,[dA,r.isAdministratorLogin&&!i.showAddStudent?(Object(n["q"])(),Object(n["d"])("a",{key:0,class:"ml-5 text-success btn btn-outline-success btn-sm",onClick:e[6]||(e[6]=Object(n["H"])((function(){return r.toggleShowAddStudent&&r.toggleShowAddStudent.apply(r,arguments)}),["prevent"]))},[mA,bA])):Object(n["e"])("",!0),r.isAdministratorLogin&&i.showAddStudent?(Object(n["q"])(),Object(n["d"])("a",{key:1,class:"ml-5 text-white btn btn-danger btn-sm",onClick:e[7]||(e[7]=Object(n["H"])((function(){return r.toggleShowAddStudent&&r.toggleShowAddStudent.apply(r,arguments)}),["prevent"]))},[hA,pA])):Object(n["e"])("",!0)]),OA,r.canShowAddStudent?(Object(n["q"])(),Object(n["d"])(d,{key:2,students:i.students,class:"addstudent-classroom"},null,8,["students"])):Object(n["e"])("",!0),r.canShowAddStudent?(Object(n["q"])(),Object(n["d"])("hr",fA)):Object(n["e"])("",!0),Object(n["h"])("div",gA,[i.classroomStudents.length<=0?(Object(n["q"])(),Object(n["d"])("div",jA,[vA])):Object(n["e"])("",!0),i.classroomStudents.length>0?(Object(n["q"])(),Object(n["d"])("div",IA,[Object(n["h"])("div",DA,[Object(n["h"])("table",yA,[Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[xA,wA,SA,CA,qA,EA,r.isAdministratorLogin?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("th",kA,"Action"))])]),Object(n["h"])("tbody",{set:t.tempStudents=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classroomStudents,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.studentID},[Object(n["h"])("td",null,[Object(n["h"])("img",{width:"28",height:"28",src:r.getStudentRecordByID(t.studentID).avatar,class:"rounded-circle",alt:""},null,8,["src"]),UA,Object(n["h"])("h2",null,Object(n["z"])(r.getStudentRecordByID(t.studentID).fullname),1)]),Object(n["h"])("td",null,Object(n["z"])(r.getStudentRecordByID(t.studentID).studentID),1),Object(n["h"])("td",null,Object(n["z"])(r.getStudentRecordByID(t.studentID).email),1),Object(n["h"])("td",null,Object(n["z"])(r.getStudentRecordByID(t.studentID).phone),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(r.getStudentRecordByID(t.studentID).dob)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(r.getStudentRecordByID(t.studentID).createdOn)),1),r.isAdministratorLogin?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("td",AA,[LA]))])})),128))],8,["set"])])])])):Object(n["e"])("",!0)])]),Object(n["h"])(m)])]),TA])})),RA=(a("a15b"),Object(n["I"])("data-v-442a2235"));Object(n["t"])("data-v-442a2235");var NA={class:"row"},BA={class:"col-md-6 offset-md-3"},zA={class:"row"},PA={class:"col-sm-12"},_A=Object(n["h"])("h3",{class:"h4 text-center pt-3 pb-2"},"Add Course",-1),FA={class:"form-group"},$A=Object(n["h"])("label",null,null,-1),GA=Object(n["h"])("option",{value:""},"Select Course",-1),VA={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},HA=Object(n["h"])("hr",{class:"mb-3"},null,-1),QA={class:"form-group text-center"},WA=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),JA=Object(n["g"])(" Loading... ");Object(n["r"])();var YA=RA((function(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",NA,[Object(n["h"])("div",BA,[Object(n["h"])("form",null,[Object(n["h"])("div",zA,[Object(n["h"])("div",PA,[_A,Object(n["h"])("div",FA,[$A,Object(n["G"])(Object(n["h"])("select",{onChange:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("course")}),class:"form-control select","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.course=t})},[GA,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.courses,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.courseID,value:t.courseID},Object(n["z"])(t.title)+" ("+Object(n["z"])(t.code)+")",9,["value"])})),128))],544),[[n["C"],i.form.course]]),i.errors.course?(Object(n["q"])(),Object(n["d"])("small",VA,Object(n["z"])(i.errors.course),1)):Object(n["e"])("",!0)])])]),HA,Object(n["h"])("div",QA,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[WA,JA],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.attemptAddCourseToClassroom&&r.attemptAddCourseToClassroom.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Add Course"))])])])])})),XA={name:"AddCourseToClassroom",props:{courses:{type:Array,required:!0}},data:function(){return{isLoading:!1,institutionID:"",classroomID:"",form:{course:""},errors:{}}},methods:{validateForm:function(){return this.form.course||(this.errors.course="Course record MUST be selected!"),!!this.form.course},attemptAddCourseToClassroom:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,t.validateForm()){e.next=4;break}return t.isLoading=!1,e.abrupt("return");case 4:return e.next=6,t.getCourseClassroomStatus(t.form.course);case 6:a=e.sent,a?(n={classroomID:t.classroomID,courseID:t.form.course,createdOn:(new Date).getTime()},Kt.collection("classroom_courses").add(n).then((function(e){console.log(e),t.isLoading=!1,window.EventBus.emit("course-added-to-classroom",n)})).catch((function(e){t.isLoading=!1,alert(e)}))):window.EventBus.emit("course-added-to-classroom",{});case 8:case"end":return e.stop()}}),e)})))()},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},getCourseClassroomStatus:function(t){return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("classroom_courses").where("courseID","==",t).get().then((function(t){t.forEach((function(t){var e={id:t.id,classroomID:t.data().classroomID,courseID:t.data().courseID};a.push(e)}))}));case 3:if(!(a.length<=0)){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()}},created:function(){this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID}};a("a83c");XA.render=YA,XA.__scopeId="data-v-442a2235";var KA=XA,ZA=Object(n["I"])("data-v-3137b58c");Object(n["t"])("data-v-3137b58c");var tL={class:"row"},eL={class:"col-md-6 offset-md-3"},aL={class:"row"},nL={class:"col-sm-12"},sL=Object(n["h"])("h3",{class:"h4 text-center pt-3 pb-2"},"Add Student",-1),iL={class:"form-group"},rL=Object(n["h"])("label",null,null,-1),oL=Object(n["h"])("option",{value:""},"Select Student",-1),cL={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},lL=Object(n["h"])("hr",{class:"mb-3"},null,-1),uL={class:"form-group text-center"},dL=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),mL=Object(n["g"])(" Loading... ");Object(n["r"])();var bL=ZA((function(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",tL,[Object(n["h"])("div",eL,[Object(n["h"])("form",null,[Object(n["h"])("div",aL,[Object(n["h"])("div",nL,[sL,Object(n["h"])("div",iL,[rL,Object(n["G"])(Object(n["h"])("select",{onChange:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("student")}),class:"form-control select","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.student=t})},[oL,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.students,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.studentID,value:t.studentID},Object(n["z"])(t.fullname),9,["value"])})),128))],544),[[n["C"],i.form.student]]),i.errors.student?(Object(n["q"])(),Object(n["d"])("small",cL,Object(n["z"])(i.errors.student),1)):Object(n["e"])("",!0)])])]),lL,Object(n["h"])("div",uL,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[dL,mL],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.attemptAddStudentToClassroom&&r.attemptAddStudentToClassroom.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Add Student"))])])])])})),hL={name:"AddStudentToClassroom",props:{students:{type:Array,required:!0}},data:function(){return{isLoading:!1,institutionID:"",classroomID:"",form:{student:""},errors:{}}},methods:{validateForm:function(){return this.form.student||(this.errors.student="Student record MUST be selected!"),!!this.form.student},attemptAddStudentToClassroom:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,t.validateForm()){e.next=4;break}return t.isLoading=!1,e.abrupt("return");case 4:return e.next=6,t.getStudentClassroomStatus(t.form.student);case 6:a=e.sent,a?(n={classroomID:t.classroomID,studentID:t.form.student,createdOn:(new Date).getTime()},Kt.collection("classroom_students").add(n).then((function(e){console.log(e),t.isLoading=!1,window.EventBus.emit("student-added-to-classroom",n)})).catch((function(e){t.isLoading=!1,alert(e)}))):window.EventBus.emit("student-added-to-classroom",{});case 8:case"end":return e.stop()}}),e)})))()},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},getStudentClassroomStatus:function(t){return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("classroom_students").where("studentID","==",t).get().then((function(t){t.forEach((function(t){var e={id:t.id,classroomID:t.data().classroomID,studentID:t.data().studentID};a.push(e)}))}));case 3:if(!(a.length<=0)){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()}},created:function(){this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID}};a("06af");hL.render=bL,hL.__scopeId="data-v-3137b58c";var pL=hL,OL={name:"ClassroomDetails",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj,"addcourse-classroom":KA,"addstudent-classroom":pL},data:function(){return{active:"registered institutions",institutionID:null,classroomID:null,institution:{},selectedClassroom:{},showAddCourse:!1,showAddStudent:!1,showAddTimeTable:!1,timetable:{},examination:{},question:{},students:[],classroomStudents:[],courses:[],classroomCourses:[],employees:[]}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},isAdministratorLogin:function(){return"institution administrator"===this.loggedUser.userRole},canShowAddStudent:function(){return this.isAdministratorLogin&&this.showAddStudent},canShowAddCourse:function(){return this.isAdministratorLogin&&this.showAddCourse}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},courseExaminationQuestRecordCreated:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.isEmptyObject(e.timetable)){a.next=3;break}return a.next=3,e.getQuestionObject(t,e.timetable.timetableID);case 3:return a.abrupt("return",!1);case 4:case"end":return a.stop()}}),a)})))()},canCreateCourseExaminationQuestion:function(t){var e=!1;return!this.isEmptyObject(this.timetable)&&(this.timetable.details.map((function(a){a.map((function(a){a.courseID&&a.courseID===t&&(e=!0)}))})),e)},loadAddExaminationRecordPage:function(t,e){e===this.loggedUser.userID?this.canCreateCourseExaminationQuestion(t)?this.$router.push({name:"InstitutionExaminationCourseQuestionInstructions",params:{institutionID:this.institutionID,classroomID:this.classroomID,examinationID:this.timetable.examinationID,timetableID:this.timetable.timetableID,courseID:t}}):alert("Time table record for this course is not available at this time!"):alert("You DO NOT have the clearance to manage this course")},loadManageExaminationRecordPage:function(t){this.$router.push({name:"",params:{institutionID:this.institutionID,classroomID:this.classroomID,courseID:t}})},isEmptyObject:function(t){return te(t)},getEmployeeNameByID:function(t){var e="Unknown";return this.employees.map((function(a){a.userID===t&&(e=a.fullname)})),e},getStudentRecordByID:function(t){var e=null;return this.students.map((function(a){a.studentID===t&&(e=a)})),e},getCourseRecordByID:function(t){var e=null;return this.courses.map((function(a){a.courseID===t&&(e=a)})),e},getPaperInformation:function(t,e){if(e.indexOf("break")>0){var a=e.split("-");return a.splice(0,1),"<span>".concat(a.join(" ").toUpperCase(),"</span>")}var n=this.getCourseRecordByID(t);return this.isEmptyObject(n)?"<span>".concat("No Examination","</span><span>(","Free Period",")</span>"):"<span>".concat(n.title,"</span>\n         <span>(").concat(n.code,")</span>")},getDateString:function(t){var e=new Date(t).toLocaleString("en",{day:"numeric",month:"long",year:"numeric"}),a=e.toString().split(" ");return"".concat(a[0]," ").concat(a[2])},getExaminationSemesterCode:function(t,e){var a=this.getDateString(e);return"".concat(t," ").concat(a)},customizeDate:function(t){return Kr(t)},addTimeTableToClassroom:function(){this.$router.push({name:"CreateTimeTable",params:{institutionID:this.institutionID,classroomID:this.classroomID}})},modifyTimeTable:function(){this.$router.push({name:"EditTimeTableDetails",params:{institutionID:this.institutionID,classroomID:this.classroomID,timetableID:this.timetable.timetableID}})},toggleShowAddCourse:function(){this.showAddCourse=!this.showAddCourse},toggleShowAddStudent:function(){this.showAddStudent=!this.showAddStudent},updateClassroomStudentRecords:function(t){var e=this;this.toggleShowAddStudent();var a=0;this.isEmptyObject(t)||Kt.collection("classroom_students").where("classroomID","==",t.classroomID).get().then((function(n){n.forEach((function(t){t.id&&(a+=1)})),e.classroomStudents.push(t),Kt.collection("classrooms").where("classroomID","==",e.classroomID).get().then((function(t){t.forEach((function(t){t.ref.update({numberOfStudentsAssigned:a})})),e.selectedClassroom.numberOfStudentsAssigned=a}))}))},updateClassroomCourseRecords:function(t){this.toggleShowAddCourse(),this.isEmptyObject(t)||this.classroomCourses.push(t)},getQuestionObject:function(t,e){var a=this;Kt.collection("questions").where("timetableID","==",e).get().then((function(e){if(e.forEach((function(e){e.data().institutionID===a.institutionID&&a.classroomID===e.data().classroomID&&e.data().examinationID===a.examination.examinationID&&e.data().courseID===t&&(a.question.questionID=e.data().questionID,a.question.institutionID=e.data().institutionID,a.question.classroomID=e.data().classroomID,a.question.courseID=e.data().courseID,a.question.examinationID=e.data().examinationID,a.question.timetableID=e.data().timetableID,a.question.createdOn=e.data().createdOn)})),!a.isEmptyObject(a.question))return!0}))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu),window.EventBus.on("student-added-to-classroom",this.updateClassroomStudentRecords),window.EventBus.on("course-added-to-classroom",this.updateClassroomCourseRecords)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("classrooms").where("classroomID","==",this.$route.params.classroomID).get().then((function(e){e.forEach((function(e){t.institutionID===e.data().institutionID&&(t.selectedClassroom.id=e.id,t.selectedClassroom.classroomID=e.data().classroomID,t.selectedClassroom.institutionID=e.data().institutionID,t.selectedClassroom.name=e.data().name,t.selectedClassroom.grade=e.data().grade,t.selectedClassroom.capacity=parseInt(e.data().capacity),t.selectedClassroom.numberOfStudentsAssigned=e.data().numberOfStudentsAssigned,t.selectedClassroom.overSeenBy=e.data().overSeenBy,t.selectedClassroom.createdOn=e.data().createdOn)}))})),Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,institutionID:e.data().institutionID,title:e.data().title,grade:e.data().grade,code:e.data().code,duration:e.data().duration,durationUnit:e.data().durationUnit,instructor:e.data().instructor,description:e.data().description,createdOn:e.data().createdOn};t.courses.push(a)}))})),Kt.collection("students").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,studentID:e.data().studentID,institutionID:e.data().institutionID,fullname:e.data().fullname,dob:e.data().dob,email:e.data().email,phone:e.data().phone,address:e.data().address,userRole:e.data().userRole,accountType:e.data().accountType,createdOn:e.data().createdOn,avatar:e.data().avatar};t.students.push(a)}))})),Kt.collection("classroom_students").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){var a={id:e.id,studentID:e.data().studentID,classroomID:e.data().classroomID};t.classroomStudents.push(a)}))})),Kt.collection("classroom_courses").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,classroomID:e.data().classroomID};t.classroomCourses.push(a)}))})),Kt.collection("examination_timetables").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){t.timetable.timetableID=e.data().timeTableID,t.timetable.classroomID=e.data().classroomID,t.timetable.examinationID=e.data().examinationID,t.timetable.details=JSON.parse(e.data().details),t.timetable.startHour=e.data().startHour,t.timetable.maxNumExaminationPerDay=e.data().maxNumExaminationPerDay,t.timetable.maxExaminationDuration=e.data().maxExaminationDuration,t.timetable.firstBreak=e.data().firstBreak,t.timetable.secondBreak=e.data().secondBreak,t.timetable.timeTableDescription=e.data().timeTableDescription,t.timetable.createdOn=e.data().createdOn})),t.timetable.examinationID&&Kt.collection("examinations").where("examinationID","==",t.timetable.examinationID).get().then((function(e){e.forEach((function(e){t.examination.examinationID=e.data().examinationID,t.examination.institutionID=e.data().institutionID,t.examination.title=e.data().title,t.examination.academicSession=e.data().academicSession,t.examination.examinationStatus=e.data().examinationStatus,t.examination.startDate=e.data().startDate,t.examination.endDate=e.data().endDate,t.examination.examinationDescription=e.data().examinationDescription,t.examination.createdOn=e.data().createdOn}))}))}))}};a("435a");OL.render=MA,OL.__scopeId="data-v-5a5e0bcc";var fL=OL,gL=Object(n["I"])("data-v-5f8e66d6");Object(n["t"])("data-v-5f8e66d6");var jL={class:"main-viewer"},vL={class:"main-wrapper"},IL={class:"page-wrapper"},DL={class:"content"},yL={class:"row"},xL=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Create Classroom")],-1),wL={class:"col-sm-8 col-9 text-right m-b-20"},SL=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),CL=Object(n["g"])("Cancel "),qL={class:"row"},EL={class:"col-lg-8 offset-lg-2"},kL={class:"row"},UL={class:"col-sm-12"},AL={class:"form-group"},LL=Object(n["h"])("label",null,"Classroom ID",-1),TL={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ML={class:"row"},RL={class:"col-sm-12"},NL={class:"form-group"},BL=Object(n["h"])("label",null,[Object(n["g"])("Name "),Object(n["h"])("span",{class:"text-danger"})],-1),zL={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},PL={class:"col-sm-12"},_L={class:"form-group"},FL=Object(n["h"])("label",null,[Object(n["g"])("Grade/Year"),Object(n["h"])("span",{class:"text-danger"})],-1),$L={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},GL={class:"col-sm-12"},VL={class:"form-group"},HL=Object(n["h"])("label",null,[Object(n["g"])("Capacity "),Object(n["h"])("span",{class:"text-danger"})],-1),QL={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},WL={class:"col-sm-12"},JL={class:"form-group"},YL=Object(n["h"])("label",null,"Overseen By",-1),XL=Object(n["h"])("option",{value:""},"Select Instructor",-1),KL={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ZL=Object(n["h"])("hr",{class:"mb-3"},null,-1),tT={class:"form-group text-center"},eT=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),aT=Object(n["g"])(" Loading... "),nT=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var sT=gL((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",jL,[Object(n["h"])("div",vL,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",IL,[Object(n["h"])("div",DL,[Object(n["h"])("div",yL,[xL,Object(n["h"])("div",wL,[Object(n["h"])(l,{to:{name:"InstitutionClassrooms",params:{institutionID:i.institutionID}},class:"btn btn-outline-danger"},{default:gL((function(){return[SL,CL]})),_:1},8,["to"])])]),Object(n["h"])("div",qL,[Object(n["h"])("div",EL,[Object(n["h"])("form",null,[Object(n["h"])("div",kL,[Object(n["h"])("div",UL,[Object(n["h"])("div",AL,[LL,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("classroomID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.classroomID=t})},null,544),[[n["D"],i.form.classroomID]]),i.errors.classroomID?(Object(n["q"])(),Object(n["d"])("small",TL,Object(n["z"])(i.errors.classroomID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",ML,[Object(n["h"])("div",RL,[Object(n["h"])("div",NL,[BL,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("name")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.name=t})},null,544),[[n["D"],i.form.name]]),i.errors.name?(Object(n["q"])(),Object(n["d"])("small",zL,Object(n["z"])(i.errors.name),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",PL,[Object(n["h"])("div",_L,[FL,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("grade")}),class:"form-control",type:"text","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.grade=t})},null,544),[[n["D"],i.form.grade]]),i.errors.grade?(Object(n["q"])(),Object(n["d"])("small",$L,Object(n["z"])(i.errors.grade),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",GL,[Object(n["h"])("div",VL,[HL,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("capacity")}),class:"form-control",type:"email","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.capacity=t})},null,544),[[n["D"],i.form.capacity]]),i.errors.capacity?(Object(n["q"])(),Object(n["d"])("small",QL,Object(n["z"])(i.errors.capacity),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",WL,[Object(n["h"])("div",JL,[YL,Object(n["G"])(Object(n["h"])("select",{onChange:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("overSeenBy")}),class:"form-control select","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.overSeenBy=t})},[XL,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.employees,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.userID,value:t.userID},Object(n["z"])(t.fullname),9,["value"])})),128))],544),[[n["C"],i.form.overSeenBy]]),i.errors.overSeenBy?(Object(n["q"])(),Object(n["d"])("small",KL,Object(n["z"])(i.errors.overSeenBy),1)):Object(n["e"])("",!0)])])]),ZL,Object(n["h"])("div",tT,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[eT,aT],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[11]||(e[11]=Object(n["H"])((function(){return r.attemptCreatingClassroom&&r.attemptCreatingClassroom.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Create Classroom"))])])])])]),Object(n["h"])(u)])]),nT])})),iT={name:"CreateClassroom",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"create classroom",institutionID:null,institution:{},employees:[],form:{classroomID:"",name:"",grade:"",capacity:"",overSeenBy:""},errors:{classroomID:"",name:"",grade:"",capacity:"",overSeenBy:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},validateForm:function(){return this.form.classroomID||(this.errors.classroomID="Classroom ID is required!"),this.form.name||(this.errors.name="Name is required!"),this.form.grade||(this.errors.grade="Grade/Year is required!"),this.form.capacity||(this.errors.capacity="Capacity is required!"),this.form.overSeenBy||(this.errors.overSeenBy="Overseen By is required!"),!!(this.form.classroomID&&this.form.name&&this.form.grade&&this.form.capacity&&this.form.overSeenBy)},attemptCreatingClassroom:function(){var t=this;this.isLoading=!0,this.validateForm()?Kt.collection("classrooms").add({classroomID:this.form.classroomID,institutionID:this.institutionID,name:this.form.name,grade:this.form.grade,capacity:parseInt(this.form.capacity),numberOfStudentsAssigned:0,overSeenBy:this.form.overSeenBy,createdOn:(new Date).getTime()}).then((function(e){console.log(e);var a=Zd.a.v4();Kt.collection("chat_accounts").add({accountID:a,userID:t.form.classroomID,accountType:"general",userType:"classroom group",referenced_db:"classrooms",referenceName:"".concat(t.form.name.split(" ")[0].toUpperCase(),"#General")}).then((function(e){console.log(e),t.isLoading=!1,t.$router.push({name:"InstitutionClassrooms",params:{institutionID:t.institutionID}})})).catch((function(e){t.isLoading=!1,alert(e.message)}))})).catch((function(e){t.isLoading=!1,alert(e)})):this.isLoading=!1},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.form.classroomID=Zd.a.v1(),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){if("institution administrator"!==e.data().userRole){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}}))}))}};a("2912");iT.render=sT,iT.__scopeId="data-v-5f8e66d6";var rT=iT,oT=Object(n["I"])("data-v-6bc5cd61");Object(n["t"])("data-v-6bc5cd61");var cT={class:"main-viewer"},lT={class:"main-wrapper"},uT={class:"page-wrapper"},dT={class:"content"},mT={class:"row"},bT=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"All Courses")],-1),hT={class:"col-sm-8 col-9 text-right m-b-20"},pT=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),OT=Object(n["g"])("Clear Search"),fT=Object(n["h"])("i",{class:"fas fa-user-edit mr-2"},null,-1),gT=Object(n["g"])("Create Course"),jT={key:0,class:"row"},vT={class:"col-sm-8 offset-sm-2 mt-5"},IT={class:"jumbotron text-center"},DT={class:"h3"},yT=Object(n["g"])(),xT=Object(n["h"])("br",null,null,-1),wT=Object(n["g"])(),ST=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),CT=Object(n["g"])("Back"),qT={key:1,class:"container-fluid"},ET={class:"row filter-row"},kT={class:"col-sm-6 col-md-3"},UT={class:"form-group form-focus"},AT=Object(n["h"])("label",{class:"focus-label"},"Course ID",-1),LT={class:"col-sm-6 col-md-3"},TT={class:"form-group form-focus"},MT=Object(n["h"])("label",{class:"focus-label"},"Title",-1),RT={class:"col-sm-6 col-md-3"},NT={class:"form-group form-focus"},BT=Object(n["h"])("label",{class:"focus-label"},"Course Code",-1),zT={class:"col-sm-6 col-md-3"},PT={class:"row"},_T={class:"col-md-12"},FT={class:"table-responsive"},$T={class:"table table-striped custom-table"},GT=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Course Title"),Object(n["h"])("th",null,"Course ID"),Object(n["h"])("th",null,"Course Code"),Object(n["h"])("th",null,"Grade"),Object(n["h"])("th",null,"Duration"),Object(n["h"])("th",null,"Instructor"),Object(n["h"])("th",null,"Created On"),Object(n["h"])("th",{class:"text-right"},"Action")])],-1),VT=Object(n["h"])("img",{width:"28",height:"28",class:"rounded-circle"},null,-1),HT=Object(n["g"])(),QT={class:"text-right"},WT={class:"dropdown dropdown-action"},JT=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),YT={key:0,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-50px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},XT=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),KT=Object(n["g"])(" Manage"),ZT=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),tM=Object(n["g"])(" Delete"),eM={key:1,class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},aM=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),nM=Object(n["g"])(" Manage"),sM=Object(n["h"])("i",{class:"fa fa-trash m-r-5"},null,-1),iM=Object(n["g"])(" Delete"),rM=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var oM=oT((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",cT,[Object(n["h"])("div",lT,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",uT,[Object(n["h"])("div",dT,[Object(n["h"])("div",mT,[bT,Object(n["h"])("div",hT,[i.searchResultUpdate&&i.courses.length>0?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-danger text-danger mr-3"},[pT,OT])):Object(n["e"])("",!0),Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"CreateCourse",params:{institutionID:i.institutionID}}},{default:oT((function(){return[fT,gT]})),_:1},8,["to"])])]),i.courses.length<=0?(Object(n["q"])(),Object(n["d"])("div",jT,[Object(n["h"])("div",vT,[Object(n["h"])("div",IT,[Object(n["h"])("h3",DT,Object(n["z"])(i.emptyMessage),1),yT,xT,wT,i.searchResultUpdate?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.reloadDataRecords&&r.reloadDataRecords.apply(r,arguments)}),["prevent"])),class:"btn btn-success text-white"},[ST,CT])):Object(n["e"])("",!0)])])])):(Object(n["q"])(),Object(n["d"])("div",qT,[Object(n["h"])("div",ET,[Object(n["h"])("div",kT,[Object(n["h"])("div",UT,[AT,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.courseID=t})},null,544),[[n["D"],i.search.courseID]])])]),Object(n["h"])("div",LT,[Object(n["h"])("div",TT,[MT,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.title=t})},null,544),[[n["D"],i.search.title]])])]),Object(n["h"])("div",RT,[Object(n["h"])("div",NT,[BT,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=Object(n["H"])((function(){return r.updateSearchOperation&&r.updateSearchOperation.apply(r,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.search.code=t})},null,544),[[n["D"],i.search.code]])])]),Object(n["h"])("div",zT,[Object(n["h"])("a",{onClick:e[9]||(e[9]=Object(n["H"])((function(){return r.searchCourses&&r.searchCourses.apply(r,arguments)}),["prevent"])),class:"btn btn-success btn-block text-white"}," Search ")])]),Object(n["h"])("div",PT,[Object(n["h"])("div",_T,[Object(n["h"])("div",FT,[Object(n["h"])("table",$T,[GT,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.courses,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.courseID},[Object(n["h"])("td",null,[VT,HT,Object(n["h"])("h2",null,Object(n["z"])(t.title),1)]),Object(n["h"])("td",null,Object(n["z"])(t.courseID),1),Object(n["h"])("td",null,Object(n["z"])(t.code),1),Object(n["h"])("td",null,Object(n["z"])(t.grade),1),Object(n["h"])("td",null,Object(n["z"])(t.duration)+" "+Object(n["z"])(t.durationUnit),1),Object(n["h"])("td",null,Object(n["z"])(r.getEmployeeNameByID(t.instructor)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(t.createdOn))),1),Object(n["h"])("td",QT,[Object(n["h"])("div",WT,[Object(n["h"])("a",{onClick:e[10]||(e[10]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[JT]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("div",YT,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedCoursePage(t.courseID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[XT,KT],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteCourseOperation(t.courseID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[ZT,tM],8,["onClick"])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),r.canViewOption?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",eM,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedCoursePage(t.courseID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[aM,nM],8,["onClick"]),r.canViewOption?(Object(n["q"])(),Object(n["d"])("a",{key:0,onClick:Object(n["H"])((function(e){return r.requestDeleteCourseOperation(t.courseID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[sM,iM],8,["onClick"])):Object(n["e"])("",!0)]))])])])})),128))])])])])])]))]),Object(n["h"])(u)])]),rM])})),cM={name:"Courses",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"all courses",institutionID:null,institution:{},employees:[],courses:[],emptyMessage:"Course list is empty.",searchResultUpdate:!1,search:{courseID:"",title:"",code:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},canViewOption:function(){return"institution administrator"===this.loggedUser.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},customizeDate:function(t){return Kr(t)},loadSelectedCoursePage:function(t){this.$router.push({name:"InstitutionCourseDetails",params:{institutionID:this.institutionID,courseID:t}})},requestDeleteCourseOperation:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("Do you want to Delete ".concat(e.getCourseNameByID(t)," course records?"))){a.next=4;break}return a.next=3,e.closeAllOpenedActionMenuOptions();case 3:Kt.collection("courseID").where("courseID","==",t).get().then((function(a){a.forEach((function(a){a.ref.delete(),e.courses.map((function(a){a.courseID===t&&e.courses.splice(e.courses.indexOf(t),1)}))}))}));case 4:case"end":return a.stop()}}),a)})))()},getEmployeeNameByID:function(t){var e="Unknown";return this.employees.map((function(a){a.userID===t&&(e=a.fullname)})),e},getCourseNameByID:function(t){var e="Unknown";return this.courses.map((function(a){a.courseID===t&&(e=a.title)})),e},getCoursesFromFirebase:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,Kt.collection("courses").where("institutionID","==",t.$route.params.institutionID).get().then((function(t){t.forEach((function(t){var e={id:t.id,courseID:t.data().courseID,institutionID:t.data().institutionID,title:t.data().title,grade:t.data().grade,code:t.data().code,duration:t.data().duration,durationUnit:t.data().durationUnit,instructor:t.data().instructor,description:t.data().description,createdOn:t.data().createdOn};a.push(e)}))}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},searchCoursesWithThreeParameters:function(t,e,a,n,s,i){var r=this;return Object(_n["a"])(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,r.getCoursesFromFirebase();case 2:c=o.sent,l=to(c,t,e,a,n,s,i),r.courses=l,r.courses.length>=0&&(r.emptyMessage="Search result is empty.",r.searchResultUpdate=!0);case 6:case"end":return o.stop()}}),o)})))()},searchCoursesWithTwoParameters:function(t,e,a,n){var s=this;return Object(_n["a"])(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.getCoursesFromFirebase();case 2:r=i.sent,o=eo(r,t,e,a,n),s.courses=o,s.courses.length>=0&&(s.emptyMessage="Search result is empty.",s.searchResultUpdate=!0);case 6:case"end":return i.stop()}}),i)})))()},searchCoursesWithOneParameters:function(t,e){var a=this;return Object(_n["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getCoursesFromFirebase();case 2:s=n.sent,i=ao(s,t,e),a.courses=i,a.courses.length>=0&&(a.emptyMessage="Search result is empty.",a.searchResultUpdate=!0);case 6:case"end":return n.stop()}}),n)})))()},reloadDataRecords:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getCoursesFromFirebase();case 2:t.courses=e.sent,t.emptyMessage="Course list is empty.",t.searchResultUpdate=!1,t.search.courseID="",t.search.title="",t.search.code="";case 8:case"end":return e.stop()}}),e)})))()},searchCourses:function(){this.search.courseID&&this.search.title&&this.search.code?this.searchCoursesWithThreeParameters("courseID",this.search.courseID,"title",this.search.title,"code",this.search.code):this.search.courseID&&this.search.title||this.search.courseID&&this.search.code||this.search.code&&this.search.title?this.search.courseID&&this.search.title?this.searchCoursesWithTwoParameters("courseID",this.search.courseID,"title",this.search.title):this.search.courseID&&this.search.code?this.searchCoursesWithTwoParameters("courseID",this.search.courseID,"code",this.search.code):this.search.code&&this.search.title&&this.searchCoursesWithTwoParameters("code",this.search.code,"title",this.search.title):(this.search.courseID||this.search.title||this.search.code)&&(this.search.courseID?this.searchCoursesWithOneParameters("courseID",this.search.courseID):this.search.title?this.searchCoursesWithOneParameters("title",this.search.title):this.search.code&&this.searchCoursesWithOneParameters("code",this.search.code))},updateSearchOperation:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.search.courseID||t.search.title||t.search.code){e.next=5;break}return e.next=3,t.getCoursesFromFirebase();case 3:t.courses=e.sent,t.emptyMessage="Course list is empty.";case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("institutionID","==",t.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}))})),e.next=5,t.getCoursesFromFirebase();case 5:t.courses=e.sent;case 6:case"end":return e.stop()}}),e)})))()}};a("c426");cM.render=oM,cM.__scopeId="data-v-6bc5cd61";var lM=cM,uM=Object(n["I"])("data-v-1167b9af");Object(n["t"])("data-v-1167b9af");var dM={class:"main-viewer"},mM={class:"main-wrapper"},bM={class:"page-wrapper"},hM={class:"content"},pM={class:"row"},OM={class:"col-sm-8 col-3"},fM={class:"page-title"},gM={class:"col-sm-4 col-9 text-right m-b-20"},jM=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-edit mr-2"})],-1),vM=Object(n["g"])("Edit "),IM=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),DM=Object(n["g"])("Back "),yM={class:"row mb-3"},xM={class:"col-md-6 offset-md-3"},wM={class:"list-group list-group-flush"},SM={class:"list-group-item transparent-bg"},CM={class:"row"},qM=Object(n["h"])("div",{class:"col-3"},"Courese ID",-1),EM=Object(n["h"])("div",{class:"col-1"},":",-1),kM=Object(n["g"])(),UM={class:"col-8"},AM={class:"text-dark"},LM={class:"list-group-item transparent-bg"},TM={class:"row"},MM=Object(n["h"])("div",{class:"col-3"},"Title",-1),RM=Object(n["h"])("div",{class:"col-1"},":",-1),NM=Object(n["g"])(),BM={class:"col-8"},zM={class:"text-dark"},PM={class:"list-group-item transparent-bg"},_M={class:"row"},FM=Object(n["h"])("div",{class:"col-3"},"Code",-1),$M=Object(n["h"])("div",{class:"col-1"},":",-1),GM=Object(n["g"])(),VM={class:"col-8"},HM={class:"text-dark"},QM={class:"list-group-item transparent-bg"},WM={class:"row"},JM=Object(n["h"])("div",{class:"col-3"},"Grade",-1),YM=Object(n["h"])("div",{class:"col-1"},":",-1),XM=Object(n["g"])(),KM={class:"col-8"},ZM={class:"text-dark"},tR={class:"list-group-item transparent-bg"},eR={class:"row"},aR=Object(n["h"])("div",{class:"col-3"},"Course Duration",-1),nR=Object(n["h"])("div",{class:"col-1"},":",-1),sR=Object(n["g"])(),iR={class:"col-8"},rR={class:"text-dark"},oR={class:"list-group-item transparent-bg"},cR={class:"row"},lR=Object(n["h"])("div",{class:"col-3"},"Course Instructor",-1),uR=Object(n["h"])("div",{class:"col-1"},":",-1),dR=Object(n["g"])(),mR={class:"col-8"},bR={class:"text-dark"},hR={class:"list-group-item transparent-bg"},pR={class:"row"},OR=Object(n["h"])("div",{class:"col-3"},"Created On",-1),fR=Object(n["h"])("div",{class:"col-1"},":",-1),gR=Object(n["g"])(),jR={class:"col-8"},vR={class:"text-dark"},IR=Object(n["h"])("hr",{class:"mb-3"},null,-1),DR=Object(n["h"])("h3",{class:"h3 ml-4"},"Assigned To",-1),yR=Object(n["h"])("hr",{class:"mb-3"},null,-1),xR={class:"row"},wR={key:0,class:"col-8 offset-2 mt-3 mb-3"},SR=Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Classroom list is empty!")],-1),CR={key:1,class:"col-md-12 mb-5"},qR={class:"table-responsive"},ER={class:"table table-striped custom-table"},kR=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Classroom Name"),Object(n["h"])("th",null,"Classroom ID"),Object(n["h"])("th",null,"Grade/Year"),Object(n["h"])("th",null,"Capacity"),Object(n["h"])("th",null,"No. assigned Students"),Object(n["h"])("th",null,"Overseen By"),Object(n["h"])("th",null,"Created On")])],-1),UR=Object(n["h"])("img",{width:"28",height:"28",class:"rounded-circle"},null,-1),AR=Object(n["g"])(),LR=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var TR=uM((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",dM,[Object(n["h"])("div",mM,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",bM,[Object(n["h"])("div",hM,[Object(n["h"])("div",pM,[Object(n["h"])("div",OM,[Object(n["h"])("h4",fM,Object(n["z"])(i.selectedCourse["title"])+" ("+Object(n["z"])(i.selectedCourse["code"])+")'s Details",1)]),Object(n["h"])("div",gM,[Object(n["h"])(l,{to:{name:"InstitutionEditCourseDetails",params:{institutionID:i.institutionID,courseID:i.courseID}},class:"btn btn-outline-success mr-3"},{default:uM((function(){return[jM,vM]})),_:1},8,["to"]),Object(n["h"])(l,{to:{name:"InstitutionCourses",params:{institutionID:i.institutionID}},class:"btn btn-outline-secondary"},{default:uM((function(){return[IM,DM]})),_:1},8,["to"])])]),Object(n["h"])("div",yM,[Object(n["h"])("div",xM,[Object(n["h"])("ul",wM,[Object(n["h"])("li",SM,[Object(n["h"])("div",CM,[qM,EM,kM,Object(n["h"])("div",UM,[Object(n["h"])("strong",AM,Object(n["z"])(i.selectedCourse.courseID),1)])])]),Object(n["h"])("li",LM,[Object(n["h"])("div",TM,[MM,RM,NM,Object(n["h"])("div",BM,[Object(n["h"])("strong",zM,Object(n["z"])(i.selectedCourse["title"]),1)])])]),Object(n["h"])("li",PM,[Object(n["h"])("div",_M,[FM,$M,GM,Object(n["h"])("div",VM,[Object(n["h"])("strong",HM,Object(n["z"])(i.selectedCourse["code"]),1)])])]),Object(n["h"])("li",QM,[Object(n["h"])("div",WM,[JM,YM,XM,Object(n["h"])("div",KM,[Object(n["h"])("strong",ZM,Object(n["z"])(i.selectedCourse.grade),1)])])]),Object(n["h"])("li",tR,[Object(n["h"])("div",eR,[aR,nR,sR,Object(n["h"])("div",iR,[Object(n["h"])("strong",rR,Object(n["z"])(i.selectedCourse.duration)+" "+Object(n["z"])(i.selectedCourse.durationUnit),1)])])]),Object(n["h"])("li",oR,[Object(n["h"])("div",cR,[lR,uR,dR,Object(n["h"])("div",mR,[Object(n["h"])("strong",bR,Object(n["z"])(r.getEmployeeNameByID(i.selectedCourse.instructor)),1)])])]),Object(n["h"])("li",hR,[Object(n["h"])("div",pR,[OR,fR,gR,Object(n["h"])("div",jR,[Object(n["h"])("strong",vR,Object(n["z"])(r.customizeDate(parseInt(i.selectedCourse.createdOn))),1)])])])])])])]),IR,DR,yR,Object(n["h"])("div",xR,[i.classroomCourses.length<=0?(Object(n["q"])(),Object(n["d"])("div",wR,[SR])):Object(n["e"])("",!0),i.classroomCourses.length>0?(Object(n["q"])(),Object(n["d"])("div",CR,[Object(n["h"])("div",qR,[Object(n["h"])("table",ER,[kR,Object(n["h"])("tbody",{set:t.tempCourses=[]},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classroomCourses,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.classroomID},[Object(n["h"])("td",null,[UR,AR,Object(n["h"])("h2",null,Object(n["z"])(r.getClassroomByID(t.classroomID).name),1)]),Object(n["h"])("td",null,Object(n["z"])(t.classroomID),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).grade),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).capacity),1),Object(n["h"])("td",null,Object(n["z"])(r.getClassroomByID(t.classroomID).numberOfStudentsAssigned),1),Object(n["h"])("td",null,Object(n["z"])(r.getEmployeeNameByID(r.getClassroomByID(t.classroomID).overSeenBy)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(parseInt(r.getClassroomByID(t.classroomID).createdOn))),1)])})),128))],8,["set"])])])])):Object(n["e"])("",!0)]),Object(n["h"])(u)])]),LR])})),MR={name:"CourseDetails",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,courseID:null,institution:{},selectedCourse:{},employees:[],classrooms:[],classroomCourses:[]}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},customizeDate:function(t){return Kr(t)},getEmployeeNameByID:function(t){var e="Unknown";return this.employees.map((function(a){a.userID===t&&(e=a.fullname)})),e},getClassroomByID:function(t){var e={};return this.classrooms.map((function(a){a.classroomID===t&&(e=a)})),e}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.courseID=this.$route.params.courseID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("courses").where("courseID","==",this.courseID).get().then((function(e){e.forEach((function(e){t.selectedCourse.id=e.id,t.selectedCourse.courseID=e.data().courseID,t.selectedCourse.institutionID=e.data().institutionID,t.selectedCourse.title=e.data().title,t.selectedCourse.grade=e.data().grade,t.selectedCourse.code=e.data().code,t.selectedCourse.duration=e.data().duration,t.selectedCourse.durationUnit=e.data().durationUnit,t.selectedCourse.instructor=e.data().instructor,t.selectedCourse.description=e.data().description,t.selectedCourse.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}))})),Kt.collection("classrooms").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,classroomID:e.data().classroomID,institutionID:e.data().institutionID,name:e.data().name,grade:e.data().grade,capacity:parseInt(e.data().capacity),numberOfStudentsAssigned:e.data().numberOfStudentsAssigned,overSeenBy:e.data().overSeenBy,createdOn:e.data().createdOn};t.classrooms.push(a)}))})),Kt.collection("classroom_courses").where("courseID","==",this.courseID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,classroomID:e.data().classroomID};t.classroomCourses.push(a)}))}))}};a("daf4");MR.render=TR,MR.__scopeId="data-v-1167b9af";var RR=MR,NR=Object(n["I"])("data-v-5f449066");Object(n["t"])("data-v-5f449066");var BR={class:"main-viewer"},zR={class:"main-wrapper"},PR={class:"page-wrapper"},_R={class:"content"},FR={class:"row"},$R={class:"col-sm-8 col-3"},GR={class:"page-title"},VR={class:"col-sm-4 col-9 text-right m-b-20"},HR=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),QR=Object(n["g"])("Cancel "),WR={class:"row"},JR={class:"col-lg-8 offset-lg-2"},YR={class:"row"},XR={class:"col-sm-12"},KR={class:"form-group"},ZR=Object(n["h"])("label",null,"Course ID",-1),tN={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},eN={class:"row"},aN={class:"col-sm-12"},nN={class:"form-group"},sN=Object(n["h"])("label",null,[Object(n["g"])("Title "),Object(n["h"])("span",{class:"text-danger"})],-1),iN={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},rN={class:"col-sm-6"},oN={class:"form-group"},cN=Object(n["h"])("label",null,[Object(n["g"])("Course Code"),Object(n["h"])("span",{class:"text-danger"})],-1),lN={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},uN={class:"col-sm-6"},dN={class:"form-group"},mN=Object(n["h"])("label",null,[Object(n["g"])("Grade/Year"),Object(n["h"])("span",{class:"text-danger"})],-1),bN={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},hN={class:"col-sm-6"},pN={class:"form-group"},ON=Object(n["h"])("label",null,[Object(n["g"])("Duration "),Object(n["h"])("span",{class:"text-danger"})],-1),fN={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},gN={class:"col-sm-6"},jN={class:"form-group"},vN=Object(n["h"])("label",null,"Duration Unit",-1),IN=Object(n["h"])("option",{value:""},"Select Duration Unit",-1),DN=Object(n["h"])("option",{value:"Hours"},"Hours",-1),yN=Object(n["h"])("option",{value:"Weeks"},"Weeks",-1),xN=Object(n["h"])("option",{value:"Months"},"Months",-1),wN={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},SN={class:"col-sm-12"},CN={class:"form-group"},qN=Object(n["h"])("label",null,"Course Instructor",-1),EN=Object(n["h"])("option",{value:""},"Select Course Instructor",-1),kN={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},UN={class:"row"},AN={class:"col-sm-12"},LN={class:"form-group"},TN=Object(n["h"])("label",null,"Description",-1),MN={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},RN=Object(n["h"])("hr",{class:"mb-3"},null,-1),NN={class:"form-group text-center"},BN=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),zN=Object(n["g"])(" Loading... "),PN=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var _N=NR((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",BR,[Object(n["h"])("div",zR,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",PR,[Object(n["h"])("div",_R,[Object(n["h"])("div",FR,[Object(n["h"])("div",$R,[Object(n["h"])("h4",GR,"Edit "+Object(n["z"])(i.course.title)+" ("+Object(n["z"])(i.course.code)+")'s Details",1)]),Object(n["h"])("div",VR,[Object(n["h"])(l,{to:{name:"InstitutionCourseDetails",params:{institutionID:i.institutionID,courseID:i.courseID}},class:"btn btn-outline-danger"},{default:NR((function(){return[HR,QR]})),_:1},8,["to"])])]),Object(n["h"])("div",WR,[Object(n["h"])("div",JR,[Object(n["h"])("form",null,[Object(n["h"])("div",YR,[Object(n["h"])("div",XR,[Object(n["h"])("div",KR,[ZR,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("courseID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.courseID=t})},null,544),[[n["D"],i.form.courseID]]),i.errors.courseID?(Object(n["q"])(),Object(n["d"])("small",tN,Object(n["z"])(i.errors.courseID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",eN,[Object(n["h"])("div",aN,[Object(n["h"])("div",nN,[sN,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("title")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.title=t})},null,544),[[n["D"],i.form.title]]),i.errors.title?(Object(n["q"])(),Object(n["d"])("small",iN,Object(n["z"])(i.errors.title),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",rN,[Object(n["h"])("div",oN,[cN,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("code")}),class:"form-control",type:"text","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.code=t})},null,544),[[n["D"],i.form.code]]),i.errors.code?(Object(n["q"])(),Object(n["d"])("small",lN,Object(n["z"])(i.errors.code),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",uN,[Object(n["h"])("div",dN,[mN,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("grade")}),class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.grade=t})},null,544),[[n["D"],i.form.grade]]),i.errors.grade?(Object(n["q"])(),Object(n["d"])("small",bN,Object(n["z"])(i.errors.grade),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",hN,[Object(n["h"])("div",pN,[ON,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("duration")}),class:"form-control",type:"email","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.duration=t})},null,544),[[n["D"],i.form.duration]]),i.errors.duration?(Object(n["q"])(),Object(n["d"])("small",fN,Object(n["z"])(i.errors.duration),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",gN,[Object(n["h"])("div",jN,[vN,Object(n["G"])(Object(n["h"])("select",{onChange:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("durationUnit")}),class:"form-control select","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.durationUnit=t})},[IN,DN,yN,xN],544),[[n["C"],i.form.durationUnit]]),i.errors.durationUnit?(Object(n["q"])(),Object(n["d"])("small",wN,Object(n["z"])(i.errors.durationUnit),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",SN,[Object(n["h"])("div",CN,[qN,Object(n["G"])(Object(n["h"])("select",{onChange:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("instructor")}),class:"form-control select","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.instructor=t})},[EN,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.employees,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.userID,value:t.userID},Object(n["z"])(t.fullname),9,["value"])})),128))],544),[[n["C"],i.form.instructor]]),i.errors.instructor?(Object(n["q"])(),Object(n["d"])("small",kN,Object(n["z"])(i.errors.instructor),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",UN,[Object(n["h"])("div",AN,[Object(n["h"])("div",LN,[TN,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[15]||(e[15]=function(t){return r.updateErrorStatusOnInput("description")}),class:"form-control","onUpdate:modelValue":e[16]||(e[16]=function(t){return i.form.description=t})},null,544),[[n["D"],i.form.description]]),i.errors.description?(Object(n["q"])(),Object(n["d"])("small",MN,Object(n["z"])(i.errors.description),1)):Object(n["e"])("",!0)])])]),RN,Object(n["h"])("div",NN,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[BN,zN],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[17]||(e[17]=Object(n["H"])((function(){return r.attemptCreatingCourse&&r.attemptCreatingCourse.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Update Course Record"))])])])])]),Object(n["h"])(u)])]),PN])})),FN={name:"CreateCourse",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"registered institutions",institutionID:null,course:{},courseID:null,institution:{},employees:[],form:{courseID:"",title:"",code:"",duration:"",durationUnit:"",description:"",instructor:"",grade:""},errors:{courseID:"",title:"",code:"",duration:"",durationUnit:"",description:"",instructor:"",grade:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},validateForm:function(){return this.form.courseID||(this.errors.courseID="Course ID is required!"),this.form.title||(this.errors.title="Course title is required!"),this.form.grade||(this.errors.grade="Grade/Year is required!"),this.form.code||(this.errors.code="Course code is required!"),this.form.duration||(this.errors.duration="Duration is required!"),this.form.durationUnit||(this.errors.durationUnit="Duration unit is required!"),this.form.instructor||(this.errors.instructor="Course instrctor By is required!"),this.form.description||(this.errors.description="Description is required!"),!!(this.form.courseID&&this.form.title&&this.form.grade&&this.form.code&&this.form.duration&&this.form.durationUnit&&this.form.instructor&&this.form.description)},attemptCreatingCourse:function(){var t=this;this.isLoading=!0,this.validateForm()?confirm("Do you want proceed with ".concat(this.form.title," course record update?"))&&Kt.collection("courses").where("courseID","==",this.courseID).get().then((function(e){e.forEach((function(e){e.ref.update({title:t.form.title,grade:t.form.grade,code:t.form.code,duration:t.form.duration,durationUnit:t.form.durationUnit,instructor:t.form.instructor,description:t.form.description}),t.isLoading=!1,t.$router.push({name:"InstitutionCourseDetails",params:{institutionID:t.institutionID,courseID:t.courseID}})}))})).catch((function(e){t.isLoading=!1,alert(e)})):this.isLoading=!1},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.courseID=this.$route.params.courseID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){if("institution administrator"!==e.data().userRole){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}}))})),Kt.collection("courses").where("courseID","==",this.courseID).get().then((function(e){e.forEach((function(e){t.form.courseID=e.data().courseID,t.course.courseID=e.data().courseID,t.form.institutionID=e.data().institutionID,t.course.institutionID=e.data().institutionID,t.form.title=e.data().title,t.course.title=e.data().title,t.form.grade=e.data().grade,t.course.grade=e.data().grade,t.form.code=e.data().code,t.course.code=e.data().code,t.form.duration=e.data().duration,t.course.duration=e.data().duration,t.form.durationUnit=e.data().durationUnit,t.course.durationUnit=e.data().durationUnit,t.form.instructor=e.data().instructor,t.course.instructor=e.data().instructor,t.form.description=e.data().description,t.course.description=e.data().description}))}))}};a("7e6a");FN.render=_N,FN.__scopeId="data-v-5f449066";var $N=FN,GN=Object(n["I"])("data-v-05b4d5bc");Object(n["t"])("data-v-05b4d5bc");var VN={class:"main-viewer"},HN={class:"main-wrapper"},QN={class:"page-wrapper"},WN={class:"content"},JN={class:"row"},YN=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Create Course")],-1),XN={class:"col-sm-8 col-9 text-right m-b-20"},KN=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),ZN=Object(n["g"])("Cancel "),tB={class:"row"},eB={class:"col-lg-8 offset-lg-2"},aB={class:"row"},nB={class:"col-sm-12"},sB={class:"form-group"},iB=Object(n["h"])("label",null,"Course ID",-1),rB={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},oB={class:"row"},cB={class:"col-sm-12"},lB={class:"form-group"},uB=Object(n["h"])("label",null,[Object(n["g"])("Title "),Object(n["h"])("span",{class:"text-danger"})],-1),dB={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},mB={class:"col-sm-6"},bB={class:"form-group"},hB=Object(n["h"])("label",null,[Object(n["g"])("Course Code"),Object(n["h"])("span",{class:"text-danger"})],-1),pB={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},OB={class:"col-sm-6"},fB={class:"form-group"},gB=Object(n["h"])("label",null,[Object(n["g"])("Grade/Year"),Object(n["h"])("span",{class:"text-danger"})],-1),jB={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},vB={class:"col-sm-6"},IB={class:"form-group"},DB=Object(n["h"])("label",null,[Object(n["g"])("Duration "),Object(n["h"])("span",{class:"text-danger"})],-1),yB={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},xB={class:"col-sm-6"},wB={class:"form-group"},SB=Object(n["h"])("label",null,"Duration Unit",-1),CB=Object(n["h"])("option",{value:""},"Select Duration Unit",-1),qB=Object(n["h"])("option",{value:"Hours"},"Hours",-1),EB=Object(n["h"])("option",{value:"Weeks"},"Weeks",-1),kB=Object(n["h"])("option",{value:"Months"},"Months",-1),UB={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},AB={class:"col-sm-12"},LB={class:"form-group"},TB=Object(n["h"])("label",null,"Course Instructor",-1),MB=Object(n["h"])("option",{value:""},"Select Course Instructor",-1),RB={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},NB={class:"row"},BB={class:"col-sm-12"},zB={class:"form-group"},PB=Object(n["h"])("label",null,"Description",-1),_B={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},FB=Object(n["h"])("hr",{class:"mb-3"},null,-1),$B={class:"form-group text-center"},GB=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),VB=Object(n["g"])(" Loading... "),HB=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var QB=GN((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",VN,[Object(n["h"])("div",HN,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",QN,[Object(n["h"])("div",WN,[Object(n["h"])("div",JN,[YN,Object(n["h"])("div",XN,[Object(n["h"])(l,{to:{name:"InstitutionCourses",params:{institutionID:i.institutionID}},class:"btn btn-outline-danger"},{default:GN((function(){return[KN,ZN]})),_:1},8,["to"])])]),Object(n["h"])("div",tB,[Object(n["h"])("div",eB,[Object(n["h"])("form",null,[Object(n["h"])("div",aB,[Object(n["h"])("div",nB,[Object(n["h"])("div",sB,[iB,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("courseID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.courseID=t})},null,544),[[n["D"],i.form.courseID]]),i.errors.courseID?(Object(n["q"])(),Object(n["d"])("small",rB,Object(n["z"])(i.errors.courseID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",oB,[Object(n["h"])("div",cB,[Object(n["h"])("div",lB,[uB,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("title")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.title=t})},null,544),[[n["D"],i.form.title]]),i.errors.title?(Object(n["q"])(),Object(n["d"])("small",dB,Object(n["z"])(i.errors.title),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",mB,[Object(n["h"])("div",bB,[hB,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("code")}),class:"form-control",type:"text","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.code=t})},null,544),[[n["D"],i.form.code]]),i.errors.code?(Object(n["q"])(),Object(n["d"])("small",pB,Object(n["z"])(i.errors.code),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",OB,[Object(n["h"])("div",fB,[gB,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("grade")}),class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.grade=t})},null,544),[[n["D"],i.form.grade]]),i.errors.grade?(Object(n["q"])(),Object(n["d"])("small",jB,Object(n["z"])(i.errors.grade),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",vB,[Object(n["h"])("div",IB,[DB,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("duration")}),class:"form-control",type:"email","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.duration=t})},null,544),[[n["D"],i.form.duration]]),i.errors.duration?(Object(n["q"])(),Object(n["d"])("small",yB,Object(n["z"])(i.errors.duration),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",xB,[Object(n["h"])("div",wB,[SB,Object(n["G"])(Object(n["h"])("select",{onChange:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("durationUnit")}),class:"form-control select","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.durationUnit=t})},[CB,qB,EB,kB],544),[[n["C"],i.form.durationUnit]]),i.errors.durationUnit?(Object(n["q"])(),Object(n["d"])("small",UB,Object(n["z"])(i.errors.durationUnit),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",AB,[Object(n["h"])("div",LB,[TB,Object(n["G"])(Object(n["h"])("select",{onChange:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("instructor")}),class:"form-control select","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.instructor=t})},[MB,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.employees,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.userID,value:t.userID},Object(n["z"])(t.fullname),9,["value"])})),128))],544),[[n["C"],i.form.instructor]]),i.errors.instructor?(Object(n["q"])(),Object(n["d"])("small",RB,Object(n["z"])(i.errors.instructor),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",NB,[Object(n["h"])("div",BB,[Object(n["h"])("div",zB,[PB,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[15]||(e[15]=function(t){return r.updateErrorStatusOnInput("description")}),class:"form-control","onUpdate:modelValue":e[16]||(e[16]=function(t){return i.form.description=t})},null,544),[[n["D"],i.form.description]]),i.errors.description?(Object(n["q"])(),Object(n["d"])("small",_B,Object(n["z"])(i.errors.description),1)):Object(n["e"])("",!0)])])]),FB,Object(n["h"])("div",$B,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[GB,VB],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[17]||(e[17]=Object(n["H"])((function(){return r.attemptCreatingCourse&&r.attemptCreatingCourse.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Create Course"))])])])])]),Object(n["h"])(u)])]),HB])})),WB={name:"CreateCourse",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"registered institutions",institutionID:null,institution:{},employees:[],form:{courseID:"",title:"",code:"",duration:"",durationUnit:"",description:"",instructor:"",grade:""},errors:{courseID:"",title:"",code:"",duration:"",durationUnit:"",description:"",instructor:"",grade:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},validateForm:function(){return this.form.courseID||(this.errors.courseID="Course ID is required!"),this.form.title||(this.errors.title="Course title is required!"),this.form.grade||(this.errors.grade="Grade/Year is required!"),this.form.code||(this.errors.code="Course code is required!"),this.form.duration||(this.errors.duration="Duration is required!"),this.form.durationUnit||(this.errors.durationUnit="Duration unit is required!"),this.form.instructor||(this.errors.instructor="Course instrctor By is required!"),this.form.description||(this.errors.description="Description is required!"),!!(this.form.courseID&&this.form.title&&this.form.grade&&this.form.code&&this.form.duration&&this.form.durationUnit&&this.form.instructor&&this.form.description)},attemptCreatingCourse:function(){var t=this;this.isLoading=!0,this.validateForm()?Kt.collection("courses").add({courseID:this.form.courseID,institutionID:this.institutionID,title:this.form.title,grade:this.form.grade,code:this.form.code,duration:this.form.duration,durationUnit:this.form.durationUnit,instructor:this.form.instructor,description:this.form.description,createdOn:(new Date).getTime()}).then((function(e){console.log(e),t.isLoading=!1,t.$router.push({name:"InstitutionCourses",params:{institutionID:t.institutionID}})})).catch((function(e){t.isLoading=!1,alert(e)})):this.isLoading=!1},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.form.courseID=Zd.a.v4(),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){if("institution administrator"!==e.data().userRole){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}}))}))}};a("c17f");WB.render=QB,WB.__scopeId="data-v-05b4d5bc";var JB=WB,YB=Object(n["I"])("data-v-237602cb");Object(n["t"])("data-v-237602cb");var XB={class:"main-viewer"},KB={class:"main-wrapper"},ZB={class:"page-wrapper"},tz={class:"content"},ez=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Examination Logs")]),Object(n["h"])("div",{class:"col-sm-8 col-9 text-right m-b-20"})],-1),az={key:0,class:"row"},nz={class:"col-sm-8 offset-sm-2 mt-5"},sz={class:"jumbotron text-center"},iz={class:"h3"},rz={key:1,class:"container-fluid"},oz={class:"row filter-row"},cz={class:"col-sm-6 col-md-3"},lz={class:"form-group form-focus"},uz=Object(n["h"])("label",{class:"focus-label"},"Examination Title",-1),dz={class:"col-sm-6 col-md-3"},mz={class:"form-group form-focus"},bz=Object(n["h"])("label",{class:"focus-label"},"Start Date",-1),hz={class:"col-sm-6 col-md-3"},pz={class:"form-group form-focus"},Oz=Object(n["h"])("label",{class:"focus-label"},"End Date",-1),fz={class:"col-sm-6 col-md-3"},gz={class:"row"},jz={class:"col-md-12"},vz={class:"table-responsive"},Iz={class:"table table-striped custom-table"},Dz=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Title"),Object(n["h"])("th",null,"Examination ID"),Object(n["h"])("th",null,"Academic Session"),Object(n["h"])("th",null,"Start Date"),Object(n["h"])("th",null,"End Date"),Object(n["h"])("th",null,"Status"),Object(n["h"])("th",{class:"text-right"},"Action")])],-1),yz={class:"text-right"},xz={class:"dropdown dropdown-action"},wz=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),Sz={class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},Cz=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),qz=Object(n["g"])(" Manage"),Ez=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var kz=YB((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",XB,[Object(n["h"])("div",KB,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",ZB,[Object(n["h"])("div",tz,[ez,i.examinations.length<=0?(Object(n["q"])(),Object(n["d"])("div",az,[Object(n["h"])("div",nz,[Object(n["h"])("div",sz,[Object(n["h"])("h3",iz,Object(n["z"])(i.emptyMessage),1)])])])):(Object(n["q"])(),Object(n["d"])("div",rz,[Object(n["h"])("div",oz,[Object(n["h"])("div",cz,[Object(n["h"])("div",lz,[uz,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.search.institutionID=t})},null,544),[[n["D"],i.search.institutionID]])])]),Object(n["h"])("div",dz,[Object(n["h"])("div",mz,[bz,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.name=t})},null,544),[[n["D"],i.search.name]])])]),Object(n["h"])("div",hz,[Object(n["h"])("div",pz,[Oz,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.email=t})},null,544),[[n["D"],i.search.email]])])]),Object(n["h"])("div",fz,[Object(n["h"])("a",{onClick:e[7]||(e[7]=Object(n["H"])((function(){return t.searchRegisteredInstitution&&t.searchRegisteredInstitution.apply(t,arguments)}),["prevent"])),class:"btn btn-success btn-block text-white"}," Search ")])]),Object(n["h"])("div",gz,[Object(n["h"])("div",jz,[Object(n["h"])("div",vz,[Object(n["h"])("table",Iz,[Dz,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.examinations,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.examinationID},[Object(n["h"])("td",null,[Object(n["h"])("h2",null,Object(n["z"])(t.title),1)]),Object(n["h"])("td",null,Object(n["z"])(t.examinationID),1),Object(n["h"])("td",null,Object(n["z"])(t.academicSession),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(t.startDate)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(t.endDate)),1),Object(n["h"])("td",null,Object(n["z"])(t.examinationStatus),1),Object(n["h"])("td",yz,[Object(n["h"])("div",xz,[Object(n["h"])("a",{onClick:e[8]||(e[8]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[wz]),Object(n["h"])("div",Sz,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedExaminationPage(t.examinationID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[Cz,qz],8,["onClick"])])])])])})),128))])])])])])]))]),Object(n["h"])(l)])]),Ez])})),Uz={name:"InstitutionExamination",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,institution:{},examinations:[],emptyMessage:"Examination list is empty.",search:{}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},customizeDate:function(t){return Kr(t)},loadSelectedExaminationPage:function(t){this.$router.push({name:"InstitutionExaminationClassrooms",params:{institutionID:this.institutionID,examinationID:t}})}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("examinations").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,examinationID:e.data().examinationID,institutionID:e.data().institutionID,title:e.data().title,academicSession:e.data().academicSession,examinationStatus:e.data().examinationStatus,startDate:e.data().startDate,endDate:e.data().endDate,examinationDescription:e.data().examinationDescription,createdOn:e.data().createdOn};t.examinations.push(a)}))}))}};a("2946");Uz.render=kz,Uz.__scopeId="data-v-237602cb";var Az=Uz,Lz=Object(n["I"])("data-v-1be47048");Object(n["t"])("data-v-1be47048");var Tz={class:"main-viewer"},Mz={class:"main-wrapper"},Rz={class:"page-wrapper"},Nz={class:"content"},Bz={class:"row"},zz={class:"col-sm-4 col-3"},Pz={class:"page-title"},_z={class:"col-sm-8 col-9 text-right m-b-20"},Fz=Object(n["h"])("i",{class:"fas fa-user-edit mr-2"},null,-1),$z=Object(n["g"])("Edit Profile"),Gz=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("p",{class:"mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non eleifend nisi, et hendrerit erat. Nullam vitae ullamcorper eros, ac venenatis urna. Donec tempor ut ex ut efficitur. Maecenas a urna diam. Curabitur eleifend dolor orci, eget mollis leo volutpat id. Integer sit amet egestas eros. Suspendisse at ullamcorper urna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.In dictum ante tristique nisi tristique, id convallis nulla tempus. Ut sit amet massa venenatis, efficitur purus in, varius massa. Pellentesque eget lectus sed eros porta maximus. Phasellus hendrerit justo erat, eget finibus eros malesuada ac. Phasellus sodales turpis lobortis, aliquam urna eu, dapibus tellus. Sed consequat tincidunt tellus, quis pulvinar leo porttitor ac. Suspendisse sagittis eget est in egestas. Vestibulum at au Aenean porttitor molestie rhoncus. Suspendisse dictum vel est lacinia tristique. Donec lacinia at nunc at bibendum. Fusce vel orci diam. Fusce id venenatis sapien, et imperdiet metus. ")])],-1),Vz=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var Hz=Lz((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Tz,[Object(n["h"])("div",Mz,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Rz,[Object(n["h"])("div",Nz,[Object(n["h"])("div",Bz,[Object(n["h"])("div",zz,[Object(n["h"])("h4",Pz,Object(n["z"])(r.loggedUserFullname)+"'s Profile",1)]),Object(n["h"])("div",_z,[Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"InstitutionProfileEditor",params:{institutionID:i.institutionID}}},{default:Lz((function(){return[Fz,$z]})),_:1},8,["to"])])]),Gz]),Object(n["h"])(u)])]),Vz])})),Qz={name:"AdministratorProfile",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,institution:{}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}))}};a("2b61");Qz.render=Hz,Qz.__scopeId="data-v-1be47048";var Wz=Qz,Jz=Object(n["I"])("data-v-f5920d62");Object(n["t"])("data-v-f5920d62");var Yz={class:"main-viewer"},Xz={class:"main-wrapper"},Kz={class:"page-wrapper"},Zz={class:"content"},tP={class:"row"},eP={class:"col-sm-4 col-3"},aP={class:"page-title"},nP=Object(n["h"])("div",{class:"col-sm-8 col-9 text-right m-b-20"},null,-1),sP=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("p",{class:"mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non eleifend nisi, et hendrerit erat. Nullam vitae ullamcorper eros, ac venenatis urna. Donec tempor ut ex ut efficitur. Maecenas a urna diam. Curabitur eleifend dolor orci, eget mollis leo volutpat id. Integer sit amet egestas eros. Suspendisse at ullamcorper urna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.In dictum ante tristique nisi tristique, id convallis nulla tempus. Ut sit amet massa venenatis, efficitur purus in, varius massa. Pellentesque eget lectus sed eros porta maximus. Phasellus hendrerit justo erat, eget finibus eros malesuada ac. Phasellus sodales turpis lobortis, aliquam urna eu, dapibus tellus. Sed consequat tincidunt tellus, quis pulvinar leo porttitor ac. Suspendisse sagittis eget est in egestas. Vestibulum at au Aenean porttitor molestie rhoncus. Suspendisse dictum vel est lacinia tristique. Donec lacinia at nunc at bibendum. Fusce vel orci diam. Fusce id venenatis sapien, et imperdiet metus. ")])],-1),iP=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var rP=Jz((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",Yz,[Object(n["h"])("div",Xz,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Kz,[Object(n["h"])("div",Zz,[Object(n["h"])("div",tP,[Object(n["h"])("div",eP,[Object(n["h"])("h4",aP,"Edit "+Object(n["z"])(r.loggedUserFullname)+"'s Profile",1)]),nP]),sP]),Object(n["h"])(l)])]),iP])})),oP={name:"AdministratorProfileEditor",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,institution:{}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}))}};a("bce0");oP.render=rP,oP.__scopeId="data-v-f5920d62";var cP=oP,lP=Object(n["I"])("data-v-3ed44b9a");Object(n["t"])("data-v-3ed44b9a");var uP={class:"main-viewer"},dP={class:"main-wrapper"},mP={class:"page-wrapper"},bP={class:"content"},hP={class:"row"},pP=Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Create Timetable")],-1),OP={class:"col-sm-8 col-9 text-right m-b-20"},fP=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),gP=Object(n["g"])("Cancel "),jP={class:"row"},vP={class:"col-lg-8 offset-lg-2"},IP={class:"row"},DP={class:"col-sm-12"},yP={class:"form-group"},xP=Object(n["h"])("label",null,"Time Table ID",-1),wP={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},SP={class:"row"},CP={class:"col-sm-6"},qP={class:"form-group"},EP=Object(n["h"])("label",null,"Examination Record",-1),kP=Object(n["h"])("option",{value:""},"Select Examination Record",-1),UP={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},AP={class:"col-sm-6"},LP={class:"form-group"},TP=Object(n["h"])("label",null,[Object(n["g"])("Max. No. of Examination Per Day"),Object(n["h"])("span",{class:"text-danger"})],-1),MP=Object(n["h"])("option",{value:""},"Select No. of Examination per Day",-1),RP={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},NP={class:"col-sm-6"},BP={class:"form-group"},zP=Object(n["h"])("label",null,[Object(n["g"])("Max. Examination Duration (in minutes)"),Object(n["h"])("span",{class:"text-danger"})],-1),PP={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},_P={class:"col-sm-6"},FP={class:"form-group"},$P=Object(n["h"])("label",null,[Object(n["g"])("Daily Examination Start Hour (Using 24 hrs time clock) "),Object(n["h"])("span",{class:"text-danger"})],-1),GP=Object(n["h"])("option",{value:""},"Select Daily Examination Start Hour",-1),VP={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},HP={class:"col-sm-6"},QP={class:"form-group"},WP=Object(n["h"])("label",null,[Object(n["g"])("First Break Duration (in minutes) "),Object(n["h"])("span",{class:"text-danger"})],-1),JP={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},YP={class:"col-sm-6"},XP={class:"form-group"},KP=Object(n["h"])("label",null,[Object(n["g"])("Second Break Duration (in minutes) "),Object(n["h"])("span",{class:"text-danger"})],-1),ZP={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},t_={class:"row"},e_={class:"col-sm-12"},a_={class:"form-group"},n_=Object(n["h"])("label",null," Time Table Description",-1),s_={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},i_={key:0,class:"mb-3"},r_={key:1,class:"h3"},o_={key:2,class:"mb-3"},c_={key:3,class:"row"},l_={class:"col-sm-12"},u_={class:"form-group"},d_=Object(n["h"])("label",null,"Examination ID",-1),m_={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},b_={class:"col-sm-12"},h_={class:"form-group"},p_=Object(n["h"])("label",null,[Object(n["g"])("Academic Session "),Object(n["h"])("span",{class:"text-danger"})],-1),O_=Object(n["f"])('<option value="" data-v-3ed44b9a>Select Academic Session</option><option value="1st Semester" data-v-3ed44b9a>1st Semester</option><option value="2nd Semester" data-v-3ed44b9a>2nd Semester</option><option value="1st Term" data-v-3ed44b9a>1st Term</option><option value="2nd Term" data-v-3ed44b9a>2nd Term</option><option value="3rd Term" data-v-3ed44b9a>3rd Term</option>',6),f_={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},g_={class:"col-sm-12"},j_={class:"form-group"},v_=Object(n["h"])("label",null,[Object(n["g"])("Title "),Object(n["h"])("span",{class:"text-danger"})],-1),I_={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},D_={class:"col-sm-6"},y_={class:"form-group"},x_=Object(n["h"])("label",null,[Object(n["g"])("Examination Start Date "),Object(n["h"])("span",{class:"text-danger"})],-1),w_={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},S_={class:"col-sm-6"},C_={class:"form-group"},q_=Object(n["h"])("label",null,[Object(n["g"])("Examination End Date"),Object(n["h"])("span",{class:"text-danger"})],-1),E_={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},k_={key:4,class:"row"},U_={class:"col-sm-12"},A_={class:"form-group"},L_=Object(n["h"])("label",null,"Examination Description",-1),T_={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},M_=Object(n["h"])("hr",{class:"mb3"},null,-1),R_={class:"form-group text-center"},N_=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),B_=Object(n["g"])(" Loading... "),z_=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var P_=lP((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",uP,[Object(n["h"])("div",dP,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",mP,[Object(n["h"])("div",bP,[Object(n["h"])("div",hP,[pP,Object(n["h"])("div",OP,[Object(n["h"])(l,{to:{name:"InstitutionClassroomDetails",params:{institutionID:i.institutionID,classroomID:i.classroomID}},class:"btn btn-outline-danger"},{default:lP((function(){return[fP,gP]})),_:1},8,["to"])])]),Object(n["h"])("div",jP,[Object(n["h"])("div",vP,[Object(n["h"])("form",null,[Object(n["h"])("div",IP,[Object(n["h"])("div",DP,[Object(n["h"])("div",yP,[xP,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("timeTableID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.timeTableID=t})},null,544),[[n["D"],i.form.timeTableID]]),i.errors.timeTableID?(Object(n["q"])(),Object(n["d"])("small",wP,Object(n["z"])(i.errors.timeTableID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",SP,[Object(n["h"])("div",CP,[Object(n["h"])("div",qP,[EP,Object(n["G"])(Object(n["h"])("select",{onChange:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("selectedExaminationRecord")}),class:"form-control select","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.selectedExaminationRecord=t})},[kP,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.examinations,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.examinationID,value:t.examinationID},"("+Object(n["z"])(r.getExaminationSemesterCode(t.academicSession,t.startDate))+") "+Object(n["z"])(t.title),9,["value"])})),128))],544),[[n["C"],i.form.selectedExaminationRecord]]),i.errors.selectedExaminationRecord?(Object(n["q"])(),Object(n["d"])("small",UP,Object(n["z"])(i.errors.selectedExaminationRecord),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",AP,[Object(n["h"])("div",LP,[TP,Object(n["G"])(Object(n["h"])("select",{onChange:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("maxNumExaminationPerDay")}),class:"form-control select","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.maxNumExaminationPerDay=t})},[MP,(Object(n["q"])(),Object(n["d"])(n["a"],null,Object(n["w"])(5,(function(t,e){return Object(n["h"])("option",{key:e,value:t+2},Object(n["z"])(t+2),9,["value"])})),64))],544),[[n["C"],i.form.maxNumExaminationPerDay]]),i.errors.maxNumExaminationPerDay?(Object(n["q"])(),Object(n["d"])("small",RP,Object(n["z"])(i.errors.maxNumExaminationPerDay),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",NP,[Object(n["h"])("div",BP,[zP,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("maxExaminationDuration")}),min:"0",class:"form-control",type:"number","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.maxExaminationDuration=t})},null,544),[[n["D"],i.form.maxExaminationDuration]]),i.errors.maxExaminationDuration?(Object(n["q"])(),Object(n["d"])("small",PP,Object(n["z"])(i.errors.maxExaminationDuration),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",_P,[Object(n["h"])("div",FP,[$P,Object(n["G"])(Object(n["h"])("select",{onChange:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("startHour")}),class:"form-control select","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.startHour=t})},[GP,(Object(n["q"])(),Object(n["d"])(n["a"],null,Object(n["w"])(16,(function(t,e){return Object(n["h"])("option",{key:e,value:t+7},Object(n["z"])(t+7),9,["value"])})),64))],544),[[n["C"],i.form.startHour]]),i.errors.startHour?(Object(n["q"])(),Object(n["d"])("small",VP,Object(n["z"])(i.errors.startHour),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",HP,[Object(n["h"])("div",QP,[WP,Object(n["G"])(Object(n["h"])("input",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("firstBreak")}),min:"0",max:"120",class:"form-control",type:"number","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.firstBreak=t})},null,544),[[n["D"],i.form.firstBreak]]),i.errors.firstBreak?(Object(n["q"])(),Object(n["d"])("small",JP,Object(n["z"])(i.errors.firstBreak),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",YP,[Object(n["h"])("div",XP,[KP,Object(n["G"])(Object(n["h"])("input",{onInput:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("secondBreak")}),min:"0",max:"120",class:"form-control",type:"number","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.secondBreak=t})},null,544),[[n["D"],i.form.secondBreak]]),i.errors.secondBreak?(Object(n["q"])(),Object(n["d"])("small",ZP,Object(n["z"])(i.errors.secondBreak),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",t_,[Object(n["h"])("div",e_,[Object(n["h"])("div",a_,[n_,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[15]||(e[15]=function(t){return r.updateErrorStatusOnInput("timeTableDescription")}),class:"form-control","onUpdate:modelValue":e[16]||(e[16]=function(t){return i.form.timeTableDescription=t})},null,544),[[n["D"],i.form.timeTableDescription]]),i.errors.timeTableDescription?(Object(n["q"])(),Object(n["d"])("small",s_,Object(n["z"])(i.errors.timeTableDescription),1)):Object(n["e"])("",!0)])])]),r.mustCreateExaminationRecord?(Object(n["q"])(),Object(n["d"])("hr",i_)):Object(n["e"])("",!0),r.mustCreateExaminationRecord?(Object(n["q"])(),Object(n["d"])("h3",r_,"Examintion Record")):Object(n["e"])("",!0),r.mustCreateExaminationRecord?(Object(n["q"])(),Object(n["d"])("hr",o_)):Object(n["e"])("",!0),r.mustCreateExaminationRecord?(Object(n["q"])(),Object(n["d"])("div",c_,[Object(n["h"])("div",l_,[Object(n["h"])("div",u_,[d_,Object(n["G"])(Object(n["h"])("input",{onInput:e[17]||(e[17]=function(t){return r.updateErrorStatusOnInput("examinationID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[18]||(e[18]=function(t){return i.form.examinationID=t})},null,544),[[n["D"],i.form.examinationID]]),i.errors.examinationID?(Object(n["q"])(),Object(n["d"])("small",m_,Object(n["z"])(i.errors.examinationID),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",b_,[Object(n["h"])("div",h_,[p_,Object(n["G"])(Object(n["h"])("select",{onChange:e[19]||(e[19]=function(t){return r.updateErrorStatusOnInput("academicSession")}),class:"form-control select","onUpdate:modelValue":e[20]||(e[20]=function(t){return i.form.academicSession=t})},[O_],544),[[n["C"],i.form.academicSession]]),i.errors.academicSession?(Object(n["q"])(),Object(n["d"])("small",f_,Object(n["z"])(i.errors.academicSession),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",g_,[Object(n["h"])("div",j_,[v_,Object(n["G"])(Object(n["h"])("input",{onInput:e[21]||(e[21]=function(t){return r.updateErrorStatusOnInput("title")}),class:"form-control",type:"text","onUpdate:modelValue":e[22]||(e[22]=function(t){return i.form.title=t})},null,544),[[n["D"],i.form.title]]),i.errors.title?(Object(n["q"])(),Object(n["d"])("small",I_,Object(n["z"])(i.errors.title),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",D_,[Object(n["h"])("div",y_,[x_,Object(n["G"])(Object(n["h"])("input",{onInput:e[23]||(e[23]=function(t){return r.updateErrorStatusOnInput("startDate")}),class:"form-control",type:"date","onUpdate:modelValue":e[24]||(e[24]=function(t){return i.form.startDate=t})},null,544),[[n["D"],i.form.startDate]]),i.errors.startDate?(Object(n["q"])(),Object(n["d"])("small",w_,Object(n["z"])(i.errors.startDate),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",S_,[Object(n["h"])("div",C_,[q_,Object(n["G"])(Object(n["h"])("input",{onInput:e[25]||(e[25]=function(t){return r.updateErrorStatusOnInput("endDate")}),class:"form-control",type:"date","onUpdate:modelValue":e[26]||(e[26]=function(t){return i.form.endDate=t})},null,544),[[n["D"],i.form.endDate]]),i.errors.endDate?(Object(n["q"])(),Object(n["d"])("small",E_,Object(n["z"])(i.errors.endDate),1)):Object(n["e"])("",!0)])])])):Object(n["e"])("",!0),r.mustCreateExaminationRecord?(Object(n["q"])(),Object(n["d"])("div",k_,[Object(n["h"])("div",U_,[Object(n["h"])("div",A_,[L_,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[27]||(e[27]=function(t){return r.updateErrorStatusOnInput("examinationDescription")}),class:"form-control","onUpdate:modelValue":e[28]||(e[28]=function(t){return i.form.examinationDescription=t})},null,544),[[n["D"],i.form.examinationDescription]]),i.errors.examinationDescription?(Object(n["q"])(),Object(n["d"])("small",T_,Object(n["z"])(i.errors.examinationDescription),1)):Object(n["e"])("",!0)])])])):Object(n["e"])("",!0),M_,Object(n["h"])("div",R_,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[N_,B_],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[29]||(e[29]=Object(n["H"])((function(){return r.attemptCreatingExaminationTimeTable&&r.attemptCreatingExaminationTimeTable.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Create Time Table"))])])])])]),Object(n["h"])(u)])]),z_])})),__=a("d4ec"),F_=a("bee2"),$_=function(){function t(e,a,n,s,i,r,o){Object(__["a"])(this,t),this.dailyActivityStartTime=e,this.activityDuration=a,this.firstBreak=r,this.secondBreak=o,this.activitiesPerDay=n,this.examinationStartDate=s,this.examinationEndDate=i,this.dailyActivityDuration=null,this.dailyActivityHours=null,this.activityHistory=[],this.activityLayout=[],this.activeWeekDays=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]}return Object(F_["a"])(t,[{key:"getAllActivityTime",value:function(){return this.firstBreak+this.secondBreak+this.activitiesPerDay*this.activityDuration}},{key:"padNumber",value:function(t){return t>=0&&t<10?"0".concat(t):"".concat(t)}},{key:"setDailyActivityDuration",value:function(){var t=this.getAllActivityTime(),e=parseInt(t/60),a=t%60;this.dailyActivityHours="".concat(e,".").concat(a," hours"),this.dailyActivityDuration="".concat(this.padNumber(e),":").concat(this.padNumber(a),":01")}},{key:"generateActivityLayout",value:function(){switch(this.activitiesPerDay){case 3:this.activityLayout=[1,1,1];break;case 4:this.activityLayout=[2,1,1];break;case 5:this.activityLayout=[2,2,1];break;case 6:this.activityLayout=[3,2,1];break;case 7:this.activityLayout=[3,2,2];break;case 8:this.activityLayout=[3,3,2];break;case 9:this.activityLayout=[4,3,2];break;case 10:this.activityLayout=[5,3,2];break;default:this.activityLayout=[];break}}},{key:"generateDailyActivityDetails",value:function(t){var e=[];this.generateActivityLayout(),this.setDailyActivityDuration();for(var a=0,n=0,s="".concat(this.dailyActivityStartTime,":00:00"),i="",r=0,o=null,c=0;c<this.activityLayout.length;c++){for(var l=0;l<this.activityLayout[c];l++)a+=this.activityDuration,n+=1,o=this.generateExaminationPaperAllotedSpace(t,"Paper",a,n,s),e.push(o[0]),s=o[1];c<this.activityLayout.length-1&&(i=0===c?"First Break":"Second Break",r=0===c?this.firstBreak:this.secondBreak,a+=r,n+=1,o=this.generateExaminationPaperAllotedSpace(t,i,a,n,s),e.push(o[0]),s=o[1])}return e}},{key:"generateExaminationPaperAllotedSpace",value:function(t,e,a,n,s){var i={},r=parseInt(a/60,10),o=a%60;return i.paperID=this.getPaperID(t,e,n),i.courseID="",i.start=s,i.end="".concat(this.padNumber(this.dailyActivityStartTime+r),":").concat(this.padNumber(o),":00"),i.isDayInfo=!1,[i,"".concat(this.padNumber(this.dailyActivityStartTime+r),":").concat(this.padNumber(o),":01")]}},{key:"getPaperID",value:function(t,e,a){var n=e.split(" ");return"".concat(t,"-").concat(1==n.length?"".concat(n[0].toLowerCase(),"-").concat(a):"".concat(n[0].toLowerCase(),"-").concat(n[1].toLowerCase()))}},{key:"generateTimeTableDetails",value:function(){for(var t=this.examinationStartDate.getTime(),e=this.examinationEndDate.getTime(),a=864e5,n=[],s=t;s<=e;s+=a){var i=new Date(s);if(i.getDay()>0&&i.getDay()<6){var r=[],o={};o.paperID="".concat(s),o.date=Kr(s),o.weekday=this.activeWeekDays[i.getDay()],o.week="",o.isDayInfo=!0,r=this.generateDailyActivityDetails("".concat(s)),r.unshift(o),n.push(r)}}return n}}]),t}(),G_=function(t,e,a,n,s,i,r){var o=new $_(t,e,a,n,s,i,r);return o.generateTimeTableDetails()},V_={name:"CreateTimeTable",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"registered institutions",institutionID:null,classroomID:null,institution:{},examinations:[],form:{timeTableID:"",selectedExaminationRecord:"",details:{},startHour:"",maxNumExaminationPerDay:"",maxExaminationDuration:"",firstBreak:20,secondBreak:20,timeTableDescription:"",examinationID:"",title:"",academicSession:"",startDate:"",endDate:"",examinationDescription:""},errors:{timeTableID:"",selectedExaminationRecord:"",startHour:"",maxNumExaminationPerDay:"",maxExaminationDuration:"",firstBreak:"",secondBreak:"",timeTableDescription:"",examinationID:"",title:"",academicSession:"",startDate:"",endDate:"",examinationDescription:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},mustCreateExaminationRecord:function(){return""==this.form.selectedExaminationRecord}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},getExaminationSemesterCode:function(t,e){var a=this.getDateString(t),n=this.getSemesterString(e);return"".concat(n," ").concat(a)},getDateString:function(t){var e="",a=t.split(" ");return e="Semester"===a[1]?"Sem.":a[1],"".concat(a[0]," ").concat(e)},getSemesterString:function(t){var e=new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(t)),a=e.toString().split(" ");return"".concat(a[0],". ").concat(a[2])},validateForm:function(){return this.form.timeTableID||(this.errors.timeTableID="Time Table ID is required!"),this.form.maxNumExaminationPerDay||(this.errors.maxNumExaminationPerDay="Maximum number of examination per day is required!"),this.form.maxExaminationDuration||(this.errors.maxExaminationDuration="Maximum examination duration is required!"),this.form.startHour||(this.errors.startHour="Daily start hour for examination is required!"),this.form.firstBreak?parseInt(this.form.firstBreak,10)<20&&(this.errors.firstBreak="First break CANNOT be less than 20 (minutes)!"):this.errors.firstBreak="First break duration is required!",this.form.secondBreak?parseInt(this.form.secondBreak,10)<20&&(this.errors.secondBreak="Second break CANNOT be less than 20 (minutes)!"):this.errors.secondBreak="Second break duration is required!",this.mustCreateExaminationRecord&&(this.form.examinationID||(this.errors.examinationID="Examination ID is required!"),this.form.academicSession||(this.errors.academicSession="Academic session is required!"),this.form.title||(this.errors.title="Title is required!"),this.form.startDate||(this.errors.startDate="Examination start date is required!"),this.form.endDate||(this.errors.endDate="Examination end date is required!")),this.mustCreateExaminationRecord?!!(this.form.timeTableID&&this.form.maxNumExaminationPerDay&&this.form.maxExaminationDuration&&this.form.startHour&&this.form.firstBreak&&parseInt(this.form.firstBreak)>=20&&this.form.secondBreak&&parseInt(this.form.secondBreak)>=20&&this.form.examinationID&&this.form.academicSession&&this.form.title&&this.form.startDate&&this.form.endDate):!!(this.form.timeTableID&&this.form.maxNumExaminationPerDay&&this.form.maxExaminationDuration&&this.form.startHour&&this.form.firstBreak&&parseInt(this.form.firstBreak)>=20&&this.form.secondBreak&&parseInt(this.form.secondBreak)>=20)},attemptCreatingExaminationTimeTable:function(){var t=this;this.isLoading=!0,this.validateForm()?(this.form.details=JSON.stringify(G_(parseInt(this.form.startHour),parseInt(this.form.maxExaminationDuration),parseInt(this.form.maxNumExaminationPerDay),new Date(this.form.startDate),new Date(this.form.endDate),parseInt(this.form.firstBreak),parseInt(this.form.secondBreak))),Kt.collection("examinations").add({examinationID:this.form.examinationID,institutionID:this.institutionID,title:this.form.title,academicSession:this.form.academicSession,examinationStatus:"Pending",startDate:new Date(this.form.startDate).getTime(),endDate:new Date(this.form.endDate).getTime(),examinationDescription:this.form.examinationDescription,createdOn:(new Date).getTime()}).then((function(e){console.log(e);var a={timeTableID:t.form.timeTableID,classroomID:t.classroomID,examinationID:t.form.examinationID,details:t.form.details,startHour:parseInt(t.form.startHour),maxNumExaminationPerDay:parseInt(t.form.maxNumExaminationPerDay),maxExaminationDuration:parseInt(t.form.maxExaminationDuration),firstBreak:parseInt(t.form.firstBreak),secondBreak:parseInt(t.form.secondBreak),timeTableDescription:t.form.timeTableDescription,createdOn:(new Date).getTime()};Kt.collection("examination_timetables").add(a).then((function(e){console.log(e),t.isLoading=!1,t.$router.push({name:"InstitutionClassroomDetails",params:{institutionID:t.institutionID,classroomID:t.classroomID}})})).catch((function(e){t.isLoading=!1,alert(e)}))})).catch((function(e){t.isLoading=!1,alert(e)}))):this.isLoading=!1},updateErrorStatusOnInput:function(t){if(this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message=""),"selectedExaminationRecord"===t)if(this.form[t].toString().length>0){var e=this.getExaminationRecord(this.form[t]);this.form.examinationID=e.examinationID,this.form.title=e.title,this.form.academicSession=e.academicSession,this.form.startDate=new Date(e.startDate),this.form.endDate=new Date(e.endDate),this.form.examinationDescription=e.examinationDescription}else this.form.examinationID=Zd.a.v1(),this.form.title="",this.form.academicSession="",this.form.startDate="",this.form.endDate="",this.form.examinationDescription=""},getExaminationRecord:function(t){var e=null;return this.examinations.map((function(a){a.examinationID===t&&(e=a)})),e},isThisYearExamination:function(t){var e=new Date(t).getFullYear();return e>=(new Date).getFullYear()}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID,this.form.timeTableID=Zd.a.v4(),this.form.examinationID=Zd.a.v1(),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("examinations").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){if(t.isThisYearExamination(e.data().startDate)){var a={id:e.id,examinationID:e.data().examinationID,title:e.data().title,academicSession:e.data().academicSession,examinationStatus:e.data().examinationStatus,startDate:e.data().startDate,endDate:e.data().endDate,examinationDescription:e.data().examinationDescription,createdOn:e.data().createdOn};t.examinations.push(a)}}))}))}};a("6203");V_.render=P_,V_.__scopeId="data-v-3ed44b9a";var H_=V_,Q_=Object(n["I"])("data-v-41e94850");Object(n["t"])("data-v-41e94850");var W_={class:"main-viewer mb-5"},J_={class:"main-wrapper"},Y_={class:"page-wrapper"},X_={class:"content"},K_={class:"row"},Z_={class:"col-sm-4 col-3"},tF={class:"page-title"},eF={class:"col-sm-8 col-9 text-right m-b-20"},aF=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),nF=Object(n["g"])("Cancel "),sF={class:"row mb-5"},iF={key:0,class:"col-md-6 offset-md-3"},rF={class:"list-group list-group-flush"},oF={class:"list-group-item transparent-bg"},cF={class:"row"},lF=Object(n["h"])("div",{class:"col-3"},"Time Table ID",-1),uF=Object(n["h"])("div",{class:"col-1"},":",-1),dF=Object(n["g"])(),mF={class:"col-8"},bF={class:"text-dark"},hF={class:"list-group-item transparent-bg"},pF={class:"row"},OF=Object(n["h"])("div",{class:"col-3"},"Classroom ID",-1),fF=Object(n["h"])("div",{class:"col-1"},":",-1),gF=Object(n["g"])(),jF={class:"col-8"},vF={class:"text-dark"},IF={class:"list-group-item transparent-bg"},DF={class:"row"},yF=Object(n["h"])("div",{class:"col-3"},"Examination ID",-1),xF=Object(n["h"])("div",{class:"col-1"},":",-1),wF=Object(n["g"])(),SF={class:"col-8"},CF={class:"text-dark"},qF={class:"list-group-item transparent-bg"},EF={class:"row"},kF=Object(n["h"])("div",{class:"col-3"},"Examinations per Day",-1),UF=Object(n["h"])("div",{class:"col-1"},":",-1),AF=Object(n["g"])(),LF={class:"col-8"},TF={class:"text-dark"},MF={class:"list-group-item transparent-bg"},RF={class:"row"},NF=Object(n["h"])("div",{class:"col-3"},"Each Paper Duration",-1),BF=Object(n["h"])("div",{class:"col-1"},":",-1),zF=Object(n["g"])(),PF={class:"col-8"},_F={class:"text-dark"},FF={class:"list-group-item transparent-bg"},$F={class:"row"},GF=Object(n["h"])("div",{class:"col-3"},"First Paper Start Time",-1),VF=Object(n["h"])("div",{class:"col-1"},":",-1),HF=Object(n["g"])(),QF={class:"col-8"},WF={class:"text-dark"},JF={class:"list-group-item transparent-bg"},YF={class:"row"},XF=Object(n["h"])("div",{class:"col-3"},"First Break",-1),KF=Object(n["h"])("div",{class:"col-1"},":",-1),ZF=Object(n["g"])(),t$={class:"col-8"},e$={class:"text-dark"},a$={class:"list-group-item transparent-bg"},n$={class:"row"},s$=Object(n["h"])("div",{class:"col-3"},"Second Break",-1),i$=Object(n["h"])("div",{class:"col-1"},":",-1),r$=Object(n["g"])(),o$={class:"col-8"},c$={class:"text-dark"},l$={class:"list-group-item transparent-bg"},u$={class:"row"},d$=Object(n["h"])("div",{class:"col-3"},"Created On",-1),m$=Object(n["h"])("div",{class:"col-1"},":",-1),b$=Object(n["g"])(),h$={class:"col-8"},p$={class:"text-dark"},O$={class:"list-group-item transparent-bg"},f$={class:"row"},g$=Object(n["h"])("div",{class:"col-3"},"Description",-1),j$=Object(n["h"])("div",{class:"col-1"},":",-1),v$=Object(n["g"])(),I$={class:"col-8"},D$={class:"text-dark"},y$={key:0,class:"row"},x$={class:"col-md-12 mb-5"},w$={class:"h4 text-center mt-3 mb-3"},S$={class:"table table-bordered table-dark text-white"},C$={key:0,class:"day-info"},q$={class:"pt-5"},E$={class:"text-danger text-capitalize font-weight-bold font-italic"},k$={key:1},U$={key:0,class:"mb-3 col-12 text-center bg-danger"},A$=Object(n["g"])(" - "),L$={key:2,class:"form-group text-center"},T$=Object(n["h"])("option",{value:""},"Select Examination Course",-1),M$={key:1,class:"row"},R$={class:"col-4 text-center"},N$=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),B$=Object(n["g"])("Cancel Update "),z$={class:"col-4 text-center"},P$=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-upload mr-2"})],-1),_$=Object(n["g"])("Save Changes "),F$={class:"col-4 text-center"},$$=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-trash mr-2"})],-1),G$=Object(n["g"])("Delete Time Table "),V$={key:2,class:"row"},H$=Object(n["h"])("div",{class:"col-8 offset-2 mt-3 mb-3 text-center"},[Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h4"},"Time Table does NOT exist!")])],-1),Q$=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var W$=Q_((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",W_,[Object(n["h"])("div",J_,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Y_,[Object(n["h"])("div",X_,[Object(n["h"])("div",K_,[Object(n["h"])("div",Z_,[Object(n["h"])("h4",tF,"Edit "+Object(n["z"])(i.classroom.name)+"'s Time Table",1)]),Object(n["h"])("div",eF,[Object(n["h"])(l,{to:{name:"InstitutionClassroomDetails",params:{institutionID:i.institutionID,classroomID:i.classroomID}},class:"btn btn-outline-danger"},{default:Q_((function(){return[aF,nF]})),_:1},8,["to"])])]),Object(n["h"])("div",sF,[r.isEmptyObject(i.timetable)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",iF,[Object(n["h"])("ul",rF,[Object(n["h"])("li",oF,[Object(n["h"])("div",cF,[lF,uF,dF,Object(n["h"])("div",mF,[Object(n["h"])("strong",bF,Object(n["z"])(i.timetable.timetableID),1)])])]),Object(n["h"])("li",hF,[Object(n["h"])("div",pF,[OF,fF,gF,Object(n["h"])("div",jF,[Object(n["h"])("strong",vF,Object(n["z"])(i.timetable.classroomID),1)])])]),Object(n["h"])("li",IF,[Object(n["h"])("div",DF,[yF,xF,wF,Object(n["h"])("div",SF,[Object(n["h"])("strong",CF,Object(n["z"])(i.timetable.examinationID),1)])])]),Object(n["h"])("li",qF,[Object(n["h"])("div",EF,[kF,UF,AF,Object(n["h"])("div",LF,[Object(n["h"])("strong",TF,Object(n["z"])(i.timetable.maxNumExaminationPerDay),1)])])]),Object(n["h"])("li",MF,[Object(n["h"])("div",RF,[NF,BF,zF,Object(n["h"])("div",PF,[Object(n["h"])("strong",_F,Object(n["z"])(r.customizeHoursMinutes(parseInt(i.timetable.maxExaminationDuration))),1)])])]),Object(n["h"])("li",FF,[Object(n["h"])("div",$F,[GF,VF,HF,Object(n["h"])("div",QF,[Object(n["h"])("strong",WF,Object(n["z"])("".concat(i.timetable.startHour,":00:00")),1)])])]),Object(n["h"])("li",JF,[Object(n["h"])("div",YF,[XF,KF,ZF,Object(n["h"])("div",t$,[Object(n["h"])("strong",e$,Object(n["z"])(r.customizeHoursMinutes(parseInt(i.timetable.firstBreak))),1)])])]),Object(n["h"])("li",a$,[Object(n["h"])("div",n$,[s$,i$,r$,Object(n["h"])("div",o$,[Object(n["h"])("strong",c$,Object(n["z"])(r.customizeHoursMinutes(parseInt(i.timetable.secondBreak))),1)])])]),Object(n["h"])("li",l$,[Object(n["h"])("div",u$,[d$,m$,b$,Object(n["h"])("div",h$,[Object(n["h"])("strong",p$,Object(n["z"])(r.customizeDate(parseInt(i.timetable.createdOn))),1)])])]),Object(n["h"])("li",O$,[Object(n["h"])("div",f$,[g$,j$,v$,Object(n["h"])("div",I$,[Object(n["h"])("strong",D$,Object(n["z"])(i.timetable.timeTableDescription),1)])])])])]))]),r.isEmptyObject(i.timetable)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",y$,[Object(n["h"])("div",x$,[Object(n["h"])("h4",w$,"("+Object(n["z"])(r.getExaminationSemesterCode(i.examination.academicSession,i.examination.startDate))+") "+Object(n["z"])(i.examination.title),1),Object(n["h"])("table",S$,[Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.timetable.details,(function(t,a){return Object(n["q"])(),Object(n["d"])("tr",{key:a},[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(t,(function(t,s){return Object(n["q"])(),Object(n["d"])("td",{key:t.paerID},[t.isDayInfo?(Object(n["q"])(),Object(n["d"])("div",C$,[Object(n["h"])("span",q$,[Object(n["h"])("strong",E$,Object(n["z"])(t.weekday),1)]),Object(n["h"])("span",null,Object(n["z"])(t.date),1)])):(Object(n["q"])(),Object(n["d"])("div",k$,[0==a?(Object(n["q"])(),Object(n["d"])("div",U$,[Object(n["h"])("strong",null,Object(n["z"])(t.start),1),A$,Object(n["h"])("strong",null,Object(n["z"])(t.end),1)])):Object(n["e"])("",!0),t.paperID.indexOf("break")>0?(Object(n["q"])(),Object(n["d"])("span",{key:1,class:["paper-info",{"pt-3":0==a,"pt-4":0!=a}],innerHTML:r.getPaperInformation(t.courseID,t.paperID)},null,10,["innerHTML"])):Object(n["e"])("",!0),t.paperID.indexOf("break")>0?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",L$,[Object(n["h"])("label",null,"Paper "+Object(n["z"])(a)+Object(n["z"])(s),1),Object(n["G"])(Object(n["h"])("select",{onChange:e[1]||(e[1]=Object(n["H"])((function(){return r.modifyCanUpdateStatus&&r.modifyCanUpdateStatus.apply(r,arguments)}),["prevent"])),class:"form-control select","onUpdate:modelValue":function(e){return t.courseID=e}},[T$,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classroomCourses,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.courseID,value:t.courseID},Object(n["z"])(r.getCourseRecordByID(t.courseID).title)+" ("+Object(n["z"])(r.getCourseRecordByID(t.courseID).code)+")",9,["value"])})),128))],40,["onUpdate:modelValue"]),[[n["C"],t.courseID]])]))]))])})),128))])})),128))])])])])),r.isEmptyObject(i.timetable)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",M$,[Object(n["h"])("div",R$,[Object(n["h"])("button",{onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.cancelTimeTableUpdate&&r.cancelTimeTableUpdate.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-secondary"},[N$,B$])]),Object(n["h"])("div",z$,[i.canUpdate?(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.attemptTimeTableUpdate&&r.attemptTimeTableUpdate.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-success"},[P$,_$])):Object(n["e"])("",!0)]),Object(n["h"])("div",F$,[Object(n["h"])("button",{onClick:e[4]||(e[4]=Object(n["H"])((function(){return r.attemptTimeTableDelete&&r.attemptTimeTableDelete.apply(r,arguments)}),["prevent"])),class:"btn btn-outline-danger"},[$$,G$])])])),r.isEmptyObject(i.timetable)?(Object(n["q"])(),Object(n["d"])("div",V$,[H$])):Object(n["e"])("",!0)]),Object(n["h"])(u)])]),Q$])})),J$={name:"EditTimeTableDetails",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,classroomID:null,timetableID:null,institution:{},timetable:{},classroom:{},examination:{},courses:[],classroomCourses:[],canUpdate:!1}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},customizeDate:function(t){return Kr(t)},customizeHoursMinutes:function(t){var e=parseInt(t/60,20),a=t%60;return"".concat(e," ").concat(e>1?"hours":"hour"," ").concat(a," ").concat(a>1?"minutes":"minute")},isEmptyObject:function(t){return te(t)},modifyCanUpdateStatus:function(){this.canUpdate=!0},getDateString:function(t){return t},getSemesterString:function(t){return"".concat(t)},getCourseRecordByID:function(t){var e=null;return this.courses.map((function(a){a.courseID===t&&(e=a)})),e},getExaminationSemesterCode:function(t,e){var a=this.getDateString(e),n=this.getSemesterString(t);return"".concat(n," ").concat(a)},getPaperInformation:function(t,e){if(e.indexOf("break")>0){var a=e.split("-");return a.splice(0,1),"<span>".concat(a.join(" ").toUpperCase(),"</span>")}var n=this.getCourseRecordByID(t);return this.isEmptyObject(n)?"<span>".concat("No Examination","</span><span>(","Free Period",")</span>"):"<span>".concat(n.title,"</span>\n         <span>(").concat(n.code,")</span>")},cancelTimeTableUpdate:function(){this.$router.push({name:"InstitutionClassroomDetails",params:{institutionID:this.institutionID,classroomID:this.classroomID}})},attemptTimeTableDelete:function(){var t=this;confirm("Delete examination time table?")&&Kt.collection("examination_timetables").where("timeTableID","==",this.timetableID).get().then((function(e){e.forEach((function(e){e.ref.delete(),t.timetable={}}))}))},attemptTimeTableUpdate:function(){var t=this;Kt.collection("examination_timetables").where("timeTableID","==",this.timetableID).get().then((function(e){e.forEach((function(e){e.ref.update({details:JSON.stringify(t.timetable.details)})})),t.$router.push({name:"InstitutionClassroomDetails",params:{institutionID:t.institutionID,classroomID:t.classroomID}})}))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID,this.timetableID=this.$route.params.timetableID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("examination_timetables").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){t.timetable.timetableID=e.data().timeTableID,t.timetable.classroomID=e.data().classroomID,t.timetable.examinationID=e.data().examinationID,t.timetable.details=JSON.parse(e.data().details),t.timetable.startHour=e.data().startHour,t.timetable.maxNumExaminationPerDay=e.data().maxNumExaminationPerDay,t.timetable.maxExaminationDuration=e.data().maxExaminationDuration,t.timetable.firstBreak=e.data().firstBreak,t.timetable.secondBreak=e.data().secondBreak,t.timetable.timeTableDescription=e.data().timeTableDescription,t.timetable.createdOn=e.data().createdOn})),t.timetable.examinationID&&Kt.collection("examinations").where("examinationID","==",t.timetable.examinationID).get().then((function(e){e.forEach((function(e){t.examination.examinationID=e.data().examinationID,t.examination.institutionID=e.data().institutionID,t.examination.title=e.data().title,t.examination.academicSession=e.data().academicSession,t.examination.examinationStatus=e.data().examinationStatus,t.examination.startDate=e.data().startDate,t.examination.endDate=e.data().endDate,t.examination.examinationDescription=e.data().examinationDescription,t.examination.createdOn=e.data().createdOn}))}))})),Kt.collection("classrooms").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){t.institutionID===e.data().institutionID&&(t.classroom.id=e.id,t.classroom.classroomID=e.data().classroomID,t.classroom.institutionID=e.data().institutionID,t.classroom.name=e.data().name,t.classroom.grade=e.data().grade,t.classroom.capacity=parseInt(e.data().capacity),t.classroom.numberOfStudentsAssigned=e.data().numberOfStudentsAssigned,t.classroom.overSeenBy=e.data().overSeenBy,t.classroom.createdOn=e.data().createdOn)}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,institutionID:e.data().institutionID,title:e.data().title,grade:e.data().grade,code:e.data().code,duration:e.data().duration,durationUnit:e.data().durationUnit,instructor:e.data().instructor,description:e.data().description,createdOn:e.data().createdOn};t.courses.push(a)}))})),Kt.collection("classroom_courses").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,classroomID:e.data().classroomID};t.classroomCourses.push(a)}))}))}};a("eaf9");J$.render=W$,J$.__scopeId="data-v-41e94850";var Y$=J$,X$=Object(n["I"])("data-v-17ec0beb");Object(n["t"])("data-v-17ec0beb");var K$={class:"main-viewer"},Z$={class:"main-wrapper"},tG={class:"page-wrapper"},eG={class:"content"},aG={class:"row"},nG={class:"col-sm-4 col-3"},sG={class:"page-title"},iG={class:"col-sm-8 col-9 text-right m-b-20"},rG=Object(n["h"])("i",{class:"fas fa-times mr-2"},null,-1),oG=Object(n["g"])("Cancel"),cG={class:"row"},lG={class:"col-lg-8 offset-lg-2"},uG={class:"row"},dG={class:"col-sm-12"},mG={class:"form-group"},bG=Object(n["h"])("label",null,"Classroom ID",-1),hG={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},pG={class:"row"},OG={class:"col-sm-12"},fG={class:"form-group"},gG=Object(n["h"])("label",null,[Object(n["g"])("Name "),Object(n["h"])("span",{class:"text-danger"})],-1),jG={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},vG={class:"col-sm-12"},IG={class:"form-group"},DG=Object(n["h"])("label",null,[Object(n["g"])("Grade/Year"),Object(n["h"])("span",{class:"text-danger"})],-1),yG={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},xG={class:"col-sm-12"},wG={class:"form-group"},SG=Object(n["h"])("label",null,[Object(n["g"])("Capacity "),Object(n["h"])("span",{class:"text-danger"})],-1),CG={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},qG={class:"col-sm-12"},EG={class:"form-group"},kG=Object(n["h"])("label",null,"Overseen By",-1),UG=Object(n["h"])("option",{value:""},"Select Instructor",-1),AG={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},LG=Object(n["h"])("hr",{class:"mb-3"},null,-1),TG={class:"form-group text-center"},MG=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),RG=Object(n["g"])(" Loading... "),NG=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var BG=X$((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",K$,[Object(n["h"])("div",Z$,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",tG,[Object(n["h"])("div",eG,[Object(n["h"])("div",aG,[Object(n["h"])("div",nG,[Object(n["h"])("h4",sG,"Edit "+Object(n["z"])(i.classroom.name)+"'s Details",1)]),Object(n["h"])("div",iG,[Object(n["h"])(l,{class:"btn btn-outline-danger float-right",to:{name:"InstitutionClassroomDetails",params:{institutionID:i.institutionID,classroomID:i.classroomID}}},{default:X$((function(){return[rG,oG]})),_:1},8,["to"])])]),Object(n["h"])("div",cG,[Object(n["h"])("div",lG,[Object(n["h"])("form",null,[Object(n["h"])("div",uG,[Object(n["h"])("div",dG,[Object(n["h"])("div",mG,[bG,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("classroomID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.classroomID=t})},null,544),[[n["D"],i.form.classroomID]]),i.errors.classroomID?(Object(n["q"])(),Object(n["d"])("small",hG,Object(n["z"])(i.errors.classroomID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",pG,[Object(n["h"])("div",OG,[Object(n["h"])("div",fG,[gG,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("name")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.name=t})},null,544),[[n["D"],i.form.name]]),i.errors.name?(Object(n["q"])(),Object(n["d"])("small",jG,Object(n["z"])(i.errors.name),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",vG,[Object(n["h"])("div",IG,[DG,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("grade")}),class:"form-control",type:"text","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.grade=t})},null,544),[[n["D"],i.form.grade]]),i.errors.grade?(Object(n["q"])(),Object(n["d"])("small",yG,Object(n["z"])(i.errors.grade),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",xG,[Object(n["h"])("div",wG,[SG,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("capacity")}),class:"form-control",type:"email","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.capacity=t})},null,544),[[n["D"],i.form.capacity]]),i.errors.capacity?(Object(n["q"])(),Object(n["d"])("small",CG,Object(n["z"])(i.errors.capacity),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",qG,[Object(n["h"])("div",EG,[kG,Object(n["G"])(Object(n["h"])("select",{onChange:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("overSeenBy")}),class:"form-control select","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.overSeenBy=t})},[UG,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.employees,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.userID,value:t.userID},Object(n["z"])(t.fullname),9,["value"])})),128))],544),[[n["C"],i.form.overSeenBy]]),i.errors.overSeenBy?(Object(n["q"])(),Object(n["d"])("small",AG,Object(n["z"])(i.errors.overSeenBy),1)):Object(n["e"])("",!0)])])]),LG,Object(n["h"])("div",TG,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[MG,RG],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[11]||(e[11]=Object(n["H"])((function(){return r.attemptCreatingClassroom&&r.attemptCreatingClassroom.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Update Classroom Record"))])])])])]),Object(n["h"])(u)])]),NG])})),zG={name:"CreateClassroom",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"create classroom",institutionID:null,classroomID:null,institution:{},classroom:{},employees:[],form:{classroomID:"",name:"",grade:"",capacity:"",overSeenBy:""},errors:{classroomID:"",name:"",grade:"",capacity:"",overSeenBy:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},validateForm:function(){return this.form.classroomID||(this.errors.classroomID="Classroom ID is required!"),this.form.name||(this.errors.name="Name is required!"),this.form.grade||(this.errors.grade="Grade/Year is required!"),this.form.capacity||(this.errors.capacity="Capacity is required!"),this.form.overSeenBy||(this.errors.overSeenBy="Overseen By is required!"),!!(this.form.classroomID&&this.form.name&&this.form.grade&&this.form.capacity&&this.form.overSeenBy)},attemptCreatingClassroom:function(){var t=this;this.isLoading=!0,this.validateForm()?confirm("Do you want proceed with ".concat(this.form.name," classroom record update?"))&&Kt.collection("classrooms").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){e.ref.update({name:t.form.name,grade:t.form.grade,capacity:parseInt(t.form.capacity),numberOfStudentsAssigned:0,overSeenBy:t.form.overSeenBy}),t.isLoading=!1,t.$router.push({name:"InstitutionClassroomDetails",params:{institutionID:t.institutionID,classroomID:t.classroomID}})}))})).catch((function(e){t.isLoading=!1,alert(e)})):this.isLoading=!1},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){if("institution administrator"!==e.data().userRole){var a={id:e.id,userID:e.data().userID,institutionID:e.data().institutionID,fullname:e.data().fullname,email:e.data().email,userRole:e.data().userRole,accountType:e.data().accountType,address:e.data().address,phone:e.data().phone,gender:e.data().gender,dob:e.data().dob,avatar:e.data().avatar};t.employees.push(a)}}))})),Kt.collection("classrooms").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.form.classroomID=e.data().classroomID,t.classroom.classroomID=e.data().classroomID,t.form.institutionID=e.data().institutionID,t.classroom.institutionID=e.data().institutionID,t.form.name=e.data().name,t.classroom.name=e.data().name,t.form.grade=e.data().grade,t.classroom.grade=e.data().grade,t.form.capacity=parseInt(e.data().capacity),t.classroom.capacity=parseInt(e.data().capacity),t.form.numberOfStudentsAssigned=e.data().numberOfStudentsAssigned,t.classroom.numberOfStudentsAssigned=e.data().numberOfStudentsAssigned,t.form.overSeenBy=e.data().overSeenBy,t.classroom.overSeenBy=e.data().overSeenBy}))}))}};a("1b58");zG.render=BG,zG.__scopeId="data-v-17ec0beb";var PG=zG,_G=Object(n["I"])("data-v-764d40bf");Object(n["t"])("data-v-764d40bf");var FG={class:"main-viewer"},$G={class:"main-wrapper"},GG={class:"page-wrapper"},VG={class:"content"},HG={class:"row"},QG={class:"col-sm-7 col-3"},WG={class:"page-title"},JG={class:"col-sm-5 col-9 text-right m-b-20"},YG=Object(n["h"])("i",{class:"fas fa-chevron-right mr-2"},null,-1),XG=Object(n["g"])("Proceed to Questions"),KG=Object(n["h"])("i",{class:"fas fa-times mr-2"},null,-1),ZG=Object(n["g"])("Cancel"),tV={key:0,class:"row"},eV={class:"col-lg-8 offset-lg-2"},aV=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"col-sm-12 pr-3 pl-3"}," Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, quos ducimus fugit quas velit hic magni quisquam, distinctio facere ullam rem dicta quaerat in veniam nam itaque excepturi nostrum harum! ")],-1),nV={class:"row mt-5"},sV={class:"col-sm-12"},iV={class:"form-group"},rV=Object(n["h"])("label",null,"Title",-1),oV={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},cV={class:"col-sm-12"},lV={class:"form-group"},uV=Object(n["h"])("label",null,"Description",-1),dV={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},mV=Object(n["h"])("hr",{class:"mb-3"},null,-1),bV={class:"form-group text-center"},hV=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),pV=Object(n["g"])(" Loading... "),OV={key:1,class:"container-fluid"},fV={class:"row"},gV={class:"h2 text-center col-12"},jV={class:"h4 text-center col-12"},vV=Object(n["h"])("i",{class:"fas fa-times fa-2x"},null,-1),IV={class:"col-sm-8 offset-sm-2 mt-5",style:{"margin-bottom":"400px"}},DV={class:"form-group"},yV=Object(n["h"])("i",{class:"fas fa-upload mr-2"},null,-1),xV=Object(n["g"])("Publish Examination Instructions"),wV=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),SV=Object(n["g"])(" Loading... "),CV={class:"ui-input-element-container bg-light pt-3 col-10"},qV={class:"row"},EV={class:"row"},kV={class:"col-sm-10 offset-sm-1"},UV={class:"row"},AV={class:"form-group"},LV=Object(n["f"])('<option value="" data-v-764d40bf>Select UI Element</option><option value="h3" data-v-764d40bf>Main Heading (h3 tag)</option><option value="h4" data-v-764d40bf>Small Heading (h4 tag)</option><option value="p" data-v-764d40bf>Paragraph (p tag)</option><option value="ul" data-v-764d40bf>Unordered List (ul tag)</option><option value="ol" data-v-764d40bf>Ordered List (ol tag)</option>',6),TV={class:"form-group"},MV=Object(n["h"])("i",{class:"fas fa-times mr-2"},null,-1),RV=Object(n["g"])("Cancel"),NV=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var BV=_G((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("addinstruction-heading"),d=Object(n["x"])("addinstruction-paragraph"),m=Object(n["x"])("addinstruction-list"),b=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",FG,[Object(n["h"])("div",$G,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",GG,[Object(n["h"])("div",VG,[Object(n["h"])("div",HG,[Object(n["h"])("div",QG,[Object(n["h"])("h4",WG,Object(n["z"])(i.pageTitle),1)]),Object(n["h"])("div",JG,[Object(n["h"])(l,{class:"btn btn-outline-success float-right",to:{name:"InstitutionExaminationCourseQuestions",params:{institutionID:i.institutionID,classroomID:i.classroomID,examinationID:i.examinationID,timetableID:i.timetableID,courseID:i.courseID}}},{default:_G((function(){return[YG,XG]})),_:1},8,["to"]),Object(n["h"])(l,{class:"btn btn-outline-danger float-right mr-2",to:{name:"InstitutionClassroomDetails",params:{institutionID:i.institutionID,classroomID:i.classroomID}}},{default:_G((function(){return[KG,ZG]})),_:1},8,["to"])])]),i.isSelectedCourseQuestionCreated?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",tV,[Object(n["h"])("div",eV,[Object(n["h"])("form",null,[aV,Object(n["h"])("div",nV,[Object(n["h"])("div",sV,[Object(n["h"])("div",iV,[rV,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("title")}),class:"form-control",type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.title=t})},null,544),[[n["D"],i.form.title]]),i.errors.title?(Object(n["q"])(),Object(n["d"])("small",oV,Object(n["z"])(i.errors.title),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",cV,[Object(n["h"])("div",lV,[uV,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("description")}),class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.description=t})},null,544),[[n["D"],i.form.description]]),i.errors.description?(Object(n["q"])(),Object(n["d"])("small",dV,Object(n["z"])(i.errors.description),1)):Object(n["e"])("",!0)])])]),mV,Object(n["h"])("div",bV,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[hV,pV],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[5]||(e[5]=Object(n["H"])((function(){return r.attemptCreatingExaminationRecord&&r.attemptCreatingExaminationRecord.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Create Examination Questions"))])])])])),i.isSelectedCourseQuestionCreated?(Object(n["q"])(),Object(n["d"])("div",OV,[Object(n["h"])("div",fV,[Object(n["h"])("h3",gV,Object(n["z"])(i.questionInstruction.title),1),Object(n["h"])("h4",jV,Object(n["z"])("February, 2021."),1),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.questionInstruction.details,(function(t,e){return Object(n["q"])(),Object(n["d"])("div",{key:e,class:"container ui-item-container mt-2 b mb-2"},[i.hasUpdateBeenEnable?(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:Object(n["H"])((function(a){return r.deleteUIElement(t,e)}),["prevent"]),class:"badge badge-pill badge-danger"},[vV],8,["onClick"])):Object(n["e"])("",!0),Object(n["h"])("div",{class:"mt-4",innerHTML:t.elementString},null,8,["innerHTML"])])})),128)),Object(n["h"])("form",IV,[Object(n["h"])("div",DV,[!r.isEmptyObject(i.questionInstruction)&&i.questionInstruction.details.length>0&&!i.isLoading&&i.hasUpdateBeenEnable?(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[6]||(e[6]=Object(n["H"])((function(){return r.publishUIElementView&&r.publishUIElementView.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},[yV,xV])):Object(n["e"])("",!0),i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[wV,SV],8,["disabled"])):Object(n["e"])("",!0)])])]),Object(n["h"])("div",CV,[Object(n["h"])("div",qV,["h4"===i.selectedUITag||"h3"===i.selectedUITag?(Object(n["q"])(),Object(n["d"])(u,{key:0,tagName:i.selectedUITag},null,8,["tagName"])):Object(n["e"])("",!0),"p"===i.selectedUITag?(Object(n["q"])(),Object(n["d"])(d,{key:1,tagName:i.selectedUITag},null,8,["tagName"])):Object(n["e"])("",!0),"ul"===i.selectedUITag||"ol"===i.selectedUITag?(Object(n["q"])(),Object(n["d"])(m,{key:2,tagName:i.selectedUITag},null,8,["tagName"])):Object(n["e"])("",!0)]),Object(n["h"])("form",EV,[Object(n["h"])("div",kV,[Object(n["h"])("div",UV,[Object(n["h"])("div",{class:["offset-sm-1",{"col-sm-8":""!==i.selectedUITag,"col-sm-10":""===i.selectedUITag}]},[Object(n["h"])("div",AV,[Object(n["G"])(Object(n["h"])("select",{class:"form-control text-center","onUpdate:modelValue":e[7]||(e[7]=function(t){return i.selectedUITag=t})},[LV],512),[[n["C"],i.selectedUITag]])])],2),Object(n["h"])("div",{class:{"col-sm-2":""!==i.selectedUITag,"":""===i.selectedUITag}},[Object(n["h"])("div",TV,[""!==i.selectedUITag?(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[8]||(e[8]=Object(n["H"])((function(){return r.enableSelectedUIElementView&&r.enableSelectedUIElementView.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-danger btn-block"},[MV,RV])):Object(n["e"])("",!0)])],2)])])])])])):Object(n["e"])("",!0)]),Object(n["h"])(b)])]),NV])})),zV={class:"container-fluid mb-4"},PV={class:"row"},_V={class:"col-sm-8 offset-md-2 mb-3"},FV=Object(n["h"])("h5",{class:"h4 text-center"},"Add Heading",-1),$V={key:0,class:"form-text text-danger d-flex justify-content-center mb-0"},GV={class:"col-sm-6 offset-md-3 mb-2"};function VV(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",zV,[Object(n["h"])("div",PV,[Object(n["h"])("div",_V,[FV,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("headerString")}),type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.headerString=t})},null,544),[[n["D"],i.form.headerString]]),i.errors.headerString?(Object(n["q"])(),Object(n["d"])("small",$V,Object(n["z"])(i.errors.headerString),1)):Object(n["e"])("",!0)]),Object(n["h"])("div",GV,[Object(n["h"])("button",{onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.attemptAddingUIHeading&&r.attemptAddingUIHeading.apply(r,arguments)}),["prevent"])),class:"btn btn-block btn-success"},"Add UI Heading")])])])}var HV={name:"addinstruction-heading",props:{tagName:{type:String,required:!0}},data:function(){return{form:{headerString:""},errors:{headerString:""}}},methods:{attemptAddingUIHeading:function(){if(this.validateForm()){var t={};t.tagName=this.tagName,t.value=this.form.headerString,t.elementString="<".concat(this.tagName,' class="').concat(this.tagName,' text-center">').concat(this.form.headerString,"</").concat(this.tagName,">"),window.EventBus.emit("instruction-ui-element-added",t)}},validateForm:function(){return this.form.headerString||(this.errors.headerString="Header details is required!"),!!this.form.headerString},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}}};HV.render=VV;var QV=HV,WV={class:"container-fluid mb-4"},JV={class:"row"},YV={class:"col-sm-8 offset-md-2 mb-3"},XV=Object(n["h"])("h5",{class:"h4 text-center"},"Add Paragraph",-1),KV={key:0,class:"form-text text-danger d-flex justify-content-center mb-0"},ZV={class:"col-sm-6 offset-md-3 mb-2"};function tH(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",WV,[Object(n["h"])("div",JV,[Object(n["h"])("div",YV,[XV,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("paragraphString")}),class:"form-control",required:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.paragraphString=t})},null,544),[[n["D"],i.form.paragraphString]]),i.errors.paragraphString?(Object(n["q"])(),Object(n["d"])("small",KV,Object(n["z"])(i.errors.paragraphString),1)):Object(n["e"])("",!0)]),Object(n["h"])("div",ZV,[Object(n["h"])("button",{onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.attemptAddingUIParagraph&&r.attemptAddingUIParagraph.apply(r,arguments)}),["prevent"])),class:"btn btn-block btn-success"},"Add UI Paragraph")])])])}var eH={name:"addinstruction-paragraph",props:{tagName:{type:String,required:!0}},data:function(){return{form:{paragraphString:""},errors:{paragraphString:""}}},methods:{attemptAddingUIParagraph:function(){if(this.validateForm()){var t={};t.tagName=this.tagName,t.value=this.form.paragraphString,t.elementString="<".concat(this.tagName,">").concat(this.form.paragraphString,"</").concat(this.tagName,">"),window.EventBus.emit("instruction-ui-element-added",t)}},validateForm:function(){return this.form.paragraphString||(this.errors.paragraphString="Paragraph details is required!"),!!this.form.paragraphString},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}}};eH.render=tH;var aH=eH,nH={class:"container-fluid mb-4"},sH={class:"row"},iH={key:0,class:"col-sm-6 offset-sm-3 h5"},rH={key:1,class:"col-sm-6 offset-sm-3 mb-3"},oH={key:2,class:"col-sm-6 offset-sm-3 mb-3"},cH={class:"col-sm-12 mb-3"},lH={class:"h4 text-center"},uH={class:"col-sm-6 offset-sm-2 mb-3"},dH={key:0,class:"form-text text-danger d-flex justify-content-center mb-0"},mH={class:"col-sm-2 mb-3"},bH={class:"col-sm-6 offset-md-3 mb-2"};function hH(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",nH,[Object(n["h"])("div",sH,[i.UIList.length>0?(Object(n["q"])(),Object(n["d"])("h5",iH,"UI List Elements")):Object(n["e"])("",!0),"ul"===a.tagName?(Object(n["q"])(),Object(n["d"])("ul",rH,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.UIList,(function(t,e){return Object(n["q"])(),Object(n["d"])("li",{key:e},Object(n["z"])(t),1)})),128))])):Object(n["e"])("",!0),"ol"===a.tagName?(Object(n["q"])(),Object(n["d"])("ol",oH,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.UIList,(function(t,e){return Object(n["q"])(),Object(n["d"])("li",{key:e},Object(n["z"])(t),1)})),128))])):Object(n["e"])("",!0),Object(n["h"])("div",cH,[Object(n["h"])("h5",lH,"Add "+Object(n["z"])("ol"===a.tagName?"Ordered":"Unordered")+" List",1)]),Object(n["h"])("div",uH,[Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("listItem")}),type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.listItem=t}),class:"form-control",required:""},null,544),[[n["D"],i.form.listItem]]),i.errors.listItem?(Object(n["q"])(),Object(n["d"])("small",dH,Object(n["z"])(i.errors.listItem),1)):Object(n["e"])("",!0)]),Object(n["h"])("div",mH,[Object(n["h"])("button",{onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.attemptUpdatingUIListItem&&r.attemptUpdatingUIListItem.apply(r,arguments)}),["prevent"])),class:"btn btn-block btn-success"},"Add List Item")]),Object(n["h"])("div",bH,[Object(n["h"])("button",{disabled:i.UIList.length<=0,onClick:e[4]||(e[4]=Object(n["H"])((function(){return r.attemptAddingUIParagraph&&r.attemptAddingUIParagraph.apply(r,arguments)}),["prevent"])),class:"btn btn-block btn-success"},"Add UI List",8,["disabled"])])])])}var pH={name:"addinstruction-list",props:{tagName:{type:String,required:!0}},data:function(){return{UIList:[],form:{listItem:""},errors:{listItem:""}}},methods:{attemptUpdatingUIListItem:function(){this.validateForm()&&(this.UIList.push(this.form.listItem),this.form.listItem="")},attemptAddingUIParagraph:function(){var t={};t.tagName=this.tagName,t.value=this.UIList,t.elementString="<".concat(this.tagName,">");for(var e=0;e<this.UIList.length;e++)t.elementString+="<li>".concat(this.UIList[e],"</li>");t.elementString+="</".concat(this.tagName,">"),window.EventBus.emit("instruction-ui-element-added",t)},validateForm:function(){return this.form.listItem||(this.errors.listItem="List item details is required!"),!!this.form.listItem},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}}};pH.render=hH;var OH=pH,fH={name:"EditClassroomDetails",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj,"addinstruction-heading":QV,"addinstruction-paragraph":aH,"addinstruction-list":OH},data:function(){return{isLoading:!1,active:"registered institutions",institutionID:null,classroomID:null,courseID:null,examinationID:null,timetableID:null,institution:{},course:{},question:{},questionInstruction:{},isSelectedCourseQuestionCreated:!1,pageTitle:"",form:{title:"",description:""},errors:{title:"",description:""},selectedUITag:"",hasUpdateBeenEnable:!1}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},isInstructorLogin:function(){return"institution staff"===this.loggedUser.userRole}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},updateUIElements:function(t){this.questionInstruction&&(this.questionInstruction.details.push(t),this.enableSelectedUIElementView(),this.hasUpdateBeenEnable=!0)},deleteUIElement:function(t,e){var a=this.getTagNameDescription(t.tagName);confirm("Delete ".concat(a," at position ").concat(e+1))&&this.questionInstruction.details.splice(e,1)},getTagNameDescription:function(t){var e="";return"h3"===t||"h4"===t?e="UI heading item":"p"===t?e="UI paragraph item":"ol"!==t&&"ul"!==t||(e="UI list group item"),e},enableSelectedUIElementView:function(){this.selectedUITag=""},isEmptyObject:function(t){return te(t)},validateForm:function(){return this.form.title||(this.errors.title="Title is required!"),!!this.form.title},attemptCreatingExaminationRecord:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,!t.isSelectedCourseQuestionCreated){e.next=6;break}return e.next=4,t.getQuestionObject();case 4:return t.isLoading=!1,e.abrupt("return");case 6:if(t.validateForm()){e.next=9;break}return t.isLoading=!1,e.abrupt("return");case 9:a=Zd.a.v1(),Kt.collection("questions").add({questionID:a,institutionID:t.institutionID,classroomID:t.classroomID,courseID:t.courseID,examinationID:t.examinationID,timetableID:t.timetableID,createdOn:(new Date).getTime()}).then(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(n){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(n),s=Zd.a.v4(),Kt.collection("question_instructions").add({questionInstructionID:s,questionID:a,title:t.form.title,details:JSON.stringify([]),description:t.form.description,createdOn:(new Date).getTime()}).then(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,t.getQuestionObject();case 3:t.isLoading=!1;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.isLoading=!1,alert(e)}));case 11:case"end":return e.stop()}}),e)})))()},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},getQuestionObject:function(){var t=this;Kt.collection("questions").where("timetableID","==",this.timetableID).get().then((function(e){e.forEach((function(e){e.data().institutionID===t.institutionID&&t.classroomID===e.data().classroomID&&e.data().examinationID===t.examinationID&&e.data().courseID===t.courseID&&(t.question.questionID=e.data().questionID,t.question.institutionID=e.data().institutionID,t.question.classroomID=e.data().classroomID,t.question.courseID=e.data().courseID,t.question.examinationID=e.data().examinationID,t.question.timetableID=e.data().timetableID,t.question.createdOn=e.data().createdOn)})),t.isEmptyObject(t.question)?t.pageTitle="Create ".concat(t.course.title," (").concat(t.course.code,")'s Examination Question"):(t.isSelectedCourseQuestionCreated=!0,t.pageTitle="Manage ".concat(t.course.title," (").concat(t.course.code,")'s Examination Question"),t.hasUpdateBeenEnable=!1,Kt.collection("question_instructions").where("questionID","==",t.question.questionID).get().then((function(e){e.forEach((function(e){t.questionInstruction.questionInstructionID=e.data().questionInstructionID,t.questionInstruction.questionID=e.data().questionID,t.questionInstruction.title=e.data().title,t.questionInstruction.details=JSON.parse(e.data().details),t.questionInstruction.description=e.data().description,t.questionInstruction.createdOn=e.data().createdOn}))})))}))},publishUIElementView:function(){var t=this;this.isLoading=!0,Kt.collection("question_instructions").where("questionID","==",this.question.questionID).get().then((function(e){e.forEach(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.ref.update({details:JSON.stringify(t.questionInstruction.details)}),t.isLoading=!1,e.next=4,t.getQuestionObject();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){t.isLoading=!1,alert(e)}))}},mounted:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.EventBus.on("page-header-message-box",t.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",t.toggleMobileMenu),window.EventBus.on("instruction-ui-element-added",t.updateUIElements),t.isInstructorLogin||(alert("You are NOT allowed to view this page!!!"),t.$router.push({name:"InstitutionClassroomDetails",params:{institutionID:t.institutionID,classroomID:t.classroomID}})),e.next=6,t.getQuestionObject();case 6:case"end":return e.stop()}}),e)})))()},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID,this.courseID=this.$route.params.courseID,this.examinationID=this.$route.params.examinationID,this.timetableID=this.$route.params.timetableID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){e.data().courseID===t.courseID&&(t.course.id=e.id,t.course.courseID=e.data().courseID,t.course.institutionID=e.data().institutionID,t.course.title=e.data().title,t.course.grade=e.data().grade,t.course.code=e.data().code,t.course.duration=e.data().duration,t.course.durationUnit=e.data().durationUnit,t.course.instructor=e.data().instructor,t.course.description=e.data().description,t.course.createdOn=e.data().createdOn)}))}))}};a("c49c");fH.render=BV,fH.__scopeId="data-v-764d40bf";var gH=fH,jH={class:"main-wrapper"},vH={class:"page-wrapper"},IH={class:"content"},DH={class:"row"},yH={class:"col-sm-6 col-3"},xH={class:"page-title"},wH={class:"col-sm-6 text-right m-b-20"},SH=Object(n["h"])("i",{class:"fas fa-chevron-left mr-2"},null,-1),CH=Object(n["g"])("Back"),qH={class:"row"},EH={class:"col-lg-8 offset-lg-2"},kH={class:"row"},UH={class:"col-sm-12"},AH={class:"form-group"},LH=Object(n["h"])("label",null,"Examination Question ID",-1),TH={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},MH={class:"row"},RH={class:"col-sm-12"},NH={class:"form-group"},BH=Object(n["h"])("label",null,[Object(n["g"])("Examination Question "),Object(n["h"])("span",{class:"text-danger"})],-1),zH={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},PH={class:"col-sm-6"},_H={class:"form-group"},FH=Object(n["h"])("label",null,[Object(n["g"])("A"),Object(n["h"])("span",{class:"text-danger"})],-1),$H={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},GH={class:"col-sm-6"},VH={class:"form-group"},HH=Object(n["h"])("label",null,[Object(n["g"])("B"),Object(n["h"])("span",{class:"text-danger"})],-1),QH={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},WH={class:"col-sm-6"},JH={class:"form-group"},YH=Object(n["h"])("label",null,[Object(n["g"])("C "),Object(n["h"])("span",{class:"text-danger"})],-1),XH={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},KH={class:"col-sm-6"},ZH={class:"form-group"},tQ=Object(n["h"])("label",null,"D",-1),eQ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},aQ={class:"col-sm-12"},nQ={class:"form-group"},sQ=Object(n["h"])("label",null,"Answer Option",-1),iQ=Object(n["f"])('<option value="">Select Question Answer</option><option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option>',5),rQ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},oQ={class:"row"},cQ={class:"col-sm-12"},lQ={class:"form-group"},uQ=Object(n["h"])("label",null,"Extra Information",-1),dQ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},mQ=Object(n["h"])("hr",{class:"mb-3"},null,-1),bQ={class:"form-group text-center"},hQ=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),pQ=Object(n["g"])(" Loading... "),OQ=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);function fQ(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["h"])("div",jH,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",vH,[Object(n["h"])("div",IH,[Object(n["h"])("div",DH,[Object(n["h"])("div",yH,[Object(n["h"])("h4",xH,"Add Examination Question to "+Object(n["z"])(i.course.title)+" ("+Object(n["z"])(i.course.code)+")",1)]),Object(n["h"])("div",wH,[Object(n["h"])(l,{class:"btn btn-outline-secondary float-right mr-2",to:{name:"InstitutionExaminationCourseQuestions",params:{institutionID:i.institutionID,classroomID:i.classroomID,examinationID:i.examinationID,timetableID:i.timetableID,courseID:i.courseID}}},{default:Object(n["F"])((function(){return[SH,CH]})),_:1},8,["to"])])]),Object(n["h"])("div",qH,[Object(n["h"])("div",EH,[Object(n["h"])("form",null,[Object(n["h"])("div",kH,[Object(n["h"])("div",UH,[Object(n["h"])("div",AH,[LH,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("examinationQuestionID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.examinationQuestionID=t})},null,544),[[n["D"],i.form.examinationQuestionID]]),i.errors.examinationQuestionID?(Object(n["q"])(),Object(n["d"])("small",TH,Object(n["z"])(i.errors.examinationQuestionID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",MH,[Object(n["h"])("div",RH,[Object(n["h"])("div",NH,[BH,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("examQuestion")}),class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.examQuestion=t})},null,544),[[n["D"],i.form.examQuestion]]),i.errors.examQuestion?(Object(n["q"])(),Object(n["d"])("small",zH,Object(n["z"])(i.errors.examQuestion),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",PH,[Object(n["h"])("div",_H,[FH,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("a")}),class:"form-control",type:"text","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.a=t})},null,544),[[n["D"],i.form.a]]),i.errors.a?(Object(n["q"])(),Object(n["d"])("small",$H,Object(n["z"])(i.errors.a),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",GH,[Object(n["h"])("div",VH,[HH,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("b")}),class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.b=t})},null,544),[[n["D"],i.form.b]]),i.errors.b?(Object(n["q"])(),Object(n["d"])("small",QH,Object(n["z"])(i.errors.b),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",WH,[Object(n["h"])("div",JH,[YH,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("c")}),class:"form-control",type:"text","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.c=t})},null,544),[[n["D"],i.form.c]]),i.errors.c?(Object(n["q"])(),Object(n["d"])("small",XH,Object(n["z"])(i.errors.c),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",KH,[Object(n["h"])("div",ZH,[tQ,Object(n["G"])(Object(n["h"])("input",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("d")}),class:"form-control",type:"email","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.d=t})},null,544),[[n["D"],i.form.d]]),i.errors.d?(Object(n["q"])(),Object(n["d"])("small",eQ,Object(n["z"])(i.errors.d),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",aQ,[Object(n["h"])("div",nQ,[sQ,Object(n["G"])(Object(n["h"])("select",{onChange:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("answer")}),class:"form-control select","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.answer=t})},[iQ],544),[[n["C"],i.form.answer]]),i.errors.answer?(Object(n["q"])(),Object(n["d"])("small",rQ,Object(n["z"])(i.errors.answer),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",oQ,[Object(n["h"])("div",cQ,[Object(n["h"])("div",lQ,[uQ,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[15]||(e[15]=function(t){return r.updateErrorStatusOnInput("extraInformation")}),class:"form-control","onUpdate:modelValue":e[16]||(e[16]=function(t){return i.form.extraInformation=t})},null,544),[[n["D"],i.form.extraInformation]]),i.errors.extraInformation?(Object(n["q"])(),Object(n["d"])("small",dQ,Object(n["z"])(i.errors.extraInformation),1)):Object(n["e"])("",!0)])])]),mQ,Object(n["h"])("div",bQ,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[hQ,pQ],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[17]||(e[17]=Object(n["H"])((function(){return r.attemptCreatingExaminationQuestion&&r.attemptCreatingExaminationQuestion.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Create Examination Question"))])])])])]),Object(n["h"])(u)])]),OQ])}var gQ=a("3452"),jQ=a.n(gQ),vQ={name:"CreateExaminationQuestion",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"dashboard",institutionID:null,classroomID:null,courseID:null,examinationID:null,timetableID:null,institution:{},course:{},question:{},form:{examinationQuestionID:"",examQuestion:"",a:"",b:"",c:"",d:"",answer:"",extraInformation:""},errors:{examinationQuestionID:"",examQuestion:"",a:"",b:"",c:"",d:"",answer:"",extraInformation:""}}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},validateForm:function(){return this.form.examinationQuestionID||(this.errors.examinationQuestionID="Examination Question ID is required!"),this.form.examQuestion||(this.errors.examQuestion="Examination question is required!"),this.form.a||(this.errors.a="Option A is required!"),this.form.b||(this.errors.b="Option B is required!"),this.form.c||(this.errors.c="Option C is required!"),this.form.d||(this.errors.d="Option D is required!"),this.form.answer||(this.errors.answer="Answer option is required!"),!!(this.form.examinationQuestionID&&this.form.examQuestion&&this.form.a&&this.form.b&&this.form.c&&this.form.d&&this.form.answer)},attemptCreatingExaminationQuestion:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,t.validateForm()){e.next=4;break}return t.isLoading=!1,e.abrupt("return");case 4:Kt.collection("examination_questions").add({questionID:t.question.questionID,examinationQuestionID:t.form.examinationQuestionID,examQuestion:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.examQuestion)),A:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.a)),B:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.b)),C:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.c)),D:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.d)),answer:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.answer)),selectedOption:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse("")),extraInformation:t.form.extraInformation,createdOn:(new Date).getTime()}).then(function(){var e=Object(_n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(a),t.isLoading=!1,t.$router.push({name:"InstitutionExaminationCourseQuestions",params:{institutionID:t.institutionID,classroomID:t.classroomID,examinationID:t.examinationID,timetableID:t.timetableID,courseID:t.courseID}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.isLoading=!1,alert(e)}));case 5:case"end":return e.stop()}}),e)})))()},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID,this.courseID=this.$route.params.courseID,this.examinationID=this.$route.params.examinationID,this.timetableID=this.$route.params.timetableID,this.form.examinationQuestionID=Zd.a.v4(),Kt.collection("courses").where("courseID","==",this.courseID).get().then((function(e){e.forEach((function(e){t.course.id=e.id,t.course.courseID=e.data().courseID,t.course.institutionID=e.data().institutionID,t.course.title=e.data().title,t.course.grade=e.data().grade,t.course.code=e.data().code,t.course.duration=e.data().duration,t.course.durationUnit=e.data().durationUnit,t.course.instructor=e.data().instructor,t.course.description=e.data().description,t.course.createdOn=e.data().createdOn}))})),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("questions").where("timetableID","==",this.timetableID).get().then((function(e){e.forEach((function(e){e.data().institutionID===t.institutionID&&t.classroomID===e.data().classroomID&&e.data().examinationID===t.examinationID&&e.data().courseID===t.courseID&&(t.question.questionID=e.data().questionID,t.question.institutionID=e.data().institutionID,t.question.classroomID=e.data().classroomID,t.question.courseID=e.data().courseID,t.question.examinationID=e.data().examinationID,t.question.timetableID=e.data().timetableID,t.question.createdOn=e.data().createdOn)}))}))}};a("38ac");vQ.render=fQ;var IQ=vQ,DQ={class:"main-wrapper"},yQ={class:"page-wrapper"},xQ={class:"content"},wQ={class:"row"},SQ={class:"col-sm-6 col-3"},CQ={class:"page-title"},qQ={class:"col-sm-6 text-right m-b-20"},EQ=Object(n["h"])("i",{class:"fas fa-plus mr-2"},null,-1),kQ=Object(n["g"])("Add Question"),UQ=Object(n["h"])("i",{class:"fas fa-times mr-2"},null,-1),AQ=Object(n["g"])("Back to Course Details"),LQ=Object(n["h"])("i",{class:"fas fa-chevron-left mr-2"},null,-1),TQ=Object(n["g"])("Back"),MQ={key:0,class:"row"},RQ={class:"col-sm-8 offset-sm-2 mt-5"},NQ={class:"jumbotron text-center"},BQ={class:"h3"},zQ={key:1,class:"container-fluid"},PQ={class:"row filter-row"},_Q={class:"col-sm-6 col-md-3"},FQ={class:"form-group form-focus"},$Q=Object(n["h"])("label",{class:"focus-label"},"Examination Question ID",-1),GQ={class:"col-sm-6 col-md-3"},VQ={class:"form-group form-focus"},HQ=Object(n["h"])("label",{class:"focus-label"},"Question",-1),QQ={class:"col-sm-6 col-md-3"},WQ={class:"form-group form-focus"},JQ=Object(n["h"])("label",{class:"focus-label"},"Options",-1),YQ={class:"col-sm-6 col-md-3"},XQ={class:"row"},KQ={class:"col-md-12"},ZQ={class:"row"},tW={class:"card-body col-sm-1"},eW={class:"serial-number item-font"},aW={class:"card-body col-sm-10"},nW={class:"row pr-3 pl-3"},sW={class:""},iW={class:"row"},rW={class:"col-12 mt-5"},oW={class:"row"},cW={class:"col-sm-6"},lW={class:"form-group"},uW={class:"col-sm-6"},dW={class:"form-group"},mW={class:"col-sm-6"},bW={class:"form-group"},hW={class:"col-sm-6"},pW={class:"form-group"},OW={class:"row"},fW={class:"answer-box mt-3"},gW=Object(n["h"])("span",null,"Answer",-1),jW={class:"item-font"},vW={class:"card-body col-sm-1"},IW={class:"action-box"},DW=Object(n["h"])("i",{class:"fa fa-edit fa-2x"},null,-1),yW=Object(n["h"])("i",{class:"fa fa-trash fa-2x"},null,-1),xW=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);function wW(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["h"])("div",DQ,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",yQ,[Object(n["h"])("div",xQ,[Object(n["h"])("div",wQ,[Object(n["h"])("div",SQ,[Object(n["h"])("h4",CQ,Object(n["z"])(i.course.title)+" ("+Object(n["z"])(i.course.code)+")'s Examination Questions",1)]),Object(n["h"])("div",qQ,[Object(n["h"])(l,{class:"btn btn-outline-success float-right",to:{name:"InstitutionAddExaminationQuestion",params:{institutionID:i.institutionID,classroomID:i.classroomID,examinationID:i.examinationID,timetableID:i.timetableID,courseID:i.courseID}}},{default:Object(n["F"])((function(){return[EQ,kQ]})),_:1},8,["to"]),Object(n["h"])(l,{class:"btn btn-outline-danger float-right mr-2",to:{name:"InstitutionClassroomDetails",params:{institutionID:i.institutionID,classroomID:i.classroomID}}},{default:Object(n["F"])((function(){return[UQ,AQ]})),_:1},8,["to"]),Object(n["h"])(l,{class:"btn btn-outline-secondary float-right mr-2",to:{name:"InstitutionExaminationCourseQuestionInstructions",params:{institutionID:i.institutionID,classroomID:i.classroomID,examinationID:i.examinationID,timetableID:i.timetableID,courseID:i.courseID}}},{default:Object(n["F"])((function(){return[LQ,TQ]})),_:1},8,["to"])])]),i.examinationQuestions.length<=0?(Object(n["q"])(),Object(n["d"])("div",MQ,[Object(n["h"])("div",RQ,[Object(n["h"])("div",NQ,[Object(n["h"])("h3",BQ,Object(n["z"])(i.emptyMessage),1)])])])):(Object(n["q"])(),Object(n["d"])("div",zQ,[Object(n["h"])("div",PQ,[Object(n["h"])("div",_Q,[Object(n["h"])("div",FQ,[$Q,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.search.classroomID=t})},null,544),[[n["D"],i.search.classroomID]])])]),Object(n["h"])("div",GQ,[Object(n["h"])("div",VQ,[HQ,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.name=t})},null,544),[[n["D"],i.search.name]])])]),Object(n["h"])("div",QQ,[Object(n["h"])("div",WQ,[JQ,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.grade=t})},null,544),[[n["D"],i.search.grade]])])]),Object(n["h"])("div",YQ,[Object(n["h"])("a",{onClick:e[7]||(e[7]=Object(n["H"])((function(){return t.searchClassrooms&&t.searchClassrooms.apply(t,arguments)}),["prevent"])),class:"btn btn-success btn-block text-white"}," Search ")])]),Object(n["h"])("div",XQ,[Object(n["h"])("div",KQ,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.examinationQuestions,(function(t,e){return Object(n["q"])(),Object(n["d"])("div",{key:e,class:"card"},[Object(n["h"])("div",ZQ,[Object(n["h"])("div",tW,[Object(n["h"])("div",eW,[Object(n["h"])("strong",null,Object(n["z"])(e+1),1)])]),Object(n["h"])("div",aW,[Object(n["h"])("div",nW,[Object(n["h"])("div",sW,Object(n["z"])(t.examQuestion),1)]),Object(n["h"])("div",iW,[Object(n["h"])("form",rW,[Object(n["h"])("div",oW,[Object(n["h"])("div",cW,[Object(n["h"])("div",lW,[Object(n["h"])("input",{value:" A :  "+t["A"],class:"form-control bg-white",type:"text",readonly:""},null,8,["value"])])]),Object(n["h"])("div",uW,[Object(n["h"])("div",dW,[Object(n["h"])("input",{value:" B :  "+t["B"],class:"form-control bg-white",type:"text",readonly:""},null,8,["value"])])]),Object(n["h"])("div",mW,[Object(n["h"])("div",bW,[Object(n["h"])("input",{value:" C :  "+t["C"],class:"form-control bg-white",type:"text",readonly:""},null,8,["value"])])]),Object(n["h"])("div",hW,[Object(n["h"])("div",pW,[Object(n["h"])("input",{value:" D :  "+t["D"],class:"form-control bg-white",type:"text",readonly:""},null,8,["value"])])])])])]),Object(n["h"])("div",OW,[Object(n["h"])("div",fW,[gW,Object(n["h"])("span",jW,[Object(n["h"])("strong",null,Object(n["z"])(t.answer),1)])])])]),Object(n["h"])("div",vW,[Object(n["h"])("div",IW,[Object(n["h"])("button",{onClick:Object(n["H"])((function(e){return r.attemptEditingExaminationQuestion(t.examinationQuestionID)}),["prevent"]),class:"btn btn-warning mb-3"},[DW],8,["onClick"]),Object(n["h"])("button",{onClick:Object(n["H"])((function(e){return r.attemptDeleteExaminationQuestion(t.examinationQuestionID)}),["prevent"]),class:"btn btn-danger mt-3"},[yW],8,["onClick"])])])])])})),128))])])]))]),Object(n["h"])(u)])]),xW])}var SW={name:"ExaminationQuestions",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"registered institutions",institutionID:null,classroomID:null,courseID:null,examinationID:null,timetableID:null,institution:{},course:{},question:{},examinationQuestions:[],search:{},emptyMessage:"Examination Question list is empty."}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},attemptEditingExaminationQuestion:function(t){this.$router.push({name:"InstitutionEditExaminationCourseQuestion",params:{institutionID:this.institutionID,classroomID:this.classroomID,examinationID:this.examinationID,timetableID:this.timetableID,courseID:this.courseID,examinationQuestionID:t}})},attemptDeleteExaminationQuestion:function(t){var e=this;confirm("Delete examination question?")&&Kt.collection("examination_questions").where("examinationQuestionID","==",t).get().then((function(a){a.forEach((function(a){a.ref.delete(),e.examinationQuestions.map((function(a){if(a.examinationQuestionID===t){var n=e.examinationQuestions.indexOf(a);e.examinationQuestions.splice(n,1)}}))}))}))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID,this.courseID=this.$route.params.courseID,this.examinationID=this.$route.params.examinationID,this.timetableID=this.$route.params.timetableID,Kt.collection("courses").where("courseID","==",this.courseID).get().then((function(e){e.forEach((function(e){t.course.id=e.id,t.course.courseID=e.data().courseID,t.course.institutionID=e.data().institutionID,t.course.title=e.data().title,t.course.grade=e.data().grade,t.course.code=e.data().code,t.course.duration=e.data().duration,t.course.durationUnit=e.data().durationUnit,t.course.instructor=e.data().instructor,t.course.description=e.data().description,t.course.createdOn=e.data().createdOn}))})),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("questions").where("timetableID","==",this.timetableID).get().then((function(e){e.forEach((function(e){e.data().institutionID===t.institutionID&&t.classroomID===e.data().classroomID&&e.data().examinationID===t.examinationID&&e.data().courseID===t.courseID&&(t.question.questionID=e.data().questionID,t.question.institutionID=e.data().institutionID,t.question.classroomID=e.data().classroomID,t.question.courseID=e.data().courseID,t.question.examinationID=e.data().examinationID,t.question.timetableID=e.data().timetableID,t.question.createdOn=e.data().createdOn)})),te(t.question)||Kt.collection("examination_questions").where("questionID","==",t.question.questionID).get().then((function(e){e.forEach((function(e){var a={questionID:e.data().questionID,examinationQuestionID:e.data().examinationQuestionID,examQuestion:jQ.a.enc.Base64.parse(e.data().examQuestion).toString(jQ.a.enc.Utf8),A:jQ.a.enc.Base64.parse(e.data()["A"]).toString(jQ.a.enc.Utf8),B:jQ.a.enc.Base64.parse(e.data()["B"]).toString(jQ.a.enc.Utf8),C:jQ.a.enc.Base64.parse(e.data()["C"]).toString(jQ.a.enc.Utf8),D:jQ.a.enc.Base64.parse(e.data()["D"]).toString(jQ.a.enc.Utf8),answer:jQ.a.enc.Base64.parse(e.data().answer).toString(jQ.a.enc.Utf8),selectedOption:jQ.a.enc.Base64.parse(e.data().selectedOption).toString(jQ.a.enc.Utf8),extraInformation:e.data().extraInformation,createdOn:e.data().createdOn};t.examinationQuestions.push(a)}))}))}))}};a("b665");SW.render=wW;var CW=SW,qW={class:"main-wrapper"},EW={class:"page-wrapper"},kW={class:"content"},UW={class:"row"},AW={class:"col-sm-6 col-3"},LW={class:"page-title"},TW={class:"col-sm-6 text-right m-b-20"},MW=Object(n["h"])("i",{class:"fas fa-chevron-left mr-2"},null,-1),RW=Object(n["g"])("Back"),NW={class:"row"},BW={class:"col-lg-8 offset-lg-2"},zW={class:"row"},PW={class:"col-sm-12"},_W={class:"form-group"},FW=Object(n["h"])("label",null,"Examination Question ID",-1),$W={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},GW={class:"row"},VW={class:"col-sm-12"},HW={class:"form-group"},QW=Object(n["h"])("label",null,[Object(n["g"])("Examination Question "),Object(n["h"])("span",{class:"text-danger"})],-1),WW={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},JW={class:"col-sm-6"},YW={class:"form-group"},XW=Object(n["h"])("label",null,[Object(n["g"])("A"),Object(n["h"])("span",{class:"text-danger"})],-1),KW={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},ZW={class:"col-sm-6"},tJ={class:"form-group"},eJ=Object(n["h"])("label",null,[Object(n["g"])("B"),Object(n["h"])("span",{class:"text-danger"})],-1),aJ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},nJ={class:"col-sm-6"},sJ={class:"form-group"},iJ=Object(n["h"])("label",null,[Object(n["g"])("C "),Object(n["h"])("span",{class:"text-danger"})],-1),rJ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},oJ={class:"col-sm-6"},cJ={class:"form-group"},lJ=Object(n["h"])("label",null,"D",-1),uJ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},dJ={class:"col-sm-12"},mJ={class:"form-group"},bJ=Object(n["h"])("label",null,"Answer Option",-1),hJ=Object(n["f"])('<option value="">Select Question Answer</option><option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option>',5),pJ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},OJ={class:"row"},fJ={class:"col-sm-12"},gJ={class:"form-group"},jJ=Object(n["h"])("label",null,"Extra Information",-1),vJ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},IJ=Object(n["h"])("hr",{class:"mb-3"},null,-1),DJ={class:"form-group text-center"},yJ=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),xJ=Object(n["g"])(" Loading... "),wJ=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);function SJ(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["h"])("div",qW,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",EW,[Object(n["h"])("div",kW,[Object(n["h"])("div",UW,[Object(n["h"])("div",AW,[Object(n["h"])("h4",LW,"Edit Examination Question to "+Object(n["z"])(i.course.title)+" ("+Object(n["z"])(i.course.code)+")",1)]),Object(n["h"])("div",TW,[Object(n["h"])(l,{class:"btn btn-outline-secondary float-right mr-2",to:{name:"InstitutionExaminationCourseQuestions",params:{institutionID:i.institutionID,classroomID:i.classroomID,examinationID:i.examinationID,timetableID:i.timetableID,courseID:i.courseID}}},{default:Object(n["F"])((function(){return[MW,RW]})),_:1},8,["to"])])]),Object(n["h"])("div",NW,[Object(n["h"])("div",BW,[Object(n["h"])("form",null,[Object(n["h"])("div",zW,[Object(n["h"])("div",PW,[Object(n["h"])("div",_W,[FW,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("examinationQuestionID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.examinationQuestionID=t})},null,544),[[n["D"],i.form.examinationQuestionID]]),i.errors.examinationQuestionID?(Object(n["q"])(),Object(n["d"])("small",$W,Object(n["z"])(i.errors.examinationQuestionID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",GW,[Object(n["h"])("div",VW,[Object(n["h"])("div",HW,[QW,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("examQuestion")}),class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.examQuestion=t})},null,544),[[n["D"],i.form.examQuestion]]),i.errors.examQuestion?(Object(n["q"])(),Object(n["d"])("small",WW,Object(n["z"])(i.errors.examQuestion),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",JW,[Object(n["h"])("div",YW,[XW,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("a")}),class:"form-control",type:"text","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.a=t})},null,544),[[n["D"],i.form.a]]),i.errors.a?(Object(n["q"])(),Object(n["d"])("small",KW,Object(n["z"])(i.errors.a),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",ZW,[Object(n["h"])("div",tJ,[eJ,Object(n["G"])(Object(n["h"])("input",{onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("b")}),class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.b=t})},null,544),[[n["D"],i.form.b]]),i.errors.b?(Object(n["q"])(),Object(n["d"])("small",aJ,Object(n["z"])(i.errors.b),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",nJ,[Object(n["h"])("div",sJ,[iJ,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("c")}),class:"form-control",type:"text","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.c=t})},null,544),[[n["D"],i.form.c]]),i.errors.c?(Object(n["q"])(),Object(n["d"])("small",rJ,Object(n["z"])(i.errors.c),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",oJ,[Object(n["h"])("div",cJ,[lJ,Object(n["G"])(Object(n["h"])("input",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("d")}),class:"form-control",type:"email","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.d=t})},null,544),[[n["D"],i.form.d]]),i.errors.d?(Object(n["q"])(),Object(n["d"])("small",uJ,Object(n["z"])(i.errors.d),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",dJ,[Object(n["h"])("div",mJ,[bJ,Object(n["G"])(Object(n["h"])("select",{onChange:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("answer")}),class:"form-control select","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.answer=t})},[hJ],544),[[n["C"],i.form.answer]]),i.errors.answer?(Object(n["q"])(),Object(n["d"])("small",pJ,Object(n["z"])(i.errors.answer),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",OJ,[Object(n["h"])("div",fJ,[Object(n["h"])("div",gJ,[jJ,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[15]||(e[15]=function(t){return r.updateErrorStatusOnInput("extraInformation")}),class:"form-control","onUpdate:modelValue":e[16]||(e[16]=function(t){return i.form.extraInformation=t})},null,544),[[n["D"],i.form.extraInformation]]),i.errors.extraInformation?(Object(n["q"])(),Object(n["d"])("small",vJ,Object(n["z"])(i.errors.extraInformation),1)):Object(n["e"])("",!0)])])]),IJ,Object(n["h"])("div",DJ,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[yJ,xJ],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[17]||(e[17]=Object(n["H"])((function(){return r.attemptUpdatingExaminationQuestion&&r.attemptUpdatingExaminationQuestion.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Update Examination Question"))])])])])]),Object(n["h"])(u)])]),wJ])}var CJ={name:"EditExaminationCourseQuestion",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"dashboard",institutionID:null,classroomID:null,courseID:null,examinationID:null,timetableID:null,examinationQuestionID:null,institution:{},course:{},question:{},form:{examinationQuestionID:"",examQuestion:"",a:"",b:"",c:"",d:"",answer:"",extraInformation:""},errors:{examinationQuestionID:"",examQuestion:"",a:"",b:"",c:"",d:"",answer:"",extraInformation:""}}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},validateForm:function(){return this.form.examinationQuestionID||(this.errors.examinationQuestionID="Examination Question ID is required!"),this.form.examQuestion||(this.errors.examQuestion="Examination question is required!"),this.form.a||(this.errors.a="Option A is required!"),this.form.b||(this.errors.b="Option B is required!"),this.form.c||(this.errors.c="Option C is required!"),this.form.d||(this.errors.d="Option D is required!"),this.form.answer||(this.errors.answer="Answer option is required!"),!!(this.form.examinationQuestionID&&this.form.examQuestion&&this.form.a&&this.form.b&&this.form.c&&this.form.d&&this.form.answer)},attemptUpdatingExaminationQuestion:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,t.validateForm()){e.next=4;break}return t.isLoading=!1,e.abrupt("return");case 4:Kt.collection("examination_questions").where("examinationQuestionID","==",t.form.examinationQuestionID).get().then((function(e){e.forEach((function(e){e.ref.update({examQuestion:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.examQuestion)),A:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.a)),B:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.b)),C:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.c)),D:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.d)),answer:jQ.a.enc.Base64.stringify(jQ.a.enc.Utf8.parse(t.form.answer)),extraInformation:t.form.extraInformation})})),t.isLoading=!1,t.$router.push({name:"InstitutionExaminationCourseQuestions",params:{institutionID:t.institutionID,classroomID:t.classroomID,examinationID:t.examinationID,timetableID:t.timetableID,courseID:t.courseID}})}));case 5:case"end":return e.stop()}}),e)})))()},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.classroomID=this.$route.params.classroomID,this.courseID=this.$route.params.courseID,this.examinationID=this.$route.params.examinationID,this.timetableID=this.$route.params.timetableID,this.examinationQuestionID=this.$route.params.examinationQuestionID,Kt.collection("courses").where("courseID","==",this.courseID).get().then((function(e){e.forEach((function(e){t.course.id=e.id,t.course.courseID=e.data().courseID,t.course.institutionID=e.data().institutionID,t.course.title=e.data().title,t.course.grade=e.data().grade,t.course.code=e.data().code,t.course.duration=e.data().duration,t.course.durationUnit=e.data().durationUnit,t.course.instructor=e.data().instructor,t.course.description=e.data().description,t.course.createdOn=e.data().createdOn}))})),Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("questions").where("timetableID","==",this.timetableID).get().then((function(e){e.forEach((function(e){e.data().institutionID===t.institutionID&&t.classroomID===e.data().classroomID&&e.data().examinationID===t.examinationID&&e.data().courseID===t.courseID&&(t.question.questionID=e.data().questionID,t.question.institutionID=e.data().institutionID,t.question.classroomID=e.data().classroomID,t.question.courseID=e.data().courseID,t.question.examinationID=e.data().examinationID,t.question.timetableID=e.data().timetableID,t.question.createdOn=e.data().createdOn)}))})),Kt.collection("examination_questions").where("examinationQuestionID","==",this.examinationQuestionID).get().then((function(e){e.forEach((function(e){t.form.examinationQuestionID=e.data().examinationQuestionID,t.form.examQuestion=jQ.a.enc.Base64.parse(e.data().examQuestion).toString(jQ.a.enc.Utf8),t.form.a=jQ.a.enc.Base64.parse(e.data()["A"]).toString(jQ.a.enc.Utf8),t.form.b=jQ.a.enc.Base64.parse(e.data()["B"]).toString(jQ.a.enc.Utf8),t.form.c=jQ.a.enc.Base64.parse(e.data()["C"]).toString(jQ.a.enc.Utf8),t.form.d=jQ.a.enc.Base64.parse(e.data()["D"]).toString(jQ.a.enc.Utf8),t.form.answer=jQ.a.enc.Base64.parse(e.data().answer).toString(jQ.a.enc.Utf8),t.form.extraInformation=e.data().extraInformation}))}))}};a("164d");CJ.render=SJ;var qJ=CJ,EJ=Object(n["I"])("data-v-88c3a7b8");Object(n["t"])("data-v-88c3a7b8");var kJ={class:"main-viewer"},UJ={class:"main-wrapper"},AJ={class:"page-wrapper"},LJ={class:"content"},TJ={class:"row"},MJ={class:"col-sm-8 col-3"},RJ={class:"page-title"},NJ={class:"col-sm-4 col-9 text-right m-b-20"},BJ=Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"},null,-1),zJ=Object(n["g"])("Back"),PJ={key:0,class:"row"},_J=Object(n["h"])("div",{class:"col-sm-8 offset-sm-2 mt-5"},[Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h3"},"Classroom list for the selected examination is Empty!")])],-1),FJ={key:1,class:"row"},$J={style:{"list-style":"none",width:"100%",margin:"0px",padding:"0px"}},GJ={class:"card text-dark"},VJ={class:"card-body"},HJ={class:"h3 text-center mt-3 mb-3",style:{"text-transform":"capitalize"}},QJ={class:"card-subtitle h5 mb-2 text-muted text-center"},WJ={class:"list-group list-group-flush mb-5"},JJ={class:"list-group-item transparent-bg"},YJ={class:"row"},XJ=Object(n["h"])("div",{class:"col-3"},"Registered Course Count",-1),KJ=Object(n["h"])("div",{class:"col-1"},":",-1),ZJ=Object(n["g"])(),tY={class:"col-8"},eY={class:"text-dark"},aY={class:"list-group-item transparent-bg"},nY={class:"row"},sY=Object(n["h"])("div",{class:"col-3"},"Number of Examination Participants",-1),iY=Object(n["h"])("div",{class:"col-1"},":",-1),rY=Object(n["g"])(),oY={class:"col-8"},cY={class:"text-dark"},lY=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var uY=EJ((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",kJ,[Object(n["h"])("div",UJ,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",AJ,[Object(n["h"])("div",LJ,[Object(n["h"])("div",TJ,[Object(n["h"])("div",MJ,[Object(n["h"])("h4",RJ,[Object(n["h"])("strong",null,Object(n["z"])(i.examination.title)+" ("+Object(n["z"])(i.examination.academicSession)+") classrooms",1)])]),Object(n["h"])("div",NJ,[Object(n["h"])(l,{class:"btn btn-outline-secondary float-right",to:{name:"InstitutionExamination",params:{institutionID:i.institutionID,examinationID:i.examinationID}}},{default:EJ((function(){return[BJ,zJ]})),_:1},8,["to"])])]),r.isEmptyObject(i.studentExaminationGrade)?(Object(n["q"])(),Object(n["d"])("div",PJ,[_J])):Object(n["e"])("",!0),r.isEmptyObject(i.studentExaminationGrade)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",FJ,[Object(n["h"])("ul",$J,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.studentExaminationGrade,(function(t,e){return Object(n["q"])(),Object(n["d"])("li",{class:"mb-5 col-sm-8 offset-sm-2",key:e},[Object(n["h"])(l,{to:{name:"InstitutionExaminationClassroomCourses",params:{institutionID:i.institutionID,examinationID:i.examinationID,classroomID:t.classroomID}}},{default:EJ((function(){return[Object(n["h"])("div",GJ,[Object(n["h"])("div",VJ,[Object(n["h"])("h3",HJ,Object(n["z"])(r.getClassroomRecordByID(t.classroomID)?r.getClassroomRecordByID(t.classroomID).name:"")+" ("+Object(n["z"])(r.getClassroomRecordByID(t.classroomID)?r.getClassroomRecordByID(t.classroomID).grade:"")+")",1),Object(n["h"])("h6",QJ,"Capacity: "+Object(n["z"])(r.getClassroomRecordByID(t.classroomID)?r.getClassroomRecordByID(t.classroomID).capacity:0),1),Object(n["h"])("ul",WJ,[Object(n["h"])("li",JJ,[Object(n["h"])("div",YJ,[XJ,KJ,ZJ,Object(n["h"])("div",tY,[Object(n["h"])("strong",eY,Object(n["z"])(r.getNumberOfRegisteredCourse(t.classroomID)),1)])])]),Object(n["h"])("li",aY,[Object(n["h"])("div",nY,[sY,iY,rY,Object(n["h"])("div",oY,[Object(n["h"])("strong",cY,Object(n["z"])(r.getNumberOfParticipant(t.classroomID,t.courseID)),1)])])])])])])]})),_:2},1032,["to"])])})),128))])]))]),Object(n["h"])(u)])]),lY])})),dY=(a("b64b"),{name:"Employees",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,examinationID:null,classroomID:null,institution:{},examination:{},courses:[],studentExaminationGrade:[],classrooms:[],classroomCourses:[]}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},getObjectKeys:function(){return te(this.examinationSchedule)?[]:Object.keys(this.examinationSchedule)}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},getNumberOfRegisteredCourse:function(t){var e=0;return this.classroomCourses.map((function(a){a.classroomID===t&&(e+=1)})),e},getNumberOfParticipant:function(t,e){var a=0;return this.studentExaminationGrade.map((function(n){n.classroomID===t&&n.courseID===e&&(a+=1)})),a},processDateFromPaperID:function(t){return Kr(parseInt(t.split("-")[0]))},processTime:function(t,e){var a=new Date("".concat(this.processDateFromPaperID(e)," ").concat(t));return Zr(a.getTime())},getCourseRecordByID:function(t){var e=null;return this.courses.map((function(a){a.courseID===t&&(e=a)})),e},getClassroomRecordByID:function(t){var e=null;return this.classrooms.map((function(a){a.classroomID===t&&(e=a)})),e},customizeDate:function(t){return Kr(t)},customizeTime:function(t){return Zr(t)},isEmptyObject:function(t){return te(t)},initialization:function(){var t=this;Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("examinations").where("examinationID","==",this.examinationID).get().then((function(e){e.forEach((function(e){t.examination.id=e.id,t.examination.examinationID=e.data().examinationID,t.examination.institutionID=e.data().institutionID,t.examination.title=e.data().title,t.examination.academicSession=e.data().academicSession,t.examination.examinationStatus=e.data().examinationStatus,t.examination.startDate=e.data().startDate,t.examination.endDate=e.data().endDate,t.examination.examinationDescription=e.data().examinationDescription,t.examination.createdOn=e.data().createdOn}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,institutionID:e.data().institutionID,title:e.data().title,grade:e.data().grade,code:e.data().code,duration:e.data().duration,durationUnit:e.data().durationUnit,instructor:e.data().instructor,description:e.data().description,createdOn:e.data().createdOn};t.courses.push(a)}))})),Kt.collection("student_examination_grades").where("examinationID","==",this.examinationID).get().then((function(e){e.forEach((function(e){if(e.data().institutionID===t.institutionID&&e.data().examinationID===t.examinationID){var a={studentID:e.data().studentID,classroomID:e.data().classroomID,examinationID:e.data().examinationID,courseID:e.data().courseID};t.studentExaminationGrade.push(a)}})),console.log(t.studentExaminationGrade)})),Kt.collection("classrooms").where("institutionID","==",this.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,classroomID:e.data().classroomID,institutionID:e.data().institutionID,name:e.data().name,grade:e.data().grade,capacity:parseInt(e.data().capacity),numberOfStudentsAssigned:e.data().numberOfStudentsAssigned,overSeenBy:e.data().overSeenBy,createdOn:e.data().createdOn};t.classrooms.push(a)}))})),Kt.collection("classroom_courses").get().then((function(e){e.forEach((function(e){var a={id:e.id,classroomID:e.data().classroomID,courseID:e.data().courseID};t.classroomCourses.push(a)}))}))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,t.examinationID=t.$route.params.examinationID,e.next=4,t.initialization();case 4:case"end":return e.stop()}}),e)})))()}});a("a1f3");dY.render=uY,dY.__scopeId="data-v-88c3a7b8";var mY=dY,bY=Object(n["I"])("data-v-041e3b5a");Object(n["t"])("data-v-041e3b5a");var hY={class:"main-viewer"},pY={class:"main-wrapper"},OY={class:"page-wrapper"},fY={class:"content"},gY={class:"row"},jY={class:"col-sm-8 col-3"},vY={class:"page-title"},IY={class:"col-sm-4 col-9 text-right m-b-20"},DY=Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"},null,-1),yY=Object(n["g"])("Back"),xY={key:0,class:"row"},wY=Object(n["h"])("div",{class:"col-sm-8 offset-sm-2 mt-5"},[Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h3"},"Course list for the selected Classroom is Empty!")])],-1),SY={key:1,class:"row"},CY={style:{"list-style":"none",width:"100%",margin:"0px",padding:"0px"}},qY={class:"card"},EY={class:"card-body"},kY={class:"row mb-3"},UY={class:"col-md-10 offset-md-1"},AY={class:"h4 text-center mt-3 mb-4"},LY={class:"list-group list-group-flush mb-5 col-8 offset-2"},TY={class:"list-group-item transparent-bg"},MY={class:"row"},RY=Object(n["h"])("div",{class:"col-3"},"Number of Participants",-1),NY=Object(n["h"])("div",{class:"col-1"},":",-1),BY=Object(n["g"])(),zY={class:"col-8"},PY={class:"text-dark"},_Y={class:"list-group-item transparent-bg"},FY={class:"row"},$Y=Object(n["h"])("div",{class:"col-3"},"Minimum Score",-1),GY=Object(n["h"])("div",{class:"col-1"},":",-1),VY=Object(n["g"])(),HY={class:"col-8"},QY={class:"text-dark"},WY={class:"list-group-item transparent-bg"},JY={class:"row"},YY=Object(n["h"])("div",{class:"col-3"},"Maximum Score",-1),XY=Object(n["h"])("div",{class:"col-1"},":",-1),KY=Object(n["g"])(),ZY={class:"col-8"},tX={class:"text-dark"},eX={class:"list-group-item transparent-bg"},aX={class:"row"},nX=Object(n["h"])("div",{class:"col-3"},"Class Average Score",-1),sX=Object(n["h"])("div",{class:"col-1"},":",-1),iX=Object(n["g"])(),rX={class:"col-8"},oX={class:"text-dark"},cX=Object(n["h"])("h3",{class:"h4 text-center mt-5 mb-3"},"Participant Summary Table",-1),lX={key:0,class:"row"},uX=Object(n["h"])("div",{class:"col-sm-8 offset-sm-2 mt-3"},[Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h3"},"Student record list is empty!")])],-1),dX={key:1,class:"table table-light"},mX=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"Student Name"),Object(n["h"])("th",{scope:"col"},"Correct Answers"),Object(n["h"])("th",{scope:"col"},"Wrong Answers"),Object(n["h"])("th",{scope:"col"},"Score"),Object(n["h"])("th",{scope:"col"},"Percentage Score"),Object(n["h"])("th",{scope:"col"},"Grade")])],-1),bX=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var hX=bY((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",hY,[Object(n["h"])("div",pY,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",OY,[Object(n["h"])("div",fY,[Object(n["h"])("div",gY,[Object(n["h"])("div",jY,[Object(n["h"])("h4",vY,[Object(n["h"])("strong",null,Object(n["z"])(i.examination.title)+" ("+Object(n["z"])(i.examination.academicSession)+")",1)])]),Object(n["h"])("div",IY,[Object(n["h"])(l,{class:"btn btn-outline-secondary float-right",to:{name:"InstitutionExaminationClassrooms",params:{institutionID:i.institutionID,examinationID:i.examinationID}}},{default:bY((function(){return[DY,yY]})),_:1},8,["to"])])]),i.classroomCourses.length<=0?(Object(n["q"])(),Object(n["d"])("div",xY,[wY])):Object(n["e"])("",!0),i.classroomCourses.length>0?(Object(n["q"])(),Object(n["d"])("div",SY,[Object(n["h"])("ul",CY,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.classroomCourses,(function(t,e){return Object(n["q"])(),Object(n["d"])("li",{class:"mb-5",key:e},[Object(n["h"])("div",qY,[Object(n["h"])("div",EY,[Object(n["h"])("div",kY,[Object(n["h"])("div",UY,[Object(n["h"])("h3",AY,Object(n["z"])(r.getCourseRecordByID(t.courseID).title)+" ("+Object(n["z"])(r.getCourseRecordByID(t.courseID).code)+") Examination Summary",1),Object(n["h"])("ul",LY,[Object(n["h"])("li",TY,[Object(n["h"])("div",MY,[RY,NY,BY,Object(n["h"])("div",zY,[Object(n["h"])("strong",PY,Object(n["z"])(r.generateExaminationSummaryforSelectedCourse(t.courseID).participant),1)])])]),Object(n["h"])("li",_Y,[Object(n["h"])("div",FY,[$Y,GY,VY,Object(n["h"])("div",HY,[Object(n["h"])("strong",QY,Object(n["z"])(r.generateExaminationSummaryforSelectedCourse(t.courseID).minimum),1)])])]),Object(n["h"])("li",WY,[Object(n["h"])("div",JY,[YY,XY,KY,Object(n["h"])("div",ZY,[Object(n["h"])("strong",tX,Object(n["z"])(r.generateExaminationSummaryforSelectedCourse(t.courseID).maximum),1)])])]),Object(n["h"])("li",eX,[Object(n["h"])("div",aX,[nX,sX,iX,Object(n["h"])("div",rX,[Object(n["h"])("strong",oX,Object(n["z"])(r.generateExaminationSummaryforSelectedCourse(t.courseID).average),1)])])])]),cX,r.getStudentExaminationRecordsForSelectedCourse(t.courseID).length<=0?(Object(n["q"])(),Object(n["d"])("div",lX,[uX])):Object(n["e"])("",!0),r.getStudentExaminationRecordsForSelectedCourse(t.courseID).length>0?(Object(n["q"])(),Object(n["d"])("table",dX,[mX,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.getStudentExaminationRecordsForSelectedCourse(t.courseID),(function(t,e){return Object(n["q"])(),Object(n["d"])("tr",{key:e},[Object(n["h"])("td",null,Object(n["z"])(r.getStudentRecordByID(t.studentID).fullname),1),Object(n["h"])("td",null,Object(n["z"])(t.correctAnswer),1),Object(n["h"])("td",null,Object(n["z"])(t.wrongAnswer),1),Object(n["h"])("td",null,Object(n["z"])("".concat(t.correctAnswer," / ").concat(t.correctAnswer+t.wrongAnswer)),1),Object(n["h"])("td",null,Object(n["z"])(t.percentageScore)+" %",1),Object(n["h"])("td",null,Object(n["z"])(t.grade),1)])})),128))])])):Object(n["e"])("",!0)])])])])])})),128))])])):Object(n["e"])("",!0)]),Object(n["h"])(u)])]),bX])})),pX=(a("b680"),{name:"Employees",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,examinationID:null,classroomID:null,institution:{},examination:{},courses:[],studentExaminationGrade:[],classroomCourses:[],students:[]}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},getObjectKeys:function(){return te(this.examinationSchedule)?[]:Object.keys(this.examinationSchedule)}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},processDateFromPaperID:function(t){return Kr(parseInt(t.split("-")[0]))},processTime:function(t,e){var a=new Date("".concat(this.processDateFromPaperID(e)," ").concat(t));return Zr(a.getTime())},getCourseRecordByID:function(t){var e=null;return this.courses.map((function(a){a.courseID===t&&(e=a)})),e},getStudentRecordByID:function(t){var e=null;return this.students.map((function(a){a.studentID===t&&(e=a)})),e},customizeDate:function(t){return Kr(t)},customizeTime:function(t){return Zr(t)},isEmptyObject:function(t){return te(t)},generateExaminationSummaryforSelectedCourse:function(t){var e=0,a=0,n=0,s=0;return this.studentExaminationGrade.map((function(i,r){i.courseID===t&&(n+=i.percentageScore,s+=1,0===r&&(e=100),e>i.percentageScore&&(e=i.percentageScore),a<i.percentageScore&&(a=i.percentageScore))})),{minimum:e.toFixed(1),maximum:a.toFixed(1),participant:s,average:s>0?(n/s).toFixed(1):"0.0"}},getStudentExaminationRecordsForSelectedCourse:function(t){var e=[];return this.studentExaminationGrade.map((function(a){a.courseID===t&&e.push(a)})),e},initialization:function(){var t=this;Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("students").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,studentID:e.data().studentID,institutionID:e.data().institutionID,fullname:e.data().fullname,dob:e.data().dob,email:e.data().email,phone:e.data().phone,address:e.data().address,userRole:e.data().userRole,accountType:e.data().accountType,createdOn:e.data().createdOn,avatar:e.data().avatar};t.students.push(a)}))})),Kt.collection("examinations").where("examinationID","==",this.examinationID).get().then((function(e){e.forEach((function(e){t.examination.id=e.id,t.examination.examinationID=e.data().examinationID,t.examination.institutionID=e.data().institutionID,t.examination.title=e.data().title,t.examination.academicSession=e.data().academicSession,t.examination.examinationStatus=e.data().examinationStatus,t.examination.startDate=e.data().startDate,t.examination.endDate=e.data().endDate,t.examination.examinationDescription=e.data().examinationDescription,t.examination.createdOn=e.data().createdOn}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,institutionID:e.data().institutionID,title:e.data().title,grade:e.data().grade,code:e.data().code,duration:e.data().duration,durationUnit:e.data().durationUnit,instructor:e.data().instructor,description:e.data().description,createdOn:e.data().createdOn};t.courses.push(a)}))})),Kt.collection("student_examination_grades").where("examinationID","==",this.examinationID).where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){if(e.data().institutionID===t.institutionID&&e.data().examinationID===t.examinationID){var a={studentExaminationGradeID:e.data().studentExaminationGradeID,institutionID:e.data().institutionID,studentID:e.data().studentID,classroomID:e.data().classroomID,examinationID:e.data().examinationID,timetableID:e.data().timetableID,courseID:e.data().courseID,questionID:e.data().questionID,examinationDetails:JSON.parse(e.data().examinationDetails),paperDetails:e.data().paperDetails,correctAnswer:e.data().correctAnswer,wrongAnswer:e.data().wrongAnswer,score:e.data().score,percentageScore:e.data().percentageScore,grade:e.data().grade,createdOn:e.data().createdOn};t.studentExaminationGrade.push(a)}}))})),Kt.collection("classroom_courses").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){var a={id:e.id,classroomID:e.data().classroomID,courseID:e.data().courseID};t.classroomCourses.push(a)}))}))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,t.classroomID=t.$route.params.classroomID,t.examinationID=t.$route.params.examinationID,e.next=5,t.initialization();case 5:case"end":return e.stop()}}),e)})))()}});a("54e8");pX.render=hX,pX.__scopeId="data-v-041e3b5a";var OX=pX,fX=Object(n["I"])("data-v-44d00b77");Object(n["t"])("data-v-44d00b77");var gX={class:"main-viewer"},jX={class:"main-wrapper"},vX={class:"page-wrapper"},IX={class:"content"},DX={class:"row"},yX={class:"col-sm-4 col-3"},xX={class:"page-title"},wX={class:"col-sm-8 col-9 text-right m-b-20"},SX=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),CX=Object(n["g"])("Cancel "),qX={class:"row"},EX={class:"col-lg-8 offset-lg-2"},kX={class:"row"},UX={class:"col-sm-12"},AX={class:"form-group"},LX=Object(n["h"])("label",null,"Student ID",-1),TX={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},MX={class:"row"},RX={class:"col-sm-12"},NX={class:"form-group"},BX=Object(n["h"])("label",null,[Object(n["g"])("Fullname "),Object(n["h"])("span",{class:"text-danger"})],-1),zX={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},PX={class:"col-sm-12"},_X={class:"form-group"},FX=Object(n["h"])("label",null,[Object(n["g"])("Date of Birth "),Object(n["h"])("span",{class:"text-danger"})],-1),$X={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},GX={class:"col-sm-12"},VX={class:"form-group"},HX=Object(n["h"])("label",null,[Object(n["g"])("Email "),Object(n["h"])("span",{class:"text-danger"})],-1),QX={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},WX={class:"col-sm-12"},JX={class:"form-group"},YX=Object(n["h"])("label",null,"Gender",-1),XX=Object(n["h"])("option",{value:""},"Select Gender",-1),KX=Object(n["h"])("option",{value:"male"},"Male",-1),ZX=Object(n["h"])("option",{value:"female"},"Female",-1),tK={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},eK={class:"col-sm-12"},aK={class:"form-group"},nK=Object(n["h"])("label",null,"Phone",-1),sK={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},iK={class:"col-sm-12"},rK={class:"form-group"},oK=Object(n["h"])("label",null,"Address",-1),cK={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},lK=Object(n["h"])("hr",{class:"mb-3"},null,-1),uK={class:"form-group text-center"},dK=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),mK=Object(n["g"])(" Loading... "),bK=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var hK=fX((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",gX,[Object(n["h"])("div",jX,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",vX,[Object(n["h"])("div",IX,[Object(n["h"])("div",DX,[Object(n["h"])("div",yX,[Object(n["h"])("h4",xX,"Edit "+Object(n["z"])(i.selectedStudent.fullname)+"'s Details",1)]),Object(n["h"])("div",wX,[Object(n["h"])(l,{to:{name:"InstitutionStudentDetails",params:{institutionID:i.institutionID,studentID:i.studentID}},class:"btn btn-outline-danger"},{default:fX((function(){return[SX,CX]})),_:1},8,["to"])])]),Object(n["h"])("div",qX,[Object(n["h"])("div",EX,[Object(n["h"])("form",null,[Object(n["h"])("div",kX,[Object(n["h"])("div",UX,[Object(n["h"])("div",AX,[LX,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("studentID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.studentID=t})},null,544),[[n["D"],i.form.studentID]]),i.errors.studentID?(Object(n["q"])(),Object(n["d"])("small",TX,Object(n["z"])(i.errors.studentID),1)):Object(n["e"])("",!0)])])]),Object(n["h"])("div",MX,[Object(n["h"])("div",RX,[Object(n["h"])("div",NX,[BX,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("fullname")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.fullname=t})},null,544),[[n["D"],i.form.fullname]]),i.errors.fullname?(Object(n["q"])(),Object(n["d"])("small",zX,Object(n["z"])(i.errors.fullname),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",PX,[Object(n["h"])("div",_X,[FX,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("dob")}),class:"form-control",type:"date","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.dob=t})},null,544),[[n["D"],i.form.dob]]),i.errors.dob?(Object(n["q"])(),Object(n["d"])("small",$X,Object(n["z"])(i.errors.dob),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",GX,[Object(n["h"])("div",VX,[HX,Object(n["G"])(Object(n["h"])("input",{readonly:"",onInput:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("email")}),class:"form-control",type:"email","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",QX,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",WX,[Object(n["h"])("div",JX,[YX,Object(n["G"])(Object(n["h"])("select",{onChange:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("gender")}),class:"form-control select","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.gender=t})},[XX,KX,ZX],544),[[n["C"],i.form.gender]]),i.errors.gender?(Object(n["q"])(),Object(n["d"])("small",tK,Object(n["z"])(i.errors.gender),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",eK,[Object(n["h"])("div",aK,[nK,Object(n["G"])(Object(n["h"])("input",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("phone")}),class:"form-control",type:"text","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.phone=t})},null,544),[[n["D"],i.form.phone]]),i.errors.phone?(Object(n["q"])(),Object(n["d"])("small",sK,Object(n["z"])(i.errors.phone),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",iK,[Object(n["h"])("div",rK,[oK,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("address")}),class:"form-control","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.address=t})},null,544),[[n["D"],i.form.address]]),i.errors.address?(Object(n["q"])(),Object(n["d"])("small",cK,Object(n["z"])(i.errors.address),1)):Object(n["e"])("",!0)])])]),lK,Object(n["h"])("div",uK,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[dK,mK],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[15]||(e[15]=Object(n["H"])((function(){return r.attemptStudentRegister&&r.attemptStudentRegister.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Update Student Record"))])])])])]),Object(n["h"])(u)])]),bK])})),pK={name:"RegisterStudent",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{active:"registered institutions",institutionID:null,studentID:null,institution:{},selectedStudent:{},isLoading:!1,selectedFile:null,form:{studentID:"",fullname:"",email:"",gender:"",phone:"",avatar:"",dob:"",address:"",userRole:"student",accountType:"student account"},errors:{studentID:"",fullname:"",email:"",phone:"",avatar:"",dob:"",address:"",gender:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},validateForm:function(){return this.form.studentID||(this.errors.studentID="Student ID is required!"),this.form.fullname||(this.errors.fullname="Fullname is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.phone||(this.errors.phone="Phone number is required!"),this.form.address||(this.errors.address="Address is required!"),this.form.gender||(this.errors.gender="Gender is required!"),this.form.dob||(this.errors.dob="Date of Birth is required!"),!!(this.form.studentID&&this.form.fullname&&this.form.email&&this.form.gender&&this.form.phone&&this.form.address&&this.form.dob)},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},attemptStudentRegister:function(){var t=this;this.isLoading=!0,this.validateForm()?confirm("Do you want proceed with ".concat(this.selectedStudent.fullname," record update?"))&&Kt.collection("students").where("studentID","==",this.studentID).get().then((function(e){e.forEach((function(e){e.ref.update({fullname:t.form.fullname,dob:new Date(t.form.dob).getTime(),phone:t.form.phone,address:t.form.address,gender:t.form.gender,userRole:t.form.userRole,accountType:t.form.accountType}),t.isLoading=!1,t.$router.push({name:"InstitutionStudentDetails",params:{institutionID:t.institutionID,studentID:t.studentID}})}))})).catch((function(e){t.isLoading=!1,alert(e)})):this.isLoading=!1},setDate:function(t){var e=("0"+t.getDate()).slice(-2),a=("0"+(t.getMonth()+1)).slice(-2);return t.getFullYear()+"-"+a+"-"+e}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.studentID=this.$route.params.studentID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("students").where("studentID","==",this.studentID).get().then((function(e){e.forEach((function(e){t.form.studentID=e.data().studentID,t.selectedStudent.studentID=e.data().studentID,t.form.institutionID=e.data().institutionID,t.selectedStudent.institutionID=e.data().institutionID,t.form.fullname=e.data().fullname,t.selectedStudent.fullname=e.data().fullname,t.form.dob=t.setDate(new Date(e.data().dob)),t.selectedStudent.dob=e.data().dob,t.form.email=e.data().email,t.selectedStudent.email=e.data().email,t.form.phone=e.data().phone,t.selectedStudent.phone=e.data().phone,t.form.gender=e.data().gender,t.selectedStudent.gender=e.data().gender,t.form.address=e.data().address,t.selectedStudent.address=e.data().address,t.form.userRole=e.data().userRole,t.selectedStudent.userRole=e.data().userRole,t.form.accountType=e.data().accountType,t.selectedStudent.accountType=e.data().accountType,t.form.createdOn=e.data().createdOn,t.selectedStudent.createdOn=e.data().createdOn}))}))}};a("cea4");pK.render=hK,pK.__scopeId="data-v-44d00b77";var OK=pK,fK=Object(n["I"])("data-v-7a1ba76e");Object(n["t"])("data-v-7a1ba76e");var gK={class:"main-viewer"},jK={class:"main-wrapper"},vK={class:"page-wrapper"},IK={class:"content"},DK={class:"row"},yK={class:"col-sm-4 col-3"},xK={class:"page-title"},wK={class:"col-sm-8 col-9 text-right m-b-20"},SK=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-times mr-2"})],-1),CK=Object(n["g"])("Cancel "),qK={class:"row"},EK={class:"col-lg-8 offset-lg-2"},kK={class:"row"},UK={class:"col-sm-12"},AK={class:"form-group"},LK=Object(n["h"])("label",null,"User ID",-1),TK={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},MK={class:"col-sm-6"},RK={class:"form-group"},NK=Object(n["h"])("label",null,[Object(n["g"])("Fullname "),Object(n["h"])("span",{class:"text-danger"})],-1),BK={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},zK={class:"col-sm-6"},PK={class:"form-group"},_K=Object(n["h"])("label",null,[Object(n["g"])("Email "),Object(n["h"])("span",{class:"text-danger"})],-1),FK={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},$K={class:"col-sm-6"},GK={class:"form-group"},VK=Object(n["h"])("label",null,"Gender",-1),HK=Object(n["h"])("option",{value:""},"Select Gender",-1),QK=Object(n["h"])("option",{value:"male"},"Male",-1),WK=Object(n["h"])("option",{value:"female"},"Female",-1),JK={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},YK={class:"col-sm-6"},XK={class:"form-group"},KK=Object(n["h"])("label",null,[Object(n["g"])("Date of Birth "),Object(n["h"])("span",{class:"text-danger"})],-1),ZK={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},tZ={class:"col-sm-6"},eZ={class:"form-group"},aZ=Object(n["h"])("label",null,"Address",-1),nZ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},sZ={class:"col-sm-6"},iZ={class:"form-group"},rZ=Object(n["h"])("label",null,"Phone",-1),oZ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},cZ=Object(n["h"])("hr",{class:"mb-3"},null,-1),lZ={class:"form-group text-center"},uZ=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),dZ=Object(n["g"])(" Loading... "),mZ=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var bZ=fK((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",gK,[Object(n["h"])("div",jK,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",vK,[Object(n["h"])("div",IK,[Object(n["h"])("div",DK,[Object(n["h"])("div",yK,[Object(n["h"])("h4",xK,"Edit "+Object(n["z"])(i.selectedEmployee.fullname)+"'s details",1)]),Object(n["h"])("div",wK,[Object(n["h"])(l,{to:{name:"InstitutionEmployeeDetails",params:{institutionID:i.institutionID,employeeID:i.employeeID}},class:"btn btn-outline-danger"},{default:fK((function(){return[SK,CK]})),_:1},8,["to"])])]),Object(n["h"])("div",qK,[Object(n["h"])("div",EK,[Object(n["h"])("form",null,[Object(n["h"])("div",kK,[Object(n["h"])("div",UK,[Object(n["h"])("div",AK,[LK,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("userID")}),type:"text",class:"form-control text-center",readonly:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.userID=t})},null,544),[[n["D"],i.form.userID]]),i.errors.userID?(Object(n["q"])(),Object(n["d"])("small",TK,Object(n["z"])(i.errors.userID),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",MK,[Object(n["h"])("div",RK,[NK,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("fullname")}),class:"form-control",type:"text","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.fullname=t})},null,544),[[n["D"],i.form.fullname]]),i.errors.fullname?(Object(n["q"])(),Object(n["d"])("small",BK,Object(n["z"])(i.errors.fullname),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",zK,[Object(n["h"])("div",PK,[_K,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("email")}),class:"form-control",type:"email","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",FK,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",$K,[Object(n["h"])("div",GK,[VK,Object(n["G"])(Object(n["h"])("select",{onChange:e[7]||(e[7]=function(t){return r.updateErrorStatusOnInput("gender")}),class:"form-control select","onUpdate:modelValue":e[8]||(e[8]=function(t){return i.form.gender=t})},[HK,QK,WK],544),[[n["C"],i.form.gender]]),i.errors.gender?(Object(n["q"])(),Object(n["d"])("small",JK,Object(n["z"])(i.errors.gender),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",YK,[Object(n["h"])("div",XK,[KK,Object(n["G"])(Object(n["h"])("input",{onInput:e[9]||(e[9]=function(t){return r.updateErrorStatusOnInput("dob")}),class:"form-control",type:"date","onUpdate:modelValue":e[10]||(e[10]=function(t){return i.form.dob=t})},null,544),[[n["D"],i.form.dob]]),i.errors.dob?(Object(n["q"])(),Object(n["d"])("small",ZK,Object(n["z"])(i.errors.dob),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",tZ,[Object(n["h"])("div",eZ,[aZ,Object(n["G"])(Object(n["h"])("textarea",{onInput:e[11]||(e[11]=function(t){return r.updateErrorStatusOnInput("address")}),class:"form-control","onUpdate:modelValue":e[12]||(e[12]=function(t){return i.form.address=t})},null,544),[[n["D"],i.form.address]]),i.errors.address?(Object(n["q"])(),Object(n["d"])("small",nZ,Object(n["z"])(i.errors.address),1)):Object(n["e"])("",!0)])]),Object(n["h"])("div",sZ,[Object(n["h"])("div",iZ,[rZ,Object(n["G"])(Object(n["h"])("input",{onInput:e[13]||(e[13]=function(t){return r.updateErrorStatusOnInput("phone")}),class:"form-control",type:"text","onUpdate:modelValue":e[14]||(e[14]=function(t){return i.form.phone=t})},null,544),[[n["D"],i.form.phone]]),i.errors.phone?(Object(n["q"])(),Object(n["d"])("small",oZ,Object(n["z"])(i.errors.phone),1)):Object(n["e"])("",!0)])])]),cZ,Object(n["h"])("div",lZ,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[uZ,dZ],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[15]||(e[15]=Object(n["H"])((function(){return r.attemptCreatingEmployeeAccount&&r.attemptCreatingEmployeeAccount.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Update Employee Record"))])])])])]),Object(n["h"])(u)])]),mZ])})),hZ={name:"RegisterEmployee",components:{"page-header":Lf,"page-menu":Rg,"page-messages":tj},data:function(){return{isLoading:!1,active:"registered institutions",institutionID:null,employeeID:null,institution:{},selectedEmployee:{},form:{userID:"",fullname:"",gender:"",dob:"",email:"",phone:"",address:""},errors:{userID:"",fullname:"",gender:"",dob:"",email:"",phone:"",address:""}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},validateForm:function(){return this.form.userID||(this.errors.userID="User ID is required!"),this.form.fullname||(this.errors.fullname="Fullname is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.phone||(this.errors.phone="Phone number is required!"),this.form.gender||(this.errors.gender="Gender is required!"),this.form.address||(this.errors.address="Address is required!"),this.form.dob||(this.errors.dob="Date of Birth is required!"),!!(this.form.userID&&this.form.fullname&&this.form.email&&this.form.phone&&this.form.gender&&this.form.address&&this.form.dob)},attemptCreatingEmployeeAccount:function(){var t=this;this.isLoading=!0,this.validateForm()?confirm("Do you want proceed with ".concat(this.selectedEmployee.fullname," record update?"))&&Kt.collection("institution_staffs").where("userID","==",this.employeeID).get().then((function(e){e.forEach((function(e){e.ref.update({fullname:t.form.fullname,email:t.form.email,address:t.form.address,phone:t.form.phone,gender:t.form.gender,dob:new Date(t.form.dob).getTime()}),t.isLoading=!1,t.$router.push({name:"InstitutionEmployeeDetails",params:{institutionID:t.institutionID,employeeID:t.employeeID}})}))})).catch((function(e){t.isLoading=!1,alert(e)})):this.isLoading=!1},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")},setDate:function(t){var e=("0"+t.getDate()).slice(-2),a=("0"+(t.getMonth()+1)).slice(-2);return t.getFullYear()+"-"+a+"-"+e}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.employeeID=this.$route.params.employeeID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("institution_staffs").where("userID","==",this.employeeID).get().then((function(e){e.forEach((function(e){t.selectedEmployee.id=e.id,t.selectedEmployee.userID=e.data().userID,t.form.userID=e.data().userID,t.selectedEmployee.institutionID=e.data().institutionID,t.selectedEmployee.fullname=e.data().fullname,t.form.fullname=e.data().fullname,t.selectedEmployee.email=e.data().email,t.form.email=e.data().email,t.selectedEmployee.userRole=e.data().userRole,t.selectedEmployee.accountType=e.data().accountType,t.selectedEmployee.address=e.data().address,t.form.address=e.data().address,t.selectedEmployee.phone=e.data().phone,t.form.phone=e.data().phone,t.selectedEmployee.gender=e.data().gender,t.form.gender=e.data().gender,t.selectedEmployee.dob=e.data().dob,t.form.dob=t.setDate(new Date(e.data().dob)),t.selectedEmployee.avatar=e.data().avatar}))}))}};a("9cfe");hZ.render=bZ,hZ.__scopeId="data-v-7a1ba76e";var pZ=hZ;function OZ(t,e,a,s,i,r){var o=Object(n["x"])("router-view");return Object(n["q"])(),Object(n["d"])(o)}var fZ={name:"Students"};fZ.render=OZ;var gZ=fZ,jZ=Object(n["I"])("data-v-57c0beec");Object(n["t"])("data-v-57c0beec");var vZ={class:"main-wrapper account-wrapper"},IZ={class:"account-page"},DZ={class:"account-center"},yZ={class:"account-box"},xZ={class:"form-signin"},wZ={class:"account-logo"},SZ=Object(n["h"])("div",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-user-graduate fa-5x"})],-1),CZ=Object(n["h"])("div",{class:"h4"},"Student Login",-1),qZ={class:"form-group"},EZ=Object(n["h"])("label",null,"Institution",-1),kZ=Object(n["h"])("option",{value:""},"Select Institution",-1),UZ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},AZ={class:"form-group"},LZ=Object(n["h"])("label",null,"Email",-1),TZ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},MZ={class:"form-group"},RZ=Object(n["h"])("label",null,"Password",-1),NZ={key:0,class:"form-text text-danger d-flex justify-content-left mb-0"},BZ=Object(n["h"])("div",{class:"form-group text-right"},null,-1),zZ={class:"form-group text-center"},PZ=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),_Z=Object(n["g"])(" Loading... "),FZ={class:"form-group text-center"},$Z=Object(n["h"])("span",{class:"mb-2"},[Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"})],-1),GZ=Object(n["g"])("Back");Object(n["r"])();var VZ=jZ((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",vZ,[Object(n["h"])("div",IZ,[Object(n["h"])("div",DZ,[Object(n["h"])("div",yZ,[Object(n["h"])("form",xZ,[Object(n["h"])("div",wZ,[Object(n["h"])(o,{to:{name:"AdministratorLogin"}},{default:jZ((function(){return[SZ,CZ]})),_:1})]),Object(n["h"])("div",qZ,[EZ,Object(n["G"])(Object(n["h"])("select",{onChange:e[1]||(e[1]=function(t){return r.updateErrorStatusOnInput("institutionID")}),class:"form-control select","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.form.institutionID=t})},[kZ,(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.institutions,(function(t){return Object(n["q"])(),Object(n["d"])("option",{key:t.institutionID,value:t.institutionID},Object(n["z"])(t.name),9,["value"])})),128))],544),[[n["C"],i.form.institutionID]]),i.errors.institutionID?(Object(n["q"])(),Object(n["d"])("small",UZ,Object(n["z"])(i.errors.institutionID),1)):Object(n["e"])("",!0)]),Object(n["h"])("div",AZ,[LZ,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=function(t){return r.updateErrorStatusOnInput("email")}),type:"text",autofocus:"",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.form.email=t})},null,544),[[n["D"],i.form.email]]),i.errors.email?(Object(n["q"])(),Object(n["d"])("small",TZ,Object(n["z"])(i.errors.email),1)):Object(n["e"])("",!0)]),Object(n["h"])("div",MZ,[RZ,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=function(t){return r.updateErrorStatusOnInput("password")}),type:"password",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.form.password=t})},null,544),[[n["D"],i.form.password]]),i.errors.password?(Object(n["q"])(),Object(n["d"])("small",NZ,Object(n["z"])(i.errors.password),1)):Object(n["e"])("",!0)]),BZ,Object(n["h"])("div",zZ,[i.isLoading?(Object(n["q"])(),Object(n["d"])("button",{key:1,disabled:i.isLoading,class:"btn btn-lg btn-success btn-block"},[PZ,_Z],8,["disabled"])):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[7]||(e[7]=Object(n["H"])((function(){return r.attemptLogin&&r.attemptLogin.apply(r,arguments)}),["prevent"])),class:"btn btn-lg btn-success btn-block"},"Login"))]),Object(n["h"])("div",FZ,[Object(n["h"])(o,{to:"/",class:"btn btn-outline-secondary"},{default:jZ((function(){return[$Z,GZ]})),_:1})])])])])])])})),HZ={name:"Login",data:function(){return{isLoading:!1,institutions:[],form:{institutionID:"",email:"",password:""},errors:{institutionID:"",email:"",password:"",message:""},loggedUserDetails:{},expectedAccountType:"student account"}},methods:{attemptLogin:function(){var t=this;this.isLoading=!0,this.validateForm()?Zt.signInWithEmailAndPassword(this.form.email,this.form.password).then((function(e){console.log("Login Response: ".concat(e)),Kt.collection("students").where("email","==",t.form.email).get().then((function(e){e.forEach((function(e){t.loggedUserDetails.userID=e.data().studentID,t.loggedUserDetails.studentID=e.data().studentID,t.loggedUserDetails.institutionID=e.data().institutionID,t.loggedUserDetails.fullname=e.data().fullname,t.loggedUserDetails.dob=e.data().dob,t.loggedUserDetails.email=e.data().email,t.loggedUserDetails.phone=e.data().phone,t.loggedUserDetails.address=e.data().address,t.loggedUserDetails.userRole=e.data().userRole,t.loggedUserDetails.accountType=e.data().accountType,t.loggedUserDetails.createdOn=e.data().createdOn,t.loggedUserDetails.avatar=e.data().avatar})),t.$store.dispatch("UPDATE_LOGIN",{loggedUser:t.loggedUserDetails}).then((function(){t.loggedUserDetails.studentID&&t.loggedUserDetails.institutionID===t.form.institutionID&&t.loggedUserDetails.accountType===t.expectedAccountType?t.$router.push({name:"StudentsDashboard",params:{institutionID:t.loggedUserDetails.institutionID,studentID:t.loggedUserDetails.studentID}}):(t.form.institutionID="",t.form.email="",t.form.password="",alert("You are NOT a student of the selected institution. Please login using the valid credentials!!!"),t.attemptLogout()),t.isLoading=!1})).catch((function(e){console.log("INSTITUTION LOGIN STORE ERROR:",e),t.isLoading=!1}))})),t.isLoading=!1}),(function(e){t.isLoading=!1,alert(e.message)})):this.isLoading=!1},attemptLogout:function(){var t=this;Zt.signOut().then((function(){t.$store.dispatch("ATTEMPT_LOGOUT").then((function(){t.$router.push({name:"StudentsLogin"})})).catch((function(t){console.log(t)}))}))},validateForm:function(){return this.form.institutionID||(this.errors.institutionID="Institution is required!"),this.form.email||(this.errors.email="Email is required!"),this.form.password||(this.errors.password="Password is required!"),!(!this.form.email||!this.form.password)},updateErrorStatusOnInput:function(t){this.form[t].toString().length>0&&(this.errors[t]="",this.errors.message="")}},created:function(){var t=this;Kt.collection("institutions").orderBy("name").get().then((function(e){e.forEach((function(e){var a={id:e.id,institutionID:e.data().institutionID,name:e.data().name,avatar:e.data().avatar,email:e.data().email,phone:e.data().phone,registrationNumber:e.data().registrationNumber,address:e.data().address,country:e.data().country,stateProvince:e.data().stateProvince,city:e.data().city,accountType:e.data().accountType,status:e.data().status,createdOn:e.data().createdOn};t.institutions.push(a)}))}))}};a("6f6a");HZ.render=VZ,HZ.__scopeId="data-v-57c0beec";var QZ=HZ,WZ={class:"main-wrapper"},JZ={class:"page-wrapper"},YZ={class:"content"},XZ={class:"jumbotron"},KZ=Object(n["g"])(" Welcome to "),ZZ=Object(n["g"])("'s Student Dashboard"),t1=Object(n["h"])("br",null,null,-1),e1=Object(n["h"])("p",{class:"mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non eleifend nisi, et hendrerit erat. Nullam vitae ullamcorper eros, ac venenatis urna. Donec tempor ut ex ut efficitur. Maecenas a urna diam. Curabitur eleifend dolor orci, eget mollis leo volutpat id. Integer sit amet egestas eros. Suspendisse at ullamcorper urna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.In dictum ante tristique nisi tristique, id convallis nulla tempus. Ut sit amet massa venenatis, efficitur purus in, varius massa. Pellentesque eget lectus sed eros porta maximus. Phasellus hendrerit justo erat, eget finibus eros malesuada ac. Phasellus sodales turpis lobortis, aliquam urna eu, dapibus tellus. Sed consequat tincidunt tellus, quis pulvinar leo porttitor ac. Suspendisse sagittis eget est in egestas. Vestibulum at auctor lectus, quis ultrices turpis. Morbi viverra semper mi, vitae finibus magna maximus et. Suspendisse potenti. Duis vestibulum fringilla dui ac scelerisque. Aenean porttitor molestie rhoncus. Suspendisse dictum vel est lacinia tristique. Donec lacinia at nunc at bibendum. Fusce vel orci diam. Fusce id venenatis sapien, et imperdiet metus. ",-1),a1=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);function n1(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["h"])("div",WZ,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",JZ,[Object(n["h"])("div",YZ,[Object(n["h"])("div",XZ,[KZ,Object(n["h"])("strong",null,Object(n["z"])(r.loggedUserFullname),1),ZZ,t1,e1])]),Object(n["h"])(l)])]),a1])}var s1=Object(n["I"])("data-v-684c5a2d");Object(n["t"])("data-v-684c5a2d");var i1={class:"header"},r1={class:"header-left"},o1=Object(n["g"])(),c1={class:"h6 pt-2"},l1=Object(n["h"])("i",{class:"fa fa-bars"},null,-1),u1={class:"nav user-menu float-right"},d1={class:"nav-item dropdown d-none d-sm-block"},m1=Object(n["h"])("i",{class:"fa fa-comment"},null,-1),b1=Object(n["g"])(),h1=Object(n["h"])("span",{class:"badge badge-pill bg-danger float-right"},"8",-1),p1={class:"nav-item dropdown has-arrow"},O1=Object(n["h"])("span",{class:"user-img"},[Object(n["h"])("img",{class:"rounded-circle",src:da.a,width:"24",alt:""}),Object(n["h"])("span",{class:"status online"})],-1),f1={class:"dropdown-menu"},g1=Object(n["g"])("My Profile"),j1=Object(n["g"])("Edit Profile"),v1={class:"dropdown mobile-user-menu float-right"},I1=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),D1={class:"dropdown-menu dropdown-menu-right"},y1=Object(n["g"])("My Profile"),x1=Object(n["g"])("Edit Profile");Object(n["r"])();var w1=s1((function(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",i1,[Object(n["h"])("div",r1,[Object(n["h"])(o,{to:{name:"StudentsDashboard",params:{institutionID:i.institutionID,studentID:i.studentID}},class:"logo"},{default:s1((function(){return[Object(n["h"])("img",{src:a.institution.avatar,width:"35",height:"35",alt:"",srcset:""},null,8,["src"]),o1,Object(n["h"])("span",c1,Object(n["z"])(a.institution.name),1)]})),_:1},8,["to"])]),Object(n["h"])("a",{id:"mobile_btn",onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.toggleMobileMenuOption&&r.toggleMobileMenuOption.apply(r,arguments)}),["prevent"])),class:"mobile_btn float-left",href:"#sidebar"},[l1]),Object(n["h"])("ul",u1,[Object(n["h"])("li",d1,[Object(n["h"])("a",{onClick:e[2]||(e[2]=Object(n["H"])((function(){return r.toggleShowMessageBox&&r.toggleShowMessageBox.apply(r,arguments)}),["prevent"])),id:"open_msg_box",class:"hasnotifications nav-link"},[m1,b1,h1])]),Object(n["h"])("li",p1,[Object(n["h"])("a",{onClick:e[3]||(e[3]=Object(n["H"])((function(){return r.toggleUserOptionMenu&&r.toggleUserOptionMenu.apply(r,arguments)}),["prevent"])),class:"dropdown-toggle nav-link user-link","data-toggle":"dropdown"},[O1,Object(n["h"])("span",{class:"pr-2 pl-2",title:r.loggedUserFullname},[Object(n["h"])("strong",null,Object(n["z"])(r.loggedUserInitials),1)],8,["title"])]),Object(n["h"])("div",f1,[Object(n["h"])(o,{class:"dropdown-item",to:{name:"StudentProfile",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:s1((function(){return[g1]})),_:1},8,["to"]),Object(n["h"])(o,{class:"dropdown-item",to:{name:"StudentProfileEditor",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:s1((function(){return[j1]})),_:1},8,["to"]),Object(n["h"])("a",{class:"dropdown-item",onClick:e[4]||(e[4]=Object(n["H"])((function(){return r.attemptLogout&&r.attemptLogout.apply(r,arguments)}),["prevent"]))},"Logout")])])]),Object(n["h"])("div",v1,[Object(n["h"])("a",{onClick:e[5]||(e[5]=Object(n["H"])((function(){return r.toggleUserOptionMenu&&r.toggleUserOptionMenu.apply(r,arguments)}),["prevent"])),class:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false"},[I1]),Object(n["h"])("div",D1,[Object(n["h"])(o,{class:"dropdown-item",to:{name:"StudentProfile",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:s1((function(){return[y1]})),_:1},8,["to"]),Object(n["h"])(o,{class:"dropdown-item",to:{name:"StudentProfileEditor",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:s1((function(){return[x1]})),_:1},8,["to"]),Object(n["h"])("a",{class:"dropdown-item",onClick:e[6]||(e[6]=Object(n["H"])((function(){return r.attemptLogout&&r.attemptLogout.apply(r,arguments)}),["prevent"]))},"Logout")])])])})),S1={name:"PageHeader",props:{institution:{type:Object,required:!0}},data:function(){return{institutionID:null,studentID:null,expectedAccountType:"student account"}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUserDetails.fullname},loggedUserInitials:function(){return Pa(this.loggedUserFullname)}},methods:{attemptLogout:function(){var t=this;Zt.signOut().then((function(){t.$store.dispatch("ATTEMPT_LOGOUT").then((function(){t.$router.push({name:"Home"})})).catch((function(t){console.log(t)}))}))},toggleMobileMenuOption:function(){window.EventBus.emit("page-header-mobile-menu")},toggleUserOptionMenu:function(t){var e=this.getTargetElement(t);e&&e.classList.contains("dropdown-toggle")&&(e.nextElementSibling.classList.contains("show")?e.nextElementSibling.classList.remove("show"):e.nextElementSibling.classList.add("show"))},toggleShowMessageBox:function(){window.EventBus.emit("page-header-message-box")},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null}},created:function(){this.institutionID=this.$route.params.institutionID,this.studentID=this.$route.params.studentID},mounted:function(){this.loggedUserDetails.accountType!==this.expectedAccountType&&(alert("You are NOT allowed to view this page!!!"),this.attemptLogout())}};a("bcd5");S1.render=w1,S1.__scopeId="data-v-684c5a2d";var C1=S1,q1={class:"sidebar",id:"sidebar"},E1={class:"sidebar-inner slimscroll"},k1={id:"sidebar-menu",class:"sidebar-menu"},U1=Object(n["h"])("li",{class:"menu-title"},"Main",-1),A1=Object(n["h"])("i",{class:"fa fa-dashboard"},null,-1),L1=Object(n["g"])(),T1=Object(n["h"])("span",null,"Dashboard",-1),M1={class:"submenu"},R1=Object(n["h"])("i",{class:"fas fa-university"},null,-1),N1=Object(n["g"])(),B1=Object(n["h"])("span",null,"Examinations",-1),z1=Object(n["g"])(),P1=Object(n["h"])("span",{class:"menu-arrow"},null,-1),_1={style:{display:"none"}},F1=Object(n["g"])(" Examination Logs"),$1=Object(n["g"])(" Examination Board");function G1(t,e,a,s,i,r){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",q1,[Object(n["h"])("div",E1,[Object(n["h"])("div",k1,[Object(n["h"])("ul",null,[U1,Object(n["h"])("li",{class:{active:"dashboard"===a.active}},[Object(n["h"])(o,{to:{name:"StudentsDashboard",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:Object(n["F"])((function(){return[A1,L1,T1]})),_:1},8,["to"])],2),Object(n["h"])("li",M1,[Object(n["h"])("a",{onClick:e[1]||(e[1]=Object(n["H"])((function(){return r.toggleSubmenu&&r.toggleSubmenu.apply(r,arguments)}),["prevent"]))},[R1,N1,B1,z1,P1]),Object(n["h"])("ul",_1,[Object(n["h"])("li",{class:{active:"examination logs"===a.active}},[Object(n["h"])(o,{to:{name:"ExaminationLogs",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:Object(n["F"])((function(){return[F1]})),_:1},8,["to"])],2),Object(n["h"])("li",{class:{active:"examination board"===a.active}},[Object(n["h"])(o,{to:{name:"ExaminationBoard",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:Object(n["F"])((function(){return[$1]})),_:1},8,["to"])],2)])])])])])])}var V1={name:"PageMenu",props:{active:{type:String,required:!0}},data:function(){return{institutionID:null,studentID:null}},created:function(){this.institutionID=this.$route.params.institutionID,this.studentID=this.$route.params.studentID},methods:{toggleSubmenu:function(t){var e=this.getTargetElement(t);e.parentNode.classList.contains("submenu")&&(e.classList.contains("subdrop")?(e.classList.remove("subdrop"),e.nextElementSibling.style.display="none"):(e.classList.add("subdrop"),e.nextElementSibling.style.display="block"))},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null}}};a("5e44");V1.render=G1;var H1=V1,Q1={class:"notification-box"},W1=Object(n["f"])('<div class="msg-sidebar notifications msg-noti"><div class="topnav-dropdown-header"><span>Messages</span></div><div class="drop-scroll msg-list-scroll" id="msg_list"><ul class="list-box"><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">R</span></div><div class="list-body"><span class="message-author">Richard Miles </span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item new-message"><div class="list-left"><span class="avatar">J</span></div><div class="list-body"><span class="message-author">John Doe</span><span class="message-time">1 Aug</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">T</span></div><div class="list-body"><span class="message-author"> Tarah Shropshire </span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">M</span></div><div class="list-body"><span class="message-author">Mike Litorus</span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">C</span></div><div class="list-body"><span class="message-author"> Catherine Manseau </span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">D</span></div><div class="list-body"><span class="message-author"> Domenic Houston </span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">B</span></div><div class="list-body"><span class="message-author"> Buster Wigton </span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">R</span></div><div class="list-body"><span class="message-author"> Rolland Webber </span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">C</span></div><div class="list-body"><span class="message-author"> Claire Mapes </span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">M</span></div><div class="list-body"><span class="message-author">Melita Faucher</span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">J</span></div><div class="list-body"><span class="message-author">Jeffery Lalor</span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">L</span></div><div class="list-body"><span class="message-author">Loren Gatlin</span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li><li><a href="chat.html"><div class="list-item"><div class="list-left"><span class="avatar">T</span></div><div class="list-body"><span class="message-author">Tarah Shropshire</span><span class="message-time">12:28 AM</span><div class="clearfix"></div><span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div></div></a></li></ul></div><div class="topnav-dropdown-footer"><a href="chat.html">See all messages</a></div></div>',1);function J1(t,e,a,s,i,r){return Object(n["q"])(),Object(n["d"])("div",Q1,[W1])}var Y1={name:"PageMessages"};a("b265");Y1.render=J1;var X1=Y1,K1={name:"Dashboard",components:{"page-header":C1,"page-menu":H1,"page-messages":X1},data:function(){return{active:"dashboard",institution:{}}},computed:{loggedUserDetails:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUserDetails.fullname},loggedUserInitials:function(){return Pa(this.loggedUserFullname)}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}))}};a("4b58");K1.render=n1;var Z1=K1,t0=Object(n["I"])("data-v-27e02a0e");Object(n["t"])("data-v-27e02a0e");var e0={class:"main-viewer"},a0={class:"main-wrapper"},n0={class:"page-wrapper"},s0={class:"content"},i0={class:"row"},r0={class:"col-sm-4 col-3"},o0={class:"page-title"},c0={class:"col-sm-8 col-9 text-right m-b-20"},l0=Object(n["h"])("i",{class:"fas fa-user-edit mr-2"},null,-1),u0=Object(n["g"])("Edit Profile"),d0=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("p",{class:"mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non eleifend nisi, et hendrerit erat. Nullam vitae ullamcorper eros, ac venenatis urna. Donec tempor ut ex ut efficitur. Maecenas a urna diam. Curabitur eleifend dolor orci, eget mollis leo volutpat id. Integer sit amet egestas eros. Suspendisse at ullamcorper urna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.In dictum ante tristique nisi tristique, id convallis nulla tempus. Ut sit amet massa venenatis, efficitur purus in, varius massa. Pellentesque eget lectus sed eros porta maximus. Phasellus hendrerit justo erat, eget finibus eros malesuada ac. Phasellus sodales turpis lobortis, aliquam urna eu, dapibus tellus. Sed consequat tincidunt tellus, quis pulvinar leo porttitor ac. Suspendisse sagittis eget est in egestas. Vestibulum at au Aenean porttitor molestie rhoncus. Suspendisse dictum vel est lacinia tristique. Donec lacinia at nunc at bibendum. Fusce vel orci diam. Fusce id venenatis sapien, et imperdiet metus. ")])],-1),m0=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var b0=t0((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",e0,[Object(n["h"])("div",a0,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",n0,[Object(n["h"])("div",s0,[Object(n["h"])("div",i0,[Object(n["h"])("div",r0,[Object(n["h"])("h4",o0,Object(n["z"])(r.loggedUserFullname)+"'s Profile",1)]),Object(n["h"])("div",c0,[Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"InstitutionProfileEditor",params:{institutionID:i.institutionID}}},{default:t0((function(){return[l0,u0]})),_:1},8,["to"])])]),d0]),Object(n["h"])(u)])]),m0])})),h0={name:"StudentProfile",components:{"page-header":C1,"page-menu":H1,"page-messages":X1},data:function(){return{active:"registered institutions",institutionID:null,institution:{}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}))}};a("3172");h0.render=b0,h0.__scopeId="data-v-27e02a0e";var p0=h0,O0=Object(n["I"])("data-v-29d7ca81");Object(n["t"])("data-v-29d7ca81");var f0={class:"main-viewer"},g0={class:"main-wrapper"},j0={class:"page-wrapper"},v0={class:"content"},I0={class:"row"},D0={class:"col-sm-4 col-3"},y0={class:"page-title"},x0=Object(n["h"])("div",{class:"col-sm-8 col-9 text-right m-b-20"},null,-1),w0=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"jumbotron"},[Object(n["h"])("p",{class:"mt-3"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam non eleifend nisi, et hendrerit erat. Nullam vitae ullamcorper eros, ac venenatis urna. Donec tempor ut ex ut efficitur. Maecenas a urna diam. Curabitur eleifend dolor orci, eget mollis leo volutpat id. Integer sit amet egestas eros. Suspendisse at ullamcorper urna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.In dictum ante tristique nisi tristique, id convallis nulla tempus. Ut sit amet massa venenatis, efficitur purus in, varius massa. Pellentesque eget lectus sed eros porta maximus. Phasellus hendrerit justo erat, eget finibus eros malesuada ac. Phasellus sodales turpis lobortis, aliquam urna eu, dapibus tellus. Sed consequat tincidunt tellus, quis pulvinar leo porttitor ac. Suspendisse sagittis eget est in egestas. Vestibulum at au Aenean porttitor molestie rhoncus. Suspendisse dictum vel est lacinia tristique. Donec lacinia at nunc at bibendum. Fusce vel orci diam. Fusce id venenatis sapien, et imperdiet metus. ")])],-1),S0=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var C0=O0((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",f0,[Object(n["h"])("div",g0,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",j0,[Object(n["h"])("div",v0,[Object(n["h"])("div",I0,[Object(n["h"])("div",D0,[Object(n["h"])("h4",y0,"Edit "+Object(n["z"])(r.loggedUserFullname)+"'s Profile",1)]),x0]),w0]),Object(n["h"])(l)])]),S0])})),q0={name:"StudentProfileEditor",components:{"page-header":C1,"page-menu":H1,"page-messages":X1},data:function(){return{active:"registered institutions",institutionID:null,institution:{}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))}))}};a("3b2f");q0.render=C0,q0.__scopeId="data-v-29d7ca81";var E0=q0,k0=Object(n["I"])("data-v-c331e8fa");Object(n["t"])("data-v-c331e8fa");var U0={class:"main-viewer"},A0={class:"main-wrapper"},L0={class:"page-wrapper"},T0={class:"content"},M0={class:"row"},R0={class:"col-sm-4 col-3"},N0={class:"page-title"},B0=Object(n["g"])("'s Examination Board"),z0={class:"col-sm-8 col-9 text-right m-b-20"},P0=Object(n["h"])("i",{class:"fas fa-user-edit mr-2"},null,-1),_0=Object(n["g"])("Examination Logs"),F0={key:0,class:"row"},$0=Object(n["h"])("div",{class:"col-sm-8 offset-sm-2 mt-5"},[Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h3"},"Examination Time Table is NOT available!")])],-1),G0={key:1,class:"row"},V0=Object(n["h"])("div",{class:"col-md-8 offset-md-2 mb-4"}," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aspernatur rerum quibusdam tenetur fugiat praesentium veritatis? Animi veritatis perferendis harum cum, quo nihil quam alias mollitia itaque quidem dolore voluptatem tempore. ",-1),H0={style:{"list-style":"none",width:"100%",margin:"0px",padding:"0px"}},Q0={class:"h4 text-center",style:{"text-transform":"capitalize"}},W0={style:{"list-style":"none",width:"100%",margin:"0px",padding:"0px"}},J0={class:"card-body"},Y0={class:"card-title"},X0={class:"card-subtitle mb-2 text-muted"},K0={class:"card-text"},Z0={class:"text-white h4"},t2={key:0,class:"fa fa-times mr-3"},e2={key:1,class:"fa fa-check mr-3"},a2=Object(n["h"])("span",{class:"h3"},"DONE",-1),n2=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var s2=k0((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",U0,[Object(n["h"])("div",A0,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",L0,[Object(n["h"])("div",T0,[Object(n["h"])("div",M0,[Object(n["h"])("div",R0,[Object(n["h"])("h4",N0,[Object(n["h"])("strong",null,Object(n["z"])(r.loggedUserFullname),1),B0])]),Object(n["h"])("div",z0,[Object(n["h"])(l,{class:"btn btn-success btn-rounded float-right",to:{name:"ExaminationLogs",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:k0((function(){return[P0,_0]})),_:1},8,["to"])])]),r.isEmptyObject(i.examinationSchedule)?(Object(n["q"])(),Object(n["d"])("div",F0,[$0])):Object(n["e"])("",!0),r.isEmptyObject(i.examinationSchedule)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",G0,[V0,Object(n["h"])("ul",H0,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.examinationSchedule,(function(t,e,a){return Object(n["q"])(),Object(n["d"])("li",{key:"".concat(a," ").concat(e)},[Object(n["h"])("h3",Q0,Object(n["z"])(r.processExaminationDate(e)),1),Object(n["h"])("ul",W0,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(t,(function(t,a){return Object(n["q"])(),Object(n["d"])("li",{class:"col-md-8 offset-md-2",key:a},[Object(n["h"])("div",{class:["card",{"can-write":r.isExaminationPaperDay(r.processExaminationDate(e))&&r.isActiveExaminationTimeWindow(t),"can-not-write":!(r.isExaminationPaperDay(r.processExaminationDate(e))&&r.isActiveExaminationTimeWindow(t)),"has-written":!r.isEmptyObject(i.studentExaminationGrade[t.courseID])}]},[Object(n["h"])("div",J0,[Object(n["h"])("h5",Y0,Object(n["z"])(r.getCourseRecordByID(t.courseID).title)+" ("+Object(n["z"])(r.getCourseRecordByID(t.courseID).code)+")",1),Object(n["h"])("h6",X0,"Start: "+Object(n["z"])(t.start)+" - End: "+Object(n["z"])(t.end),1),Object(n["h"])("p",K0,Object(n["z"])(r.getExaminationStateDescription(t,r.processExaminationDate(e))),1),Object(n["h"])("a",{class:["btn btn-block btn-lg",{"btn-success":r.isExaminationPaperDay(r.processExaminationDate(e))&&r.isActiveExaminationTimeWindow(t),"btn-danger":!(r.isExaminationPaperDay(r.processExaminationDate(e))&&r.isActiveExaminationTimeWindow(t))}],onClick:Object(n["H"])((function(a){return r.attemptToTakeExamination(t,r.isExaminationPaperDay(r.processExaminationDate(e))&&r.isActiveExaminationTimeWindow(t))}),["prevent"]),style:{display:r.isEmptyObject(i.studentExaminationGrade[t.courseID])?"block":"none"}},[Object(n["h"])("strong",Z0,[r.isExaminationPaperDay(r.processExaminationDate(e))&&r.isActiveExaminationTimeWindow(t)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("i",t2)),r.isExaminationPaperDay(r.processExaminationDate(e))&&r.isActiveExaminationTimeWindow(t)?(Object(n["q"])(),Object(n["d"])("i",e2)):Object(n["e"])("",!0),Object(n["g"])(" "+Object(n["z"])(r.isExaminationPaperDay(r.processExaminationDate(e))&&r.isActiveExaminationTimeWindow(t)?"Proceed to Take Examination":"Not Available"),1)])],14,["onClick"]),Object(n["h"])("button",{type:"button",class:"btn btn-block",style:{display:r.isEmptyObject(i.studentExaminationGrade[t.courseID])?"none":"block"}},[a2],4)])],2)])})),128))])])})),128))])]))]),Object(n["h"])(u)])]),n2])})),i2=(a("498a"),{name:"Employees",components:{"page-header":C1,"page-menu":H1,"page-messages":X1},data:function(){return{active:"registered institutions",institutionID:null,studentID:null,classroomID:"",institution:{},classroom:{},classroomCourses:[],timetable:{},examination:{},courses:[],examinationSchedule:{},studentExaminationGrade:{}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},getObjectKeys:function(){return te(this.examinationSchedule)?[]:Object.keys(this.examinationSchedule)}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},processExaminationDate:function(t){return t.split(".")[1].trim().toUpperCase()},getCourseRecordByID:function(t){var e=null;return this.courses.map((function(a){a.courseID===t&&(e=a)})),e},customizeDate:function(t){return Kr(t)},customizeTime:function(t){return Zr(t)},isEmptyObject:function(t){return te(t)},isExaminationPaperDay:function(t){return console.log(t),!0},isActiveExaminationTimeWindow:function(t){return console.log(t),!0},getExaminationStateDescription:function(t,e){return this.isExaminationPaperDay(e)?this.isActiveExaminationTimeWindow(t)?"".concat(this.getCourseRecordByID(t.courseID).title," (").concat(this.getCourseRecordByID(t.courseID).code,") has STARTED, proceed to write your paper."):"".concat(this.getCourseRecordByID(t.courseID).title," (").concat(this.getCourseRecordByID(t.courseID).code,") is to be Written TODAY. The examination will be open from ").concat(t.start," to ").concat(t.end,", please be here on time."):"".concat(this.getCourseRecordByID(t.courseID).title," (").concat(this.getCourseRecordByID(t.courseID).code,") is NOT available yet.")},attemptToTakeExamination:function(t,e){var a=this;if(e){var n=!1;Kt.collection("classroom_students").where("studentID","==",this.studentID).get().then((function(e){if(e.forEach((function(t){t.data().classroomID&&(n=!0)})),n){var s={examination:t,firstViewIndex:null,currentViewIdex:null,lastViewIndex:null,examinationStarted:!1,examinationEnded:!1,examinationStartTime:null,examinationDurationInMinutes:a.getExamationDuration(t),examinationEndTime:null,examinationStatus:"Not Started",examinationDetails:null,institutionID:a.institutionID,studentID:a.studentID,classroomID:a.classroomID,examinationID:a.examination.examinationID,timetableID:a.timetable.timetableID,courseID:t.courseID,questionID:"",countDownDate:"".concat(Kr(parseInt(t.paperID.split("-")[0]))," ").concat(t.start)};a.$store.dispatch("UPDATE_EXAMINATION_STATE",s).then((function(){a.$router.push({name:"StudentSelectedCourseExaminationPage",params:{institutionID:a.institutionID,studentID:a.studentID,classroomID:a.classroomID,examinationID:a.examination.examinationID,timetableID:a.timetable.timetableID,courseID:t.courseID}})})).catch((function(){alert("Examination configuration failed. Please try again.")}))}else alert("You are NOT eligible to take this examination.")}))}else alert("Examination is NOT available at this time!")},getExamationDuration:function(t){var e=t.start.split(":"),a=t.end.split(":"),n=0,s=parseInt(a[0])-parseInt(e[0]);return parseInt(a[1])<parseInt(e[1])?(s-=1,n=60+parseInt(a[1])-parseInt(e[1])):n=parseInt(a[1])-parseInt(e[1]),60*s+n},initialization:function(){var t=this;Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,institutionID:e.data().institutionID,title:e.data().title,grade:e.data().grade,code:e.data().code,duration:e.data().duration,durationUnit:e.data().durationUnit,instructor:e.data().instructor,description:e.data().description,createdOn:e.data().createdOn};t.courses.push(a)}))})),Kt.collection("classroom_students").where("studentID","==",this.studentID).get().then((function(e){e.forEach((function(e){t.classroomID=e.data().classroomID})),t.classroomID&&(Kt.collection("classrooms").where("classroomID","==",t.classroomID).get().then((function(e){e.forEach((function(e){t.classroom.id=e.id,t.classroom.classroomID=e.data().classroomID,t.classroom.institutionID=e.data().institutionID,t.classroom.name=e.data().name,t.classroom.grade=e.data().grade,t.classroom.capacity=parseInt(e.data().capacity),t.classroom.numberOfStudentsAssigned=e.data().numberOfStudentsAssigned,t.classroom.overSeenBy=e.data().overSeenBy,t.classroom.createdOn=e.data().createdOn}))})),Kt.collection("classroom_courses").where("classroomID","==",t.classroomID).get().then((function(e){e.forEach((function(e){var a={id:e.id,classroomID:e.data().classroomID,courseID:e.data().courseID};t.classroomCourses.push(a)}))})),Kt.collection("examination_timetables").where("classroomID","==",t.classroomID).get().then((function(e){e.forEach((function(e){t.timetable.timetableID=e.data().timeTableID,t.timetable.classroomID=e.data().classroomID,t.timetable.examinationID=e.data().examinationID,t.timetable.details=JSON.parse(e.data().details),t.timetable.startHour=e.data().startHour,t.timetable.maxNumExaminationPerDay=e.data().maxNumExaminationPerDay,t.timetable.maxExaminationDuration=e.data().maxExaminationDuration,t.timetable.firstBreak=e.data().firstBreak,t.timetable.secondBreak=e.data().secondBreak,t.timetable.timeTableDescription=e.data().timeTableDescription,t.timetable.createdOn=e.data().createdOn})),t.timetable.examinationID&&(Kt.collection("examinations").where("examinationID","==",t.timetable.examinationID).get().then((function(e){e.forEach((function(e){t.examination.examinationID=e.data().examinationID,t.examination.institutionID=e.data().institutionID,t.examination.title=e.data().title,t.examination.academicSession=e.data().academicSession,t.examination.examinationStatus=e.data().examinationStatus,t.examination.startDate=e.data().startDate,t.examination.endDate=e.data().endDate,t.examination.examinationDescription=e.data().examinationDescription,t.examination.createdOn=e.data().createdOn}))})),t.timetable.details.map((function(e,a){var n="";e.map((function(e,s){s<=0?(n="".concat(a+1,". ").concat(e.weekday," ").concat(e.date),t.examinationSchedule[n]=[]):e.courseID&&(t.examinationSchedule[n].push(e),Kt.collection("student_examination_grades").where("studentID","==",t.studentID).get().then((function(a){a.forEach((function(a){if(a.data().institutionID===t.institutionID&&a.data().classroomID===t.classroomID&&a.data().examinationID===t.examination.examinationID&&a.data().timetableID===t.timetable.timetableID&&a.data().courseID===e.courseID){var n={studentExaminationGradeID:a.data().studentExaminationGradeID,institutionID:a.data().institutionID,studentID:a.data().studentID,classroomID:a.data().classroomID,examinationID:a.data().examinationID,timetableID:a.data().timetableID,courseID:a.data().courseID,questionID:a.data().questionID,examinationDetails:JSON.parse(a.data().examinationDetails),correctAnswer:a.data().correctAnswer,wrongAnswe:a.data().wrongAnswer,score:a.data().score,percentageScore:a.data().percentageScore,grade:a.data().grade,createdOn:a.data().createdOn};t.studentExaminationGrade[e.courseID]=n}}))})))}))})))})))}))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,t.studentID=t.$route.params.studentID,e.next=4,t.initialization();case 4:case"end":return e.stop()}}),e)})))()}});a("9190");i2.render=s2,i2.__scopeId="data-v-c331e8fa";var r2=i2,o2=Object(n["I"])("data-v-e2386068");Object(n["t"])("data-v-e2386068");var c2={class:"main-viewer"},l2={class:"main-wrapper"},u2={class:"page-wrapper"},d2={class:"content"},m2=Object(n["h"])("div",{class:"row"},[Object(n["h"])("div",{class:"col-sm-4 col-3"},[Object(n["h"])("h4",{class:"page-title"},"Examination Logs")]),Object(n["h"])("div",{class:"col-sm-8 col-9 text-right m-b-20"})],-1),b2={key:0,class:"row"},h2={class:"col-sm-8 offset-sm-2 mt-5"},p2={class:"jumbotron text-center"},O2={class:"h3"},f2={key:1,class:"container-fluid"},g2={class:"row filter-row"},j2={class:"col-sm-6 col-md-3"},v2={class:"form-group form-focus"},I2=Object(n["h"])("label",{class:"focus-label"},"Examination Title",-1),D2={class:"col-sm-6 col-md-3"},y2={class:"form-group form-focus"},x2=Object(n["h"])("label",{class:"focus-label"},"Start Date",-1),w2={class:"col-sm-6 col-md-3"},S2={class:"form-group form-focus"},C2=Object(n["h"])("label",{class:"focus-label"},"End Date",-1),q2={class:"col-sm-6 col-md-3"},E2={class:"row"},k2={class:"col-md-12"},U2={class:"table-responsive"},A2={class:"table table-striped custom-table"},L2=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{style:{"min-width":"200px"}},"Title"),Object(n["h"])("th",null,"Examination ID"),Object(n["h"])("th",null,"Academic Session"),Object(n["h"])("th",null,"Start Date"),Object(n["h"])("th",null,"End Date"),Object(n["h"])("th",null,"Status"),Object(n["h"])("th",{class:"text-right"},"Action")])],-1),T2={class:"text-right"},M2={class:"dropdown dropdown-action"},R2=Object(n["h"])("i",{class:"fa fa-ellipsis-v"},null,-1),N2={class:"dropdown-menu dropdown-menu-right",style:{position:"absolute","will-change":"transform",top:"-38px",left:"-55px",transform:"translate3d(-63px, 27px, 0px)"}},B2=Object(n["h"])("i",{class:"fa fa-cogs m-r-5"},null,-1),z2=Object(n["g"])(" View"),P2=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var _2=o2((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",c2,[Object(n["h"])("div",l2,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",u2,[Object(n["h"])("div",d2,[m2,i.examinations.length<=0?(Object(n["q"])(),Object(n["d"])("div",b2,[Object(n["h"])("div",h2,[Object(n["h"])("div",p2,[Object(n["h"])("h3",O2,Object(n["z"])(i.emptyMessage),1)])])])):(Object(n["q"])(),Object(n["d"])("div",f2,[Object(n["h"])("div",g2,[Object(n["h"])("div",j2,[Object(n["h"])("div",v2,[I2,Object(n["G"])(Object(n["h"])("input",{onInput:e[1]||(e[1]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.search.institutionID=t})},null,544),[[n["D"],i.search.institutionID]])])]),Object(n["h"])("div",D2,[Object(n["h"])("div",y2,[x2,Object(n["G"])(Object(n["h"])("input",{onInput:e[3]||(e[3]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.search.name=t})},null,544),[[n["D"],i.search.name]])])]),Object(n["h"])("div",w2,[Object(n["h"])("div",S2,[C2,Object(n["G"])(Object(n["h"])("input",{onInput:e[5]||(e[5]=Object(n["H"])((function(){return t.updateSearchOperation&&t.updateSearchOperation.apply(t,arguments)}),["prevent"])),type:"text",class:"form-control floating","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.search.email=t})},null,544),[[n["D"],i.search.email]])])]),Object(n["h"])("div",q2,[Object(n["h"])("a",{onClick:e[7]||(e[7]=Object(n["H"])((function(){return t.searchRegisteredInstitution&&t.searchRegisteredInstitution.apply(t,arguments)}),["prevent"])),class:"btn btn-success btn-block text-white"}," Search ")])]),Object(n["h"])("div",E2,[Object(n["h"])("div",k2,[Object(n["h"])("div",U2,[Object(n["h"])("table",A2,[L2,Object(n["h"])("tbody",null,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.examinations,(function(t){return Object(n["q"])(),Object(n["d"])("tr",{key:t.examinationID},[Object(n["h"])("td",null,[Object(n["h"])("h2",null,Object(n["z"])(t.title),1)]),Object(n["h"])("td",null,Object(n["z"])(t.examinationID),1),Object(n["h"])("td",null,Object(n["z"])(t.academicSession),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(t.startDate)),1),Object(n["h"])("td",null,Object(n["z"])(r.customizeDate(t.endDate)),1),Object(n["h"])("td",null,Object(n["z"])(t.examinationStatus),1),Object(n["h"])("td",T2,[Object(n["h"])("div",M2,[Object(n["h"])("a",{onClick:e[8]||(e[8]=Object(n["H"])((function(t){return r.toggleActionMenuOptions(t)}),["prevent"])),class:"action-icon dropdown-toggle",style:{cursor:"pointer"},"aria-expanded":"false"},[R2]),Object(n["h"])("div",N2,[Object(n["h"])("a",{onClick:Object(n["H"])((function(e){return r.loadSelectedExaminationPage(t.examinationID)}),["prevent"]),class:"dropdown-item",style:{cursor:"pointer"}},[B2,z2],8,["onClick"])])])])])})),128))])])])])])]))]),Object(n["h"])(l)])]),P2])})),F2={name:"InstitutionExamination",components:{"page-header":C1,"page-menu":H1,"page-messages":X1},data:function(){return{active:"registered institutions",institutionID:null,studentID:null,institution:{},examinations:[],examinationIDs:[],emptyMessage:"Examination list is empty.",search:{}}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},toggleActionMenuOptions:function(t){var e=this;return Object(_n["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.getTargetElement(t),!n.parentNode.classList.contains("show")){a.next=6;break}n.parentNode.classList.remove("show"),n.nextElementSibling.classList.remove("show"),a.next=10;break;case 6:return a.next=8,e.closeAllOpenedActionMenuOptions();case 8:n.parentNode.classList.add("show"),n.nextElementSibling.classList.add("show");case 10:case"end":return a.stop()}}),a)})))()},getTargetElement:function(t){return"A"===t.target.tagName?t.target:"A"===t.target.parentNode.tagName?t.target.parentNode:"A"===t.target.parentNode.parentNode.tagName?t.target.parentNode.parentNode:null},closeAllOpenedActionMenuOptions:function(){return Object(_n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=document.querySelectorAll(".dropdown-action"),a=0;a<e.length;a++)e[a].classList.contains("show")&&e[a].classList.remove("show");case 2:case"end":return t.stop()}}),t)})))()},customizeDate:function(t){return Kr(t)},loadSelectedExaminationPage:function(t){this.$router.push({name:"ExaminationLogCourseList",params:{institutionID:this.institutionID,studentID:this.studentID,examinationID:t}})}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.studentID=this.$route.params.studentID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("student_examination_grades").where("studentID","==",this.studentID).get().then((function(e){e.forEach((function(e){e.data().institutionID===t.institutionID&&t.examinationIDs.push(e.data().examinationID)})),t.examinationIDs=Object(Wu["a"])(new Set(t.examinationIDs)),Object.values(t.examinationIDs).map((function(e){Kt.collection("examinations").where("examinationID","==",e).get().then((function(e){e.forEach((function(e){var a={id:e.id,examinationID:e.data().examinationID,institutionID:e.data().institutionID,title:e.data().title,academicSession:e.data().academicSession,examinationStatus:e.data().examinationStatus,startDate:e.data().startDate,endDate:e.data().endDate,examinationDescription:e.data().examinationDescription,createdOn:e.data().createdOn};t.examinations.push(a)}))}))}))}))}};a("25d2");F2.render=_2,F2.__scopeId="data-v-e2386068";var $2=F2,G2=Object(n["I"])("data-v-03549492");Object(n["t"])("data-v-03549492");var V2={class:"main-viewer"},H2={class:"main-wrapper"},Q2={class:"page-wrapper"},W2={class:"content"},J2={class:"row"},Y2={key:0,class:"col-sm-4 col-3"},X2={class:"h3 mt-3"},K2={key:1,class:"col-sm-8 col-9 text-right m-b-20"},Z2={class:"row"},t4={class:"col-sm-6 text-center"},e4=Object(n["h"])("span",{class:"h3"},"Submit",-1),a4={class:"col-sm-6"},n4=Object(n["h"])("small",{class:"text-muted"},[Object(n["h"])("strong",null,"Examination Timer")],-1),s4={class:"h3 mt-2"},i4={key:0,class:"row"},r4={key:0,class:"h2 text-center col-12"},o4={key:1,class:"h4 text-center col-12"},c4={key:2,class:"col-12 text-center mb-5 mt-5 pb-5"},l4=Object(n["h"])("i",{class:"fas fa-sign-in-alt fa-2x mr-3"},null,-1),u4=Object(n["g"])(),d4=Object(n["h"])("span",{class:"h3"},"Start Examination",-1),m4={key:1,class:"row"},b4={key:0,class:"h4 col-12 mt-5 text-center text-danger"},h4=Object(n["g"])("*** "),p4=Object(n["h"])("strong",null,"Attempt",-1),O4=Object(n["g"])(" all questions ***"),f4={key:1,class:"h5 col-12 text-center text-muted"},g4={key:0,class:"card"},j4={key:0,class:"card-body mb-5 pb-5"},v4={class:"card-title mt-5"},I4={class:"card-text mb-5"},D4={class:"col-12"},y4={class:"row"},x4={class:"col-md-6"},w4={class:"form-check"},S4={class:"form-check-label"},C4=Object(n["h"])("span",{class:"mr-3"},"A:",-1),q4={class:"col-md-6"},E4={class:"form-check"},k4={class:"form-check-label"},U4=Object(n["h"])("span",{class:"mr-3"},"B:",-1),A4={class:"col-md-6 mt-3"},L4={class:"form-check"},T4={class:"form-check-label"},M4=Object(n["h"])("span",{class:"mr-3"},"C:",-1),R4={class:"col-md-6 mt-3"},N4={class:"form-check"},B4={class:"form-check-label"},z4=Object(n["h"])("span",{class:"mr-3"},"D:",-1),P4={key:2,class:"col-6 text-center"},_4=Object(n["h"])("i",{class:"fas fa-chevron-left fa-2x mr-3"},null,-1),F4=Object(n["h"])("span",{class:"h3"},"Previous",-1),$4={key:3,class:"col-6 text-center"},G4=Object(n["h"])("span",{class:"h3"},"Next",-1),V4=Object(n["h"])("i",{class:"fas fa-chevron-right fa-2x ml-3"},null,-1),H4={key:2,class:"col-md-8 offset-md-2"},Q4={key:0,class:"h2 text-center col-12"},W4={class:"row mb-3"},J4={class:"col-md-12"},Y4={class:"list-group list-group-flush"},X4={class:"list-group-item transparent-bg"},K4={class:"row"},Z4=Object(n["h"])("div",{class:"col-3"},"Student ID",-1),t3=Object(n["h"])("div",{class:"col-1"},":",-1),e3=Object(n["g"])(),a3={class:"col-8"},n3={class:"text-dark"},s3={class:"list-group-item transparent-bg"},i3={class:"row"},r3=Object(n["h"])("div",{class:"col-3"},"Student Fullname",-1),o3=Object(n["h"])("div",{class:"col-1"},":",-1),c3=Object(n["g"])(),l3={class:"col-8"},u3={class:"text-dark"},d3={class:"list-group-item transparent-bg"},m3={class:"row"},b3=Object(n["h"])("div",{class:"col-3"},"Classroom",-1),h3=Object(n["h"])("div",{class:"col-1"},":",-1),p3=Object(n["g"])(),O3={class:"col-8"},f3={class:"text-dark"},g3={class:"list-group-item transparent-bg"},j3={class:"row"},v3=Object(n["h"])("div",{class:"col-3"},"Course",-1),I3=Object(n["h"])("div",{class:"col-1"},":",-1),D3=Object(n["g"])(),y3={class:"col-8"},x3={class:"text-dark"},w3={class:"list-group-item transparent-bg"},S3={class:"row"},C3=Object(n["h"])("div",{class:"col-3"},"Examination",-1),q3=Object(n["h"])("div",{class:"col-1"},":",-1),E3=Object(n["g"])(),k3={class:"col-8"},U3={class:"text-dark"},A3=Object(n["h"])("h3",{class:"h3 text-center mt-5"},"Examination Grading System",-1),L3={class:"table table-light"},T3=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"Metric"),Object(n["h"])("th",{scope:"col"},"Score")])],-1),M3=Object(n["h"])("td",null,"Correct Answers",-1),R3=Object(n["h"])("td",null,"Wrong Answers",-1),N3=Object(n["h"])("td",null,null,-1),B3=Object(n["h"])("td",null,"Score",-1),z3=Object(n["h"])("td",null,"Percentage",-1),P3=Object(n["h"])("td",null,"Grade",-1),_3=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var F3=G2((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",V2,[Object(n["h"])("div",H2,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",Q2,[Object(n["h"])("div",W2,[Object(n["h"])("div",J2,[i.showUI?(Object(n["q"])(),Object(n["d"])("div",Y2,[Object(n["h"])("h4",X2,Object(n["z"])(i.course.title)+" ("+Object(n["z"])(i.course.code)+") Examination",1)])):Object(n["e"])("",!0),i.showUI?(Object(n["q"])(),Object(n["d"])("div",K2,[Object(n["h"])("div",Z2,[Object(n["h"])("div",t4,[r.examinationState.examinationStarted&&!r.examinationState.examinationEnded?(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:e[1]||(e[1]=function(){return r.attemptSubmittingExamination&&r.attemptSubmittingExamination.apply(r,arguments)}),class:"btn btn-lg btn-danger"},[e4])):Object(n["e"])("",!0)]),Object(n["h"])("div",a4,[n4,Object(n["h"])("h3",s4,Object(n["z"])(r.getTimeInformationBaseOnExaminationState()),1)])])])):Object(n["e"])("",!0)]),r.examinationState.examinationStarted||r.examinationState.examinationEnded?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",i4,[i.showUI?(Object(n["q"])(),Object(n["d"])("h3",r4,Object(n["z"])(i.questionInstruction.title),1)):Object(n["e"])("",!0),i.showUI?(Object(n["q"])(),Object(n["d"])("h4",o4,"( "+Object(n["z"])(r.pageFormatMonthYear(i.examination.startDate))+" )",1)):Object(n["e"])("",!0),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.questionInstruction.details,(function(t,e){return Object(n["q"])(),Object(n["d"])("div",{key:e,class:"container ui-item-container mt-2 b mb-2"},[Object(n["h"])("div",{class:"mt-0",innerHTML:t.elementString},null,8,["innerHTML"])])})),128)),i.showUI?(Object(n["q"])(),Object(n["d"])("div",c4,[Object(n["h"])("button",{onClick:e[2]||(e[2]=function(){return r.startExamination&&r.startExamination.apply(r,arguments)}),class:"btn btn-lg btn-success pr-5 pl-5"},[l4,u4,d4])])):Object(n["e"])("",!0)])),r.examinationState.examinationStarted&&!r.examinationState.examinationEnded?(Object(n["q"])(),Object(n["d"])("div",m4,[i.showUI?(Object(n["q"])(),Object(n["d"])("h5",b4,[h4,p4,O4])):Object(n["e"])("",!0),i.showUI?(Object(n["q"])(),Object(n["d"])("small",f4,[Object(n["h"])("strong",null,Object(n["z"])(r.examinationState.currentViewIdex+1)+" of "+Object(n["z"])(r.getExaminationQuestions.length),1)])):Object(n["e"])("",!0),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(r.getExaminationQuestions,(function(t,e){return Object(n["q"])(),Object(n["d"])("div",{key:t.examinationQuestionID,class:"col-md-8 offset-md-2 mt-5 mb-5",style:{display:e===r.examinationState.currentViewIdex?"block":"none"}},[e===r.examinationState.currentViewIdex?(Object(n["q"])(),Object(n["d"])("div",g4,[i.showUI?(Object(n["q"])(),Object(n["d"])("div",j4,[Object(n["h"])("h5",v4,"Question "+Object(n["z"])(e+1),1),Object(n["h"])("p",I4,Object(n["z"])(t.examQuestion),1),Object(n["h"])("div",D4,[Object(n["h"])("div",y4,[Object(n["h"])("div",x4,[Object(n["h"])("div",w4,[Object(n["G"])(Object(n["h"])("input",{onClick:function(t){return r.attemptAnswerSelectionUpdate(e,"A")},class:"form-check-input",type:"radio",name:t.examinationQuestionID,value:"A","onUpdate:modelValue":function(e){return t.selectedOption=e}},null,8,["onClick","name","onUpdate:modelValue"]),[[n["B"],t.selectedOption]]),Object(n["h"])("label",S4,[C4,Object(n["g"])(Object(n["z"])(t["A"]),1)])])]),Object(n["h"])("div",q4,[Object(n["h"])("div",E4,[Object(n["G"])(Object(n["h"])("input",{onClick:function(t){return r.attemptAnswerSelectionUpdate(e,"B")},class:"form-check-input",type:"radio",name:t.examinationQuestionID,value:"B","onUpdate:modelValue":function(e){return t.selectedOption=e}},null,8,["onClick","name","onUpdate:modelValue"]),[[n["B"],t.selectedOption]]),Object(n["h"])("label",k4,[U4,Object(n["g"])(Object(n["z"])(t["B"]),1)])])]),Object(n["h"])("div",A4,[Object(n["h"])("div",L4,[Object(n["G"])(Object(n["h"])("input",{onClick:function(t){return r.attemptAnswerSelectionUpdate(e,"C")},class:"form-check-input",type:"radio",name:t.examinationQuestionID,value:"C","onUpdate:modelValue":function(e){return t.selectedOption=e}},null,8,["onClick","name","onUpdate:modelValue"]),[[n["B"],t.selectedOption]]),Object(n["h"])("label",T4,[M4,Object(n["g"])(Object(n["z"])(t["C"]),1)])])]),Object(n["h"])("div",R4,[Object(n["h"])("div",N4,[Object(n["G"])(Object(n["h"])("input",{onClick:function(t){return r.attemptAnswerSelectionUpdate(e,"D")},class:"form-check-input",type:"radio",name:t.examinationQuestionID,value:"D","onUpdate:modelValue":function(e){return t.selectedOption=e}},null,8,["onClick","name","onUpdate:modelValue"]),[[n["B"],t.selectedOption]]),Object(n["h"])("label",B4,[z4,Object(n["g"])(Object(n["z"])(t["D"]),1)])])])])])])):Object(n["e"])("",!0)])):Object(n["e"])("",!0)],4)})),128)),i.showUI?(Object(n["q"])(),Object(n["d"])("div",P4,[Object(n["h"])("button",{disabled:!r.isPrevEnabled,class:["btn btn-lg",{"btn-success":r.isPrevEnabled,"btn-secondary":!r.isPrevEnabled}],onClick:e[3]||(e[3]=function(t){return r.attemptPrevNextUpdate(-1)})},[_4,F4],10,["disabled"])])):Object(n["e"])("",!0),i.showUI?(Object(n["q"])(),Object(n["d"])("div",$4,[Object(n["h"])("button",{disabled:!r.isNextEnabled,class:["btn btn-lg",{"btn-success":r.isNextEnabled,"btn-secondary":!r.isNextEnabled}],onClick:e[4]||(e[4]=function(t){return r.attemptPrevNextUpdate(1)})},[G4,V4],10,["disabled"])])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),r.examinationState.examinationStarted&&r.examinationState.examinationEnded?(Object(n["q"])(),Object(n["d"])("div",H4,[i.showUI?(Object(n["q"])(),Object(n["d"])("h3",Q4,"Examination Report Summary")):Object(n["e"])("",!0),Object(n["h"])("div",W4,[Object(n["h"])("div",J4,[Object(n["h"])("ul",Y4,[Object(n["h"])("li",X4,[Object(n["h"])("div",K4,[Z4,t3,e3,Object(n["h"])("div",a3,[Object(n["h"])("strong",n3,Object(n["z"])(i.studentID),1)])])]),Object(n["h"])("li",s3,[Object(n["h"])("div",i3,[r3,o3,c3,Object(n["h"])("div",l3,[Object(n["h"])("strong",u3,Object(n["z"])(r.loggedUserFullname),1)])])]),Object(n["h"])("li",d3,[Object(n["h"])("div",m3,[b3,h3,p3,Object(n["h"])("div",O3,[Object(n["h"])("strong",f3,Object(n["z"])(i.classroom.name),1)])])]),Object(n["h"])("li",g3,[Object(n["h"])("div",j3,[v3,I3,D3,Object(n["h"])("div",y3,[Object(n["h"])("strong",x3,Object(n["z"])(i.course.title)+" ("+Object(n["z"])(i.course.code)+")",1)])])]),Object(n["h"])("li",w3,[Object(n["h"])("div",S3,[C3,q3,E3,Object(n["h"])("div",k3,[Object(n["h"])("strong",U3,Object(n["z"])(i.examination.title),1)])])])]),A3,Object(n["h"])("table",L3,[T3,Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[M3,Object(n["h"])("td",null,Object(n["z"])(r.examinationState.correctAnswer),1)]),Object(n["h"])("tr",null,[R3,Object(n["h"])("td",null,Object(n["z"])(r.examinationState.wrongAnswer),1),N3]),Object(n["h"])("tr",null,[B3,Object(n["h"])("td",null,Object(n["z"])(r.examinationState.score),1)]),Object(n["h"])("tr",null,[z3,Object(n["h"])("td",null,Object(n["z"])(r.examinationState.percentageScore)+" %",1)]),Object(n["h"])("tr",null,[P3,Object(n["h"])("td",null,Object(n["z"])(r.examinationState.grade),1)])])])])])])):Object(n["e"])("",!0)]),Object(n["h"])(l)])]),_3])})),$3={name:"StudentSelectedCourseExaminationPage",components:{"page-header":C1,"page-menu":H1,"page-messages":X1},data:function(){return{active:"registered institutions",institutionID:"",studentID:"",classroomID:"",examinationID:"",timetableID:"",courseID:"",institution:{},course:{},examination:{},examinationQuestions:[],questionInstruction:[],timetable:{},examinationPaperDetails:{},targetQuestion:{},classroom:{},showUI:!1,countDownClockForExamination:"",intervalPlaceholder:null,paperID:""}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},examinationState:function(){return this.$store.getters.examinationState},isPrevEnabled:function(){return this.getCurrentIndex>this.getFirstIndex},isNextEnabled:function(){return this.getCurrentIndex<this.getLastIndex-1},getFirstIndex:function(){return this.examinationState.firstViewIndex},getCurrentIndex:function(){return this.examinationState.currentViewIdex},getLastIndex:function(){return this.examinationState.lastViewIndex},getExaminationQuestions:function(){return this.examinationState.examinationDetails}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},attemptPrevNextUpdate:function(t){var e=this,a=this.examinationState;a.currentViewIdex+=t,a.currentViewIdex<=a.firstViewIndex?a.currentViewIdex=a.firstViewIndex:a.currentViewIdex>=a.lastViewIndex&&(a.currentViewIdex=a.lastViewIndex-1),this.$store.dispatch("UPDATE_EXAMINATION_STATE",a).then((function(){console.log("update data",e.examinationState)})).catch((function(){alert("Examination start attempt failed. Please try again.")}))},attemptSubmittingExamination:function(){confirm("Do you want submit your examination for grading?")&&this.submitExaminationForGrading()},attemptAnswerSelectionUpdate:function(t,e){var a=this,n=this.examinationState;n.examinationDetails[t].selectedOption=e,this.$store.dispatch("UPDATE_EXAMINATION_STATE",n).then((function(){console.log(a.examinationState)})).catch((function(){alert("Examination start attempt failed. Please try again.")}))},submitExaminationForGrading:function(){var t=this,e=0,a=0;this.examinationState.examinationDetails.map((function(t){t.answer===t.selectedOption?e+=1:a+=1}));var n=e/(e+a),s=100*n,i=this.gradeStudentPerformance(s);this.targetQuestion.questionID?Kt.collection("student_examination_grades").add({studentExaminationGradeID:Zd.a.v1(),institutionID:this.institutionID,studentID:this.studentID,classroomID:this.classroomID,examinationID:this.examinationID,timetableID:this.timetableID,courseID:this.courseID,questionID:this.targetQuestion.questionID,examinationDetails:JSON.stringify(this.examinationState.examinationDetails),paperDetails:this.examinationPaperDetails,correctAnswer:e,wrongAnswer:a,score:n,percentageScore:s,grade:i,createdOn:(new Date).getTime()}).then((function(r){console.log(r);var o=t.examinationState;o.examinationStarted=!0,o.examinationEnded=!0,o.correctAnswer=e,o.wrongAnswer=a,o.score=n,o.percentageScore=s,o.grade=i,t.$store.dispatch("UPDATE_EXAMINATION_STATE",o).then((function(){console.log(t.examinationState)})).catch((function(){alert("Examination start attempt failed. Please try again.")}))})).catch((function(e){t.isLoading=!1,alert(e)})):console.log("invalid Question ID field. Please try again")},gradeStudentPerformance:function(t){return t>=70&&t<=100?"First Class Honours":t>=60&&t<70?"Upper Second Class Honours (2.1)":t>=50&&t<60?"Lower Second Class Honours (2.2)":t>=40&&t<50?"Class 3 Honours/Pass":t>=0&&t<40?"Fail":"Invalid Grade"},isEmptyObject:function(t){return te(t)},pageFormatMonthYear:function(t){if(t){var e=new Date(parseInt(t)).toLocaleString("en",{day:"numeric",month:"long",year:"numeric"});return e=e.split(" "),e.splice(1,1),e=e.join(", ").trim().toUpperCase(),e}return""},getTimeInformationBaseOnExaminationState:function(){if(!this.examinationState.examinationStarted&&!this.examinationState.examinationEnded){var t=parseInt(this.examinationState.examinationDurationInMinutes/60,10),e=this.examinationState.examinationDurationInMinutes%60;return this.countDownClockForExamination="".concat(t,":").concat(e,":00"),this.countDownClockForExamination}return this.examinationState.examinationStarted&&!this.examinationState.examinationEnded?this.countDownClockForExamination:this.examinationState.examinationStarted&&this.examinationState.examinationEnded?(this.countDownClockForExamination="00:00:00",this.countDownClockForExamination):void 0},startTimner:function(t){this.intervalPlaceholder=setInterval((function(){var e=Kr(parseInt(t.examinationState.examination.paperID.split("-")[0])),a=new Date("".concat(e," ").concat(t.examinationState.examination.start));a.setMinutes(a.getMinutes()+parseInt(t.examinationState.examinationDurationInMinutes,10));var n=(new Date).getTime(),s=a-n,i=Math.floor(s/864e5),r=Math.floor(s%864e5/36e5),o=Math.floor(s%36e5/6e4),c=Math.floor(s%6e4/1e3);t.countDownClockForExamination=i>0?"".concat(i,":").concat(r<10?"0"+r:r,":").concat(o<10?"0"+o:o,":").concat(c<10?"0"+c:c):"".concat(r,":").concat(o<10?"0"+o:o,":").concat(c<10?"0"+c:c),s<0&&(clearInterval(t.intervalPlaceholder),t.countDownClockForExamination="00:00:00",t.submitExaminationForGrading())}),1e3)},startExamination:function(){var t=this,e=this.examinationState,a=this.examinationQuestions.length;e.firstViewIndex=0,e.currentViewIdex=0,e.lastViewIndex=a,e.examinationStarted=!0,e.examinationStartTime=(new Date).getTime(),e.examinationStatus="Started",this.$store.dispatch("UPDATE_EXAMINATION_STATE",e).then((function(){t.startTimner(t)})).catch((function(){alert("Examination start attempt failed. Please try again.")}))},randomizeExaminationQuestions:function(){for(var t=this.examinationQuestions,e=0;e<2;e++){var a=Math.floor(1*Math.random()),n=t.splice(a,1);console.log(t,n)}return this.examinationQuestions},updateExaminationStateStore:function(t){this.$store.dispatch("UPDATE_EXAMINATION_STATE",t).then((function(){console.log("Update was successful ...")})).catch((function(t){console.log("Failed to Update store: ",t)}))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;this.institutionID=this.$route.params.institutionID,this.studentID=this.$route.params.studentID,this.classroomID=this.$route.params.classroomID,this.examinationID=this.$route.params.examinationID,this.timetableID=this.$route.params.timetableID,this.courseID=this.$route.params.courseID,Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("courses").where("courseID","==",this.courseID).get().then((function(e){e.forEach((function(e){t.course.id=e.id,t.course.courseID=e.data().courseID,t.course.institutionID=e.data().institutionID,t.course.title=e.data().title,t.course.grade=e.data().grade,t.course.code=e.data().code,t.course.duration=e.data().duration,t.course.durationUnit=e.data().durationUnit,t.course.instructor=e.data().instructor,t.course.description=e.data().description,t.course.createdOn=e.data().createdOn}))})),Kt.collection("classrooms").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){t.classroom.id=e.id,t.classroom.classroomID=e.data().classroomID,t.classroom.institutionID=e.data().institutionID,t.classroom.name=e.data().name,t.classroom.grade=e.data().grade,t.classroom.capacity=parseInt(e.data().capacity),t.classroom.numberOfStudentsAssigned=e.data().numberOfStudentsAssigned,t.classroom.overSeenBy=e.data().overSeenBy,t.classroom.createdOn=e.data().createdOn}))})),Kt.collection("examination_timetables").where("classroomID","==",this.classroomID).get().then((function(e){e.forEach((function(e){t.timetable.timetableID=e.data().timeTableID,t.timetable.classroomID=e.data().classroomID,t.timetable.examinationID=e.data().examinationID,t.timetable.details=JSON.parse(e.data().details),t.timetable.startHour=e.data().startHour,t.timetable.maxNumExaminationPerDay=e.data().maxNumExaminationPerDay,t.timetable.maxExaminationDuration=e.data().maxExaminationDuration,t.timetable.firstBreak=e.data().firstBreak,t.timetable.secondBreak=e.data().secondBreak,t.timetable.timeTableDescription=e.data().timeTableDescription,t.timetable.createdOn=e.data().createdOn})),t.timetable.examinationID&&(Kt.collection("examinations").where("examinationID","==",t.timetable.examinationID).get().then((function(e){e.forEach((function(e){t.examination.examinationID=e.data().examinationID,t.examination.institutionID=e.data().institutionID,t.examination.title=e.data().title,t.examination.academicSession=e.data().academicSession,t.examination.examinationStatus=e.data().examinationStatus,t.examination.startDate=e.data().startDate,t.examination.endDate=e.data().endDate,t.examination.examinationDescription=e.data().examinationDescription,t.examination.createdOn=e.data().createdOn}))})),t.timetable.details.map((function(e){e.map((function(e){e.courseID===t.courseID&&(t.examinationPaperDetails=e)}))})),t.paperID=t.examinationPaperDetails,Kt.collection("questions").where("timetableID","==",t.timetable.timetableID).get().then((function(e){e.forEach((function(e){e.data().institutionID===t.institutionID&&e.data().classroomID===t.classroomID&&e.data().courseID===t.courseID&&e.data().examinationID===t.examinationID&&(t.targetQuestion.questionID=e.data().questionID,t.targetQuestion.institutionID=e.data().institutionID,t.targetQuestion.classroomID=e.data().classroomID,t.targetQuestion.courseID=e.data().courseID,t.targetQuestion.examinationID=e.data().examinationID,t.targetQuestion.timetableID=e.data().timetableID,t.targetQuestion.createdOn=e.data().createdOn)})),console.log("=============   TQ   ================>>>>>>>>>>>>>>    ",t.targetQuestion),t.targetQuestion.questionID&&(Kt.collection("question_instructions").where("questionID","==",t.targetQuestion.questionID).get().then((function(e){e.forEach((function(e){t.questionInstruction.questionInstructionID=e.data().questionInstructionID,t.questionInstruction.questionID=e.data().questionID,t.questionInstruction.title=e.data().title,t.questionInstruction.details=JSON.parse(e.data().details),t.questionInstruction.description=e.data().description,t.questionInstruction.createdOn=e.data().createdOn}))})),Kt.collection("examination_questions").where("questionID","==",t.targetQuestion.questionID).get().then((function(e){e.forEach((function(e){var a={questionID:e.data().questionID,examinationQuestionID:e.data().examinationQuestionID,examQuestion:jQ.a.enc.Base64.parse(e.data().examQuestion).toString(jQ.a.enc.Utf8),A:jQ.a.enc.Base64.parse(e.data()["A"]).toString(jQ.a.enc.Utf8),B:jQ.a.enc.Base64.parse(e.data()["B"]).toString(jQ.a.enc.Utf8),C:jQ.a.enc.Base64.parse(e.data()["C"]).toString(jQ.a.enc.Utf8),D:jQ.a.enc.Base64.parse(e.data()["D"]).toString(jQ.a.enc.Utf8),answer:jQ.a.enc.Base64.parse(e.data().answer).toString(jQ.a.enc.Utf8),selectedOption:jQ.a.enc.Base64.parse(e.data().selectedOption).toString(jQ.a.enc.Utf8),extraInformation:e.data().extraInformation,createdOn:e.data().createdOn};t.examinationQuestions.push(a)}));var a=t.examinationState;a.examinationDetails=t.examinationQuestions,t.updateExaminationStateStore(a),t.showUI=!0})))})))})),"Started"===this.examinationState.examinationStatus&&this.startTimner(this)},beforeRouteLeave:function(t,e,a){var n=window.confirm("Do you really want to leave? your examination will be graded anyway!");this.examinationState.examinationStarted&&!this.examinationState.examinationEnded?n?(this.submitExaminationForGrading(),a()):a(!1):a()},watch:{examinationState:function(){this.$forceUpdate()}}};a("8afc");$3.render=F3,$3.__scopeId="data-v-03549492";var G3=$3,V3=Object(n["I"])("data-v-034c9638");Object(n["t"])("data-v-034c9638");var H3={class:"main-viewer"},Q3={class:"main-wrapper"},W3={class:"page-wrapper"},J3={class:"content"},Y3={class:"row"},X3={class:"col-sm-8 col-3"},K3={class:"page-title"},Z3={class:"col-sm-4 col-9 text-right m-b-20"},t8=Object(n["h"])("i",{class:"fas fa-arrow-circle-left mr-2"},null,-1),e8=Object(n["g"])("Back"),a8={key:0,class:"row"},n8=Object(n["h"])("div",{class:"col-sm-8 offset-sm-2 mt-5"},[Object(n["h"])("div",{class:"jumbotron text-center"},[Object(n["h"])("h3",{class:"h3"},"Course list for the selected examination is Empty!")])],-1),s8={key:1,class:"row"},i8={style:{"list-style":"none",width:"100%",margin:"0px",padding:"0px"}},r8={class:"h3 text-center mt-3 mb-3",style:{"text-transform":"capitalize"}},o8={class:"card"},c8={class:"card-body"},l8={class:"row mb-3"},u8={class:"col-md-8 offset-md-2"},d8=Object(n["h"])("h3",{class:"h4 text-center mt-3"},"Examination Details",-1),m8={class:"list-group list-group-flush mb-5"},b8={class:"list-group-item transparent-bg"},h8={class:"row"},p8=Object(n["h"])("div",{class:"col-3"},"Written On",-1),O8=Object(n["h"])("div",{class:"col-1"},":",-1),f8=Object(n["g"])(),g8={class:"col-8"},j8={class:"text-dark"},v8={class:"list-group-item transparent-bg"},I8={class:"row"},D8=Object(n["h"])("div",{class:"col-3"},"Start Time",-1),y8=Object(n["h"])("div",{class:"col-1"},":",-1),x8=Object(n["g"])(),w8={class:"col-8"},S8={class:"text-dark"},C8={class:"list-group-item transparent-bg"},q8={class:"row"},E8=Object(n["h"])("div",{class:"col-3"},"End Time",-1),k8=Object(n["h"])("div",{class:"col-1"},":",-1),U8=Object(n["g"])(),A8={class:"col-8"},L8={class:"text-dark"},T8=Object(n["h"])("h3",{class:"h4 text-center mt-5 mb-3"},"Examination Grading System",-1),M8={class:"table table-light"},R8=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"Metric"),Object(n["h"])("th",{scope:"col"},"Score")])],-1),N8=Object(n["h"])("td",null,"Correctly Answered",-1),B8=Object(n["h"])("td",null,"Wrongly Answered",-1),z8=Object(n["h"])("td",null,null,-1),P8=Object(n["h"])("td",null,"Score",-1),_8=Object(n["h"])("td",null,"Percentage",-1),F8=Object(n["h"])("td",null,"Grade",-1),$8=Object(n["h"])("div",{class:"sidebar-overlay","data-reff":""},null,-1);Object(n["r"])();var G8=V3((function(t,e,a,s,i,r){var o=Object(n["x"])("page-header"),c=Object(n["x"])("page-menu"),l=Object(n["x"])("router-link"),u=Object(n["x"])("page-messages");return Object(n["q"])(),Object(n["d"])("div",H3,[Object(n["h"])("div",Q3,[Object(n["h"])(o,{institution:i.institution},null,8,["institution"]),Object(n["h"])(c,{active:i.active},null,8,["active"]),Object(n["h"])("div",W3,[Object(n["h"])("div",J3,[Object(n["h"])("div",Y3,[Object(n["h"])("div",X3,[Object(n["h"])("h4",K3,[Object(n["h"])("strong",null,Object(n["z"])(i.examination.title)+" ("+Object(n["z"])(i.examination.academicSession)+")",1)])]),Object(n["h"])("div",Z3,[Object(n["h"])(l,{class:"btn btn-outline-secondary float-right",to:{name:"ExaminationLogs",params:{institutionID:i.institutionID,studentID:i.studentID}}},{default:V3((function(){return[t8,e8]})),_:1},8,["to"])])]),r.isEmptyObject(i.studentExaminationGrade)?(Object(n["q"])(),Object(n["d"])("div",a8,[n8])):Object(n["e"])("",!0),r.isEmptyObject(i.studentExaminationGrade)?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",s8,[Object(n["h"])("ul",i8,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.studentExaminationGrade,(function(t,e){return Object(n["q"])(),Object(n["d"])("li",{class:"mb-5",key:e},[Object(n["h"])("h3",r8,Object(n["z"])(r.getCourseRecordByID(t.courseID).title)+" ("+Object(n["z"])(r.getCourseRecordByID(t.courseID).code)+")",1),Object(n["h"])("div",o8,[Object(n["h"])("div",c8,[Object(n["h"])("div",l8,[Object(n["h"])("div",u8,[d8,Object(n["h"])("ul",m8,[Object(n["h"])("li",b8,[Object(n["h"])("div",h8,[p8,O8,f8,Object(n["h"])("div",g8,[Object(n["h"])("strong",j8,Object(n["z"])(r.processDateFromPaperID(t.paperDetails.paperID)),1)])])]),Object(n["h"])("li",v8,[Object(n["h"])("div",I8,[D8,y8,x8,Object(n["h"])("div",w8,[Object(n["h"])("strong",S8,Object(n["z"])(t.paperDetails.start)+" GMT",1)])])]),Object(n["h"])("li",C8,[Object(n["h"])("div",q8,[E8,k8,U8,Object(n["h"])("div",A8,[Object(n["h"])("strong",L8,Object(n["z"])(t.paperDetails.end)+" GMT",1)])])])]),T8,Object(n["h"])("table",M8,[R8,Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[N8,Object(n["h"])("td",null,Object(n["z"])(t.correctAnswer),1)]),Object(n["h"])("tr",null,[B8,Object(n["h"])("td",null,Object(n["z"])(t.wrongAnswer),1),z8]),Object(n["h"])("tr",null,[P8,Object(n["h"])("td",null,Object(n["z"])("".concat(t.correctAnswer," / ").concat(t.correctAnswer+t.wrongAnswer)),1)]),Object(n["h"])("tr",null,[_8,Object(n["h"])("td",null,Object(n["z"])(t.percentageScore)+" %",1)]),Object(n["h"])("tr",null,[F8,Object(n["h"])("td",null,Object(n["z"])(t.grade),1)])])])])])])])])})),128))])]))]),Object(n["h"])(u)])]),$8])})),V8={name:"Employees",components:{"page-header":C1,"page-menu":H1,"page-messages":X1},data:function(){return{active:"registered institutions",institutionID:null,studentID:null,examinationID:null,institution:{},examination:{},courses:[],studentExaminationGrade:[]}},computed:{loggedUser:function(){return this.$store.getters.loggedUser},loggedUserFullname:function(){return this.loggedUser.fullname},getObjectKeys:function(){return te(this.examinationSchedule)?[]:Object.keys(this.examinationSchedule)}},methods:{toggleMessageBox:function(){document.querySelector(".main-wrapper").classList.contains("open-msg-box")?document.querySelector(".main-wrapper").classList.remove("open-msg-box"):document.querySelector(".main-wrapper").classList.add("open-msg-box")},toggleMobileMenu:function(){document.querySelector(".main-wrapper").classList.contains("slide-nav")?(document.querySelector(".main-wrapper").classList.remove("slide-nav"),document.querySelector(".sidebar-overlay").classList.remove("opened")):(document.querySelector(".main-wrapper").classList.add("slide-nav"),document.querySelector(".sidebar-overlay").classList.add("opened"))},processDateFromPaperID:function(t){return Kr(parseInt(t.split("-")[0]))},processTime:function(t,e){var a=new Date("".concat(this.processDateFromPaperID(e)," ").concat(t));return Zr(a.getTime())},getCourseRecordByID:function(t){var e=null;return this.courses.map((function(a){a.courseID===t&&(e=a)})),e},customizeDate:function(t){return Kr(t)},customizeTime:function(t){return Zr(t)},isEmptyObject:function(t){return te(t)},initialization:function(){var t=this;Kt.collection("institutions").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){t.institution.id=e.id,t.institution.institutionID=e.data().institutionID,t.institution.name=e.data().name,t.institution.avatar=e.data().avatar,t.institution.email=e.data().email,t.institution.phone=e.data().phone,t.institution.registrationNumber=e.data().registrationNumber,t.institution.address=e.data().address,t.institution.country=e.data().country,t.institution.stateProvince=e.data().stateProvince,t.institution.city=e.data().city,t.institution.accountType=e.data().accountType,t.institution.status=e.data().status,t.institution.createdOn=e.data().createdOn}))})),Kt.collection("examinations").where("examinationID","==",this.examinationID).get().then((function(e){e.forEach((function(e){t.examination.id=e.id,t.examination.examinationID=e.data().examinationID,t.examination.institutionID=e.data().institutionID,t.examination.title=e.data().title,t.examination.academicSession=e.data().academicSession,t.examination.examinationStatus=e.data().examinationStatus,t.examination.startDate=e.data().startDate,t.examination.endDate=e.data().endDate,t.examination.examinationDescription=e.data().examinationDescription,t.examination.createdOn=e.data().createdOn}))})),Kt.collection("courses").where("institutionID","==",this.$route.params.institutionID).get().then((function(e){e.forEach((function(e){var a={id:e.id,courseID:e.data().courseID,institutionID:e.data().institutionID,title:e.data().title,grade:e.data().grade,code:e.data().code,duration:e.data().duration,durationUnit:e.data().durationUnit,instructor:e.data().instructor,description:e.data().description,createdOn:e.data().createdOn};t.courses.push(a)}))})),Kt.collection("student_examination_grades").where("studentID","==",this.studentID).get().then((function(e){e.forEach((function(e){if(e.data().institutionID===t.institutionID&&e.data().examinationID===t.examinationID){var a={studentExaminationGradeID:e.data().studentExaminationGradeID,institutionID:e.data().institutionID,studentID:e.data().studentID,classroomID:e.data().classroomID,examinationID:e.data().examinationID,timetableID:e.data().timetableID,courseID:e.data().courseID,questionID:e.data().questionID,examinationDetails:JSON.parse(e.data().examinationDetails),paperDetails:e.data().paperDetails,correctAnswer:e.data().correctAnswer,wrongAnswer:e.data().wrongAnswer,score:e.data().score,percentageScore:e.data().percentageScore,grade:e.data().grade,createdOn:e.data().createdOn};t.studentExaminationGrade.push(a)}})),console.log(t.studentExaminationGrade)}))}},mounted:function(){window.EventBus.on("page-header-message-box",this.toggleMessageBox),window.EventBus.on("page-header-mobile-menu",this.toggleMobileMenu)},created:function(){var t=this;return Object(_n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.institutionID=t.$route.params.institutionID,t.studentID=t.$route.params.studentID,t.examinationID=t.$route.params.examinationID,e.next=5,t.initialization();case 5:case"end":return e.stop()}}),e)})))()}};a("96d88");V8.render=G8,V8.__scopeId="data-v-034c9638";var H8,Q8=V8,W8=[{path:"",name:"AdministratorDashboard",component:ls},{path:"user-profile",name:"AdministratorProfile",component:Hl},{path:"edit-user-profile",name:"AdministratorProfileEditor",component:ru},{path:"register-institution",name:"RegisterInstitution",component:Xi},{path:"registered-institutions",name:"RegisteredInstitutions",component:so},{path:"registered-institutions/:institutionID",name:"RegisteredInstitutionDetails",component:kl},{path:"registered-institutions/:institutionID/edit",name:"EditRegisteredInstitutionDetails",component:Fp},{path:"chats/:chatMateID",name:"AdministratorChats",component:im},{path:"activites",name:"AdministratorActivities",component:Cm},{path:"administrative-users",name:"AdministrativeUsers",component:Db},{path:"create-account",name:"CreateAdministrator",component:jh}],J8=[{path:"",name:"InstitutionalDashboard",component:aj},{path:"chats/:chatMateID",name:"InstitutionChats",component:Yv},{path:"user-profile",name:"InstitutionProfile",component:Wz},{path:"edit-user-profile",name:"InstitutionProfileEditor",component:cP},{path:"employees",name:"InstitutionEmployees",component:KI},{path:"employees/:employeeID",name:"InstitutionEmployeeDetails",component:Ny},{path:"employees/:employeeID/edit-employee",name:"InstitutionEditEmployeeDetails",component:pZ},{path:"register-employee",name:"RegisterEmployee",component:Zx},{path:"students",name:"InstitutionStudents",component:eS},{path:"students/:studentID",name:"InstitutionStudentDetails",component:PC},{path:"students/:studentID/edit-student",name:"InstitutionEditStudentDetails",component:OK},{path:"register-students",name:"RegisterStudent",component:Jq},{path:"classrooms",name:"InstitutionClassrooms",component:KE},{path:"classrooms/:classroomID",name:"InstitutionClassroomDetails",component:fL},{path:"classrooms/:classroomID/edit",name:"EditInstitutionClassroomDetails",component:PG},{path:"create-classroom",name:"CreateClassroom",component:rT},{path:"courses",name:"InstitutionCourses",component:lM},{path:"courses/:courseID",name:"InstitutionCourseDetails",component:RR},{path:"courses/:courseID/edit-course",name:"InstitutionEditCourseDetails",component:$N},{path:"create-course",name:"CreateCourse",component:JB},{path:"classrooms/:classroomID/create-timetable",name:"CreateTimeTable",component:H_},{path:"classrooms/:classroomID/:timetableID/edit",name:"EditTimeTableDetails",component:Y$},{path:"examinations",name:"InstitutionExamination",component:Az},{path:"examinations/:examinationID/classrooms",name:"InstitutionExaminationClassrooms",component:mY},{path:"examinations/:examinationID/classrooms/:classroomID/courses",name:"InstitutionExaminationClassroomCourses",component:OX},{path:"classrooms/:classroomID/:examinationID/:timetableID/:courseID/examination-question-instructions",name:"InstitutionExaminationCourseQuestionInstructions",component:gH},{path:"classrooms/:classroomID/:examinationID/:timetableID/:courseID/examination-questions",name:"InstitutionExaminationCourseQuestions",component:CW},{path:"classrooms/:classroomID/:examinationID/:timetableID/:courseID/add-examination-question",name:"InstitutionAddExaminationQuestion",component:IQ},{path:"classrooms/:classroomID/:examinationID/:timetableID/:courseID/:examinationQuestionID/edit-examination-question",name:"InstitutionEditExaminationCourseQuestion",component:qJ}],Y8=[{path:"",name:"StudentsDashboard",component:Z1},{path:"user-profile",name:"StudentProfile",component:p0},{path:"edit-user-profile",name:"StudentProfileEditor",component:E0},{path:"examination-logs",name:"ExaminationLogs",component:$2},{path:"examination-logs/:examinationID/course-list",name:"ExaminationLogCourseList",component:Q8},{path:"examination-board",name:"ExaminationBoard",component:r2},{path:"examination-board/:classroomID/:examinationID/:timetableID/:courseID",name:"StudentSelectedCourseExaminationPage",component:G3}],X8=[{path:"/",name:"Home",component:Dt},{path:"/create-root-user-account",name:"RegisterRootAdministratorAccount",component:ne},{path:"/adminstrator/login",name:"AdministratorLogin",component:Ue},{path:"/institutions/login",name:"InstitutionalLogin",component:vO},{path:"/students/login",name:"StudentsLogin",component:QZ},{path:"/administrators/:administratorID",component:re,children:W8,meta:{requiresAuth:!0}},{path:"/institutions/:institutionID",component:Vp,children:J8,meta:{requiresAuth:!0}},{path:"/students/:institutionID/:studentID",component:gZ,children:Y8,meta:{requiresAuth:!0}}],K8=Object(R["a"])({history:Object(R["b"])(),routes:X8}),Z8=K8,t5=void 0;window.EventBus=Object(s["a"])(),Z8.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.requiresAuth}))?Zt.currentUser?a():a({path:"/",query:{redirect:t.fullPath}}):t.matched.some((function(t){return t.meta.requiresVisitor}))&&Zt.currentUser?a({name:"AdministratorDashboard",param:{administratorID:t5.$route.params.administratorID}}):a()})),Zt.onAuthStateChanged((function(){H8||(H8=Object(n["c"])(o),H8.use(M),H8.use(Z8),H8.mount("#app"))}))},5910:function(t,e,a){},"5e44":function(t,e,a){"use strict";a("032c")},6:function(t,e){},6203:function(t,e,a){"use strict";a("96d8")},"632e":function(t,e,a){},"655e":function(t,e,a){},"695b":function(t,e,a){},"6aeb":function(t,e,a){"use strict";a("a1c5")},"6b43":function(t,e,a){"use strict";a("9fab")},"6dea":function(t,e,a){},"6f6a":function(t,e,a){"use strict";a("2fe5")},7:function(t,e){},"771d":function(t,e,a){},"7e6a":function(t,e,a){"use strict";a("8f25")},8:function(t,e){},"82d7":function(t,e,a){"use strict";a("ef3b")},8312:function(t,e,a){},"854c":function(t,e,a){},8576:function(t,e,a){},"85eb":function(t,e,a){"use strict";a("24ae")},8730:function(t,e,a){"use strict";a("53e6")},"88e4":function(t,e,a){},"8afc":function(t,e,a){"use strict";a("771d")},"8e38":function(t,e,a){},"8ed7":function(t,e,a){},"8f25":function(t,e,a){},9:function(t,e){},9190:function(t,e,a){"use strict";a("8e38")},"91e9":function(t,e,a){},"91f4":function(t,e,a){},"94c8":function(t,e,a){},9580:function(t,e,a){},"96d8":function(t,e,a){},"96d88":function(t,e,a){"use strict";a("3d06")},"9cef":function(t,e,a){},"9cfe":function(t,e,a){"use strict";a("244d")},"9fab":function(t,e,a){},a1c5:function(t,e,a){},a1f3:function(t,e,a){"use strict";a("3df2")},a32d:function(t,e,a){"use strict";a("a9b0")},a5d4:function(t,e,a){"use strict";a("0ca2")},a6f2:function(t,e,a){"use strict";a("ea27")},a83c:function(t,e,a){"use strict";a("cef5")},a9b0:function(t,e,a){},af49:function(t,e,a){},b206:function(t,e,a){},b265:function(t,e,a){"use strict";a("fc5c")},b57d:function(t,e,a){},b665:function(t,e,a){"use strict";a("632e")},b7d5:function(t,e,a){},bcd5:function(t,e,a){"use strict";a("30f3")},bce0:function(t,e,a){"use strict";a("854c")},bd2b:function(t,e,a){},c03f:function(t,e,a){"use strict";a("121b")},c121:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEX///8AAAClpaX8/Pz39/e3t7fZ2dm9vb3T09Pl5eXw8PBfX1/h4eFtbW1qamqbm5vMzMyCgoJ4eHgaGhqKioplZWWrq6sPDw/FxcUwMDDs7OySkpJ/f38UFBQhISFLS0s8PDxPT09XV1c2NjY4ODinp6dEREQpKSmYua94AAAGb0lEQVR4nO2d6XbiMAyFMUsIW8O+lhZoB97/DYc0MIQkkEiWkNzx97uL70kiy9pcq3k8Ho/H4/F4PB6Px+PxwOiug+Gy3V4uw063Ib0YaoL5+25r0qzeomFTellEBNHePGA1Wjr/MDvT7SN5F2ZD6TXaMPwskffD9o/0OrG0V1X0/bBx8ZMcnirri4mk1wul2wPpO/MRSq8ZxByqL2YsverqNMAPMGHSl155RfplG8RjWtJrr0QLrc+48aZGNgKNOUivv5SRnUBjdsr9uLGtwPO20ZUW8QwCgWeTqtjBsX5FEz7Uvqiofb6IT2klDxhSCdS6aazpBBqj8kD1QanQBNJy8hBZmStbaT05CD/ChHdpRVkW1AqNsvPihlyg+ZDWdEeHXqAxdWlVaWYcCo0i763PItBspHXdeONRaNT4p6TeTBo1ns2US6Eac8ol0BglOY0ln8KBtLaEAZ9CI60tgVGgjteU3OdOM5JWF8NmSWNUWNMdp0KjILTYZBVoltL6arWAV6EC39QqEVPOTFofy9k3zUpaH+9+HyN/vtgzK5Q3phNmhR1pgaw+W4x8yI1bofyGyK2wLS2QXaF8eYZXaMvvf0vlLQ19SuYe+d3ii1mh/I6PrNKrjLzXRlJC8wR5z7vOK/BLWh9rPDhGQUyYJTl6Q0P9N+92oSEkzGtM5Q0Ns6k5SquLYUpxJygIJtZ44xg6ir8YExdKar9CPoVTaW0XYB1OEOTd7oQ/XALV1Ao3uBTKn36vMNmak7SuG0w5RPkQzQ2WBJSCtFMKDoUanO4bDHnSnrSmDJW6tkHIB2juIa9PnEsrykHWEpSgsQ+R9iSsqAL6BqV7quPUlIXwU5RPOBVDVjykIcBWDFHsVF1DUIo2hUAFZVBPIJD4Jq2hBOt6Wp3to2kszY1eI3NjbbMvat0mMqCbhBauDDfB+qgKMmkZ+q1o8HncnVa52HvniBCYC1q0j6fv47E3nYcS+ZnMFLbcWQf8GN+zKoL0IK3Tiye7rTe51vRV1ldugGI3h+wX2MhX5g5eFtYID4WLzDV/NCsHGXu5o0Sx5zB5ybG4X6wv/v+54p5mVCUvNc5Z0ObDrtsF/3by9LmM899KWDKJYNbO/87TsNaRN5cRliXti+Lw4aPRkN/TZcFRfv3gp//B6fZUmAE1Kw4/dNqbt1Q47ms2agXFP1khaX5gM6vVyp+eW4Nm8+ny+pXK5CZMkcaqztgn/kupan0Xa0Jd/wC0jgxwGiFVHQxPEVahB9fYgA1625KHG8GD5g4gD6QDTkHuiAViju6TqOKDbLQwWQ/aYEAXsYKYY1R64uu2sGNDSN2bPXIRZyajom39QhBhjllXCA2qbbHFbjwPMsavcfYB9pZ/lq7oDfuOZjj1xqNNVN9MxwOi7miyowZ3sToeol2Ruc7ZBqLwOHdHhQ0kWTjmZm07SFLF3G0/dhA0Dal+hMbs7RXylVbSYP0lKjakCdbmdC+toBTLPZG5I4YCy8AU63gdGhZ2CnVvFQlWGwZjGT4dVqUb79Krr4SNQvw9Dq/E4jVlnpBEhUXfieVNDq/CoqafvvCXB3SQna1ThBp01E29T3oFXcThgENzAauQd14gJcgPkXleICXID9EJly0B6bgxz4OgZIdTyD1NjxJcZp971hwluGiN9KohoEyNI253Asr5Vh4ovQcV+2YeTEoMRqHenFoRmNKMb+lFg0BUiDtzdEpA9H0TpbZfBeJSGoe80hjEdkHSpPU6EJ3fDvndMYjKE3cO+D8grhjgnhZIDfx04daGj9ny3QnSJMBDNS6dDmPgJ0TpFUOBtwxJrxgKeOKSY24pwjF1KFiaAI5jsN0WxwX4FjoHykzuARed/H6FrDM7OQDPAfUK1QE+AnuF6vj9CsHf4e/fLRwLJmL6Z6RXDAU+zdWFytI08BPww9EJSoHHaRyLJk7AAv+DmLdj2wWmYj83gkY1mGIMN2q8ryAE8t7VTA2u7Et61RBwxewOFWMgR3875Jpiy6BLBiDpAd365EzcG3+HAvEEay5s2p330ouvhE2PpRPGxu6SCAeqamyvhFJfg2k/ElT5KYpirrJq/zQ3jhJFR2+fJdmAGqV9CSfCscNLjZE34nv11BXyDcin7jXrmp5jfqorCeG7jkKpWYtxanJQH4iOc9n2NkP+odCNTtie11/OvDXsa7shyePxeDwej8fj8Vz4C1b2gkr4izi5AAAAAElFTkSuQmCC"},c17f:function(t,e,a){"use strict";a("1936")},c426:function(t,e,a){"use strict";a("4924")},c49c:function(t,e,a){"use strict";a("c581")},c581:function(t,e,a){},cbe8:function(t,e,a){"use strict";a("d24b")},cea4:function(t,e,a){"use strict";a("ee22")},cef5:function(t,e,a){},d00f:function(t,e,a){"use strict";a("3f8a")},d12d:function(t,e,a){"use strict";a("52a8")},d1e5:function(t,e,a){"use strict";a("bd2b")},d24b:function(t,e,a){},d525:function(t,e,a){},daf4:function(t,e,a){"use strict";a("3785")},ea27:function(t,e,a){},eaf9:function(t,e,a){"use strict";a("4090")},ebea:function(t,e,a){},ee22:function(t,e,a){},ef3b:function(t,e,a){},f282:function(t,e,a){"use strict";a("94c8")},f2f1:function(t,e,a){"use strict";a("91e9")},f5f6:function(t,e,a){},f72d:function(t,e,a){"use strict";a("d525")},f7f4:function(t,e,a){},fb92:function(t,e,a){},fc5c:function(t,e,a){},fcb6:function(t,e,a){t.exports=a.p+"img/app_logo.917ec86d.png"}});
//# sourceMappingURL=app.e90aa2a8.js.map